
<!doctype html>
<html lang="en" class="no-js">
  <head>
    

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://opensciencegrid.org/technology/software/osg-build-tools/">
      
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>OSG Build Tools - OSG Technology Area</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f0267088.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#osg-build-tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://opensciencegrid.org/technology/" title="OSG Technology Area" class="md-header-nav__button md-logo" aria-label="OSG Technology Area">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            OSG Technology Area
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              OSG Build Tools
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/opensciencegrid/technology/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://opensciencegrid.org/technology/" title="OSG Technology Area" class="md-nav__button md-logo" aria-label="OSG Technology Area">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    OSG Technology Area
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/opensciencegrid/technology/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Software
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" checked>
    
    <label class="md-nav__link" for="nav-2-1">
      Packaging
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Packaging" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon"></span>
        Packaging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rpm-development-guide/" class="md-nav__link">
      RPM Development Guide
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        OSG Build Tools
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      OSG Build Tools
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-tools" class="md-nav__link">
    The tools
  </a>
  
    <nav class="md-nav" aria-label="The tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osg-build" class="md-nav__link">
    osg-build
  </a>
  
    <nav class="md-nav" aria-label="osg-build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    Tasks
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#koji" class="md-nav__link">
    koji
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lint" class="md-nav__link">
    lint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mock" class="md-nav__link">
    mock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prebuild" class="md-nav__link">
    prebuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare" class="md-nav__link">
    prepare
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpmbuild" class="md-nav__link">
    rpmbuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quilt" class="md-nav__link">
    quilt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-help" class="md-nav__link">
    --help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-version" class="md-nav__link">
    --version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-options" class="md-nav__link">
    Common Options
  </a>
  
    <nav class="md-nav" aria-label="Common Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-a-autoclean-no-autoclean" class="md-nav__link">
    -a, --autoclean, --no-autoclean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-c-cache-prefix-prefix" class="md-nav__link">
    -c, --cache-prefix prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-el6-el7-redhat-release-version-config-redhat_release" class="md-nav__link">
    --el6, --el7, --redhat-release version (Config: redhat_release)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-loglevel-loglevel" class="md-nav__link">
    --loglevel loglevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-q-quiet" class="md-nav__link">
    -q, --quiet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-v-verbose" class="md-nav__link">
    -v, --verbose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-w-working-directory-path" class="md-nav__link">
    -w, --working-directory path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-prebuild-task" class="md-nav__link">
    Options specific to prebuild task
  </a>
  
    <nav class="md-nav" aria-label="Options specific to prebuild task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-full-extract" class="md-nav__link">
    --full-extract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-rpmbuild-and-mock-tasks" class="md-nav__link">
    Options specific to rpmbuild and mock tasks
  </a>
  
    <nav class="md-nav" aria-label="Options specific to rpmbuild and mock tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-distro-tag-dist" class="md-nav__link">
    --distro-tag dist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-t-target-arch-arch" class="md-nav__link">
    -t, --target-arch arch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-mock-task" class="md-nav__link">
    Options specific to mock task
  </a>
  
    <nav class="md-nav" aria-label="Options specific to mock task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-mock-clean-no-mock-clean" class="md-nav__link">
    --mock-clean, --no-mock-clean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-m-mock-config-path" class="md-nav__link">
    -m, --mock-config path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-mock-config-from-koji-build-tag" class="md-nav__link">
    --mock-config-from-koji build tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-koji-task" class="md-nav__link">
    Options specific to koji task
  </a>
  
    <nav class="md-nav" aria-label="Options specific to koji task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-dry-run" class="md-nav__link">
    --dry-run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-getfiles-get-files" class="md-nav__link">
    --getfiles, --get-files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-k-kojilogin-koji-login-login" class="md-nav__link">
    -k, --kojilogin, --koji-login login
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-target-target" class="md-nav__link">
    --koji-target target
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-tag-tag" class="md-nav__link">
    --koji-tag tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ktt-koji-tag-and-target-arg" class="md-nav__link">
    --ktt, --koji-tag-and-target arg
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-wrapper-no-koji-wrapper" class="md-nav__link">
    --koji-wrapper, --no-koji-wrapper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-backend-backend" class="md-nav__link">
    --koji-backend backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-wait-no-wait-nowait" class="md-nav__link">
    --wait, --no-wait, --nowait
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-regen-repos" class="md-nav__link">
    --regen-repos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-scratch-no-scratch" class="md-nav__link">
    --scratch, --no-scratch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-vcs-no-vcs-svn-no-svn" class="md-nav__link">
    --vcs, --no-vcs, --svn, --no-svn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-repodestination-repository-upcoming" class="md-nav__link">
    --repo=destination repository, --upcoming
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#koji-tag-diff" class="md-nav__link">
    koji-tag-diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-build-test" class="md-nav__link">
    osg-build-test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-import-srpm" class="md-nav__link">
    osg-import-srpm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-koji" class="md-nav__link">
    osg-koji
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-promote" class="md-nav__link">
    osg-promote
  </a>
  
    <nav class="md-nav" aria-label="osg-promote">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_1" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synopsis" class="md-nav__link">
    Synopsis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    Arguments
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-h" class="md-nav__link">
    -h
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#package-or-build" class="md-nav__link">
    package or build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-r-route-route-route" class="md-nav__link">
    -r ROUTE, --route ROUTE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-n-dry-run" class="md-nav__link">
    -n, --dry-run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-el6-only-el7-only" class="md-nav__link">
    --el6-only / --el7-only
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-no-el6-no-el7" class="md-nav__link">
    --no-el6 / --no-el7
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ignore-rejects" class="md-nav__link">
    --ignore-rejects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-regen" class="md-nav__link">
    --regen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-y-assume-yes" class="md-nav__link">
    -y, --assume-yes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-usage-patterns" class="md-nav__link">
    Common Usage Patterns
  </a>
  
    <nav class="md-nav" aria-label="Common Usage Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-that-all-files-necessary-to-build-the-package-are-in-the-right-place" class="md-nav__link">
    Verify that all files necessary to build the package are in the right place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-and-extract-all-source-files-for-examination" class="md-nav__link">
    Fetch and extract all source files for examination
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-post-patch-version-of-the-upstream-sources-for-examination" class="md-nav__link">
    Get a post-patch version of the upstream sources for examination
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#see-which-patches-work-with-a-new-version-of-a-package-update-or-remove-them" class="md-nav__link">
    See which patches work with a new version of a package, update or remove them
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#see-if-a-package-builds-successfully-for-osg-34" class="md-nav__link">
    See if a package builds successfully for OSG 3.4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-for-potential-errors-in-a-package" class="md-nav__link">
    Check for potential errors in a package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-and-test-a-final-build-of-a-package-for-all-platforms-for-upcoming" class="md-nav__link">
    Create and test a final build of a package for all platforms for upcoming
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promote-the-latest-build-of-a-package-to-testing-for-the-current-osg-release-series" class="md-nav__link">
    Promote the latest build of a package to testing for the current OSG release series
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promote-the-latest-build-of-a-package-to-testing-for-the-33-and-34-release-series" class="md-nav__link">
    Promote the latest build of a package to testing for the 3.3 and 3.4 release series
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quilt/" class="md-nav__link">
      Using Quilt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upcoming-to-main/" class="md-nav__link">
      Upcoming to Main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../koji-workflow/" class="md-nav__link">
      Koji Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-vo-client/" class="md-nav__link">
      Creating the VO Client Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../container-development-guide/" class="md-nav__link">
      Container Development Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository-management/" class="md-nav__link">
      Repository Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../globus-mass-update-procedure/" class="md-nav__link">
      Globus Mass Update Procedure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resurrecting-epel-packages/" class="md-nav__link">
      Resurrecting Epel Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../koji-mass-rebuilds/" class="md-nav__link">
      Koji Mass Rebuilds
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Development
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon"></span>
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../development-process/" class="md-nav__link">
      Development Process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../git-software-development/" class="md-nav__link">
      Git Software Development Process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ce-test-scaling/" class="md-nav__link">
      CE Scale Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ipv6-testing/" class="md-nav__link">
      IPv6 Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../requesting-tokens/" class="md-nav__link">
      How to Request Tokens
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/software-support/" class="md-nav__link">
      Software Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../effort-tracking/" class="md-nav__link">
      Effort Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-planning/" class="md-nav__link">
      Release Planning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../new-team-member/" class="md-nav__link">
      New Team Member
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Release
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Release" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Release
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/cut-sw-release/" class="md-nav__link">
      How to Cut a Release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/cut-data-release/" class="md-nav__link">
      How to Cut a Data Release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/announce-rft-packages/" class="md-nav__link">
      Ready for Testing Announcements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/new-release-series/" class="md-nav__link">
      New Release Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/old-release-removal/" class="md-nav__link">
      Old Release Series Removal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/itb-testing/" class="md-nav__link">
      ITB Prerelease Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/empty-pkgs/" class="md-nav__link">
      Empty Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/acceptance-testing/" class="md-nav__link">
      Acceptance Testing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Policy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Policy" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Policy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/gridftp-gsi-migration/" class="md-nav__link">
      GridFTP and GSI Migration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/campus-cyberinfrastructure/" class="md-nav__link">
      Campus Cyberinfrastructure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/cream-support/" class="md-nav__link">
      CREAM-CE Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/release-series/" class="md-nav__link">
      Release Series Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/globus-toolkit/" class="md-nav__link">
      Globus Toolkit Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/external-oasis-repos/" class="md-nav__link">
      OASIS Repository Mirroring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/flexible-release-model/" class="md-nav__link">
      Flexible Release Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/software-release/" class="md-nav__link">
      Software Release Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/container-release/" class="md-nav__link">
      Container Release Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/community-testing/" class="md-nav__link">
      Community Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/comanage-instructions-user/" class="md-nav__link">
      Registering with the OSG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/comanage-instructions-admin/" class="md-nav__link">
      Approving COManage Registrations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Documentation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Documentation" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/writing-documentation/" class="md-nav__link">
      Writing Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/reviewing-documentation/" class="md-nav__link">
      Reviewing Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/style-guide/" class="md-nav__link">
      Markdown Style Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/new-doc-area/" class="md-nav__link">
      Creating a New Area
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Historical Transitions
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Historical Transitions" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Historical Transitions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/service-migrations-spring-2018/" class="md-nav__link">
      Service Migrations - Spring 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/gums-retire/" class="md-nav__link">
      GUMS Retirement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/bestman2-retire/" class="md-nav__link">
      BeStMan2 Retirement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/voms-admin-retire/" class="md-nav__link">
      VOMS Admin Retirement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/sha2-support/" class="md-nav__link">
      SHA-2 Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/markdown-migration/" class="md-nav__link">
      Migrating Documents to Markdown
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Meetings
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Meetings" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Meetings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201109/" class="md-nav__link">
      November 9, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201102/" class="md-nav__link">
      November 2, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201026/" class="md-nav__link">
      October 26, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201019/" class="md-nav__link">
      October 19, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201012/" class="md-nav__link">
      October 12, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201005/" class="md-nav__link">
      October 5, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200928/" class="md-nav__link">
      September 28, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200914/" class="md-nav__link">
      September 14, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200824/" class="md-nav__link">
      August 24, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200817/" class="md-nav__link">
      August 17, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200810/" class="md-nav__link">
      August 10, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200803/" class="md-nav__link">
      August 3, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200727/" class="md-nav__link">
      July 27, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200720/" class="md-nav__link">
      July 20, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200713/" class="md-nav__link">
      July 13, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200706/" class="md-nav__link">
      July 6, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200629/" class="md-nav__link">
      June 29, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200622/" class="md-nav__link">
      June 22, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200615/" class="md-nav__link">
      June 15, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200608/" class="md-nav__link">
      June 8, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200601/" class="md-nav__link">
      June 1, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200518/" class="md-nav__link">
      May 18, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200511/" class="md-nav__link">
      May 11, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200504/" class="md-nav__link">
      May 4, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200427/" class="md-nav__link">
      April 27, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200420/" class="md-nav__link">
      April 20, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200413/" class="md-nav__link">
      April 13, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200406/" class="md-nav__link">
      April 6, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200330/" class="md-nav__link">
      March 30, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200323/" class="md-nav__link">
      March 23, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200316/" class="md-nav__link">
      March 16, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200309/" class="md-nav__link">
      March 9, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200302/" class="md-nav__link">
      March 2, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200224/" class="md-nav__link">
      February 24, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200217/" class="md-nav__link">
      February 17, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200210/" class="md-nav__link">
      February 10, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200203/" class="md-nav__link">
      February 3, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200127/" class="md-nav__link">
      January, 27 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200113/" class="md-nav__link">
      January, 13 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200106/" class="md-nav__link">
      January, 6 2020
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-tools" class="md-nav__link">
    The tools
  </a>
  
    <nav class="md-nav" aria-label="The tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osg-build" class="md-nav__link">
    osg-build
  </a>
  
    <nav class="md-nav" aria-label="osg-build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    Tasks
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#koji" class="md-nav__link">
    koji
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lint" class="md-nav__link">
    lint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mock" class="md-nav__link">
    mock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prebuild" class="md-nav__link">
    prebuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare" class="md-nav__link">
    prepare
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpmbuild" class="md-nav__link">
    rpmbuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quilt" class="md-nav__link">
    quilt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-help" class="md-nav__link">
    --help
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-version" class="md-nav__link">
    --version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-options" class="md-nav__link">
    Common Options
  </a>
  
    <nav class="md-nav" aria-label="Common Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-a-autoclean-no-autoclean" class="md-nav__link">
    -a, --autoclean, --no-autoclean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-c-cache-prefix-prefix" class="md-nav__link">
    -c, --cache-prefix prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-el6-el7-redhat-release-version-config-redhat_release" class="md-nav__link">
    --el6, --el7, --redhat-release version (Config: redhat_release)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-loglevel-loglevel" class="md-nav__link">
    --loglevel loglevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-q-quiet" class="md-nav__link">
    -q, --quiet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-v-verbose" class="md-nav__link">
    -v, --verbose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-w-working-directory-path" class="md-nav__link">
    -w, --working-directory path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-prebuild-task" class="md-nav__link">
    Options specific to prebuild task
  </a>
  
    <nav class="md-nav" aria-label="Options specific to prebuild task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-full-extract" class="md-nav__link">
    --full-extract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-rpmbuild-and-mock-tasks" class="md-nav__link">
    Options specific to rpmbuild and mock tasks
  </a>
  
    <nav class="md-nav" aria-label="Options specific to rpmbuild and mock tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-distro-tag-dist" class="md-nav__link">
    --distro-tag dist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-t-target-arch-arch" class="md-nav__link">
    -t, --target-arch arch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-mock-task" class="md-nav__link">
    Options specific to mock task
  </a>
  
    <nav class="md-nav" aria-label="Options specific to mock task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-mock-clean-no-mock-clean" class="md-nav__link">
    --mock-clean, --no-mock-clean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-m-mock-config-path" class="md-nav__link">
    -m, --mock-config path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-mock-config-from-koji-build-tag" class="md-nav__link">
    --mock-config-from-koji build tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options-specific-to-koji-task" class="md-nav__link">
    Options specific to koji task
  </a>
  
    <nav class="md-nav" aria-label="Options specific to koji task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-dry-run" class="md-nav__link">
    --dry-run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-getfiles-get-files" class="md-nav__link">
    --getfiles, --get-files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-k-kojilogin-koji-login-login" class="md-nav__link">
    -k, --kojilogin, --koji-login login
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-target-target" class="md-nav__link">
    --koji-target target
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-tag-tag" class="md-nav__link">
    --koji-tag tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ktt-koji-tag-and-target-arg" class="md-nav__link">
    --ktt, --koji-tag-and-target arg
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-wrapper-no-koji-wrapper" class="md-nav__link">
    --koji-wrapper, --no-koji-wrapper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-koji-backend-backend" class="md-nav__link">
    --koji-backend backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-wait-no-wait-nowait" class="md-nav__link">
    --wait, --no-wait, --nowait
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-regen-repos" class="md-nav__link">
    --regen-repos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-scratch-no-scratch" class="md-nav__link">
    --scratch, --no-scratch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-vcs-no-vcs-svn-no-svn" class="md-nav__link">
    --vcs, --no-vcs, --svn, --no-svn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-repodestination-repository-upcoming" class="md-nav__link">
    --repo=destination repository, --upcoming
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#koji-tag-diff" class="md-nav__link">
    koji-tag-diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-build-test" class="md-nav__link">
    osg-build-test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-import-srpm" class="md-nav__link">
    osg-import-srpm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-koji" class="md-nav__link">
    osg-koji
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-promote" class="md-nav__link">
    osg-promote
  </a>
  
    <nav class="md-nav" aria-label="osg-promote">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_1" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synopsis" class="md-nav__link">
    Synopsis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    Arguments
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-h" class="md-nav__link">
    -h
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#package-or-build" class="md-nav__link">
    package or build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-r-route-route-route" class="md-nav__link">
    -r ROUTE, --route ROUTE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-n-dry-run" class="md-nav__link">
    -n, --dry-run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-el6-only-el7-only" class="md-nav__link">
    --el6-only / --el7-only
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-no-el6-no-el7" class="md-nav__link">
    --no-el6 / --no-el7
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ignore-rejects" class="md-nav__link">
    --ignore-rejects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-regen" class="md-nav__link">
    --regen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-y-assume-yes" class="md-nav__link">
    -y, --assume-yes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-usage-patterns" class="md-nav__link">
    Common Usage Patterns
  </a>
  
    <nav class="md-nav" aria-label="Common Usage Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-that-all-files-necessary-to-build-the-package-are-in-the-right-place" class="md-nav__link">
    Verify that all files necessary to build the package are in the right place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-and-extract-all-source-files-for-examination" class="md-nav__link">
    Fetch and extract all source files for examination
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-post-patch-version-of-the-upstream-sources-for-examination" class="md-nav__link">
    Get a post-patch version of the upstream sources for examination
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#see-which-patches-work-with-a-new-version-of-a-package-update-or-remove-them" class="md-nav__link">
    See which patches work with a new version of a package, update or remove them
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#see-if-a-package-builds-successfully-for-osg-34" class="md-nav__link">
    See if a package builds successfully for OSG 3.4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-for-potential-errors-in-a-package" class="md-nav__link">
    Check for potential errors in a package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-and-test-a-final-build-of-a-package-for-all-platforms-for-upcoming" class="md-nav__link">
    Create and test a final build of a package for all platforms for upcoming
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promote-the-latest-build-of-a-package-to-testing-for-the-current-osg-release-series" class="md-nav__link">
    Promote the latest build of a package to testing for the current OSG release series
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promote-the-latest-build-of-a-package-to-testing-for-the-33-and-34-release-series" class="md-nav__link">
    Promote the latest build of a package to testing for the 3.3 and 3.4 release series
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/technology/edit/master/docs/software/osg-build-tools.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="osg-build-tools">OSG Build Tools<a class="headerlink" href="#osg-build-tools" title="Permanent link">&para;</a></h1>
<p>This page documents the tools used for RPM development for the OSG Software Stack. See <a href="../rpm-development-guide/">the RPM development guide</a> for the principles on which these tools are based.</p>
<p>The tools are distributed in the <code>osg-build</code> RPM in our repositories, but can also be used from a Git clone of <a href="https://github.com/opensciencegrid/osg-build">opensciencegrid/osg-build on GitHub</a>.</p>
<p>This page is up-to-date as of <code>osg-build</code> version 1.14.1.</p>
<h2 id="the-tools">The tools<a class="headerlink" href="#the-tools" title="Permanent link">&para;</a></h2>
<h3 id="osg-build">osg-build<a class="headerlink" href="#osg-build" title="Permanent link">&para;</a></h3>
<h4 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h4>
<p>This is the primary tool used in building source and binary RPMs.</p>
<blockquote>
<p><code>osg-build &lt;TASK&gt; [options] &lt;PACKAGE DIRECTORY&gt; [...]</code></p>
</blockquote>
<p><em>package_directory</em> is a directory containing an <code>osg/</code> and/or an <code>upstream/</code> subdirectory. See <a href="../rpm-development-guide/">the RPM development guide</a> for how these directories are organized.</p>
<h4 id="tasks">Tasks<a class="headerlink" href="#tasks" title="Permanent link">&para;</a></h4>
<h5 id="koji">koji<a class="headerlink" href="#koji" title="Permanent link">&para;</a></h5>
<p>Prebuilds the final source package, then builds it remotely using the Koji instance hosted at UW-Madison. <a href="https://koji.opensciencegrid.org">https://koji.opensciencegrid.org</a> By default, the resulting RPMs will end up in the osg-minefield repositories based on the most recent OSG major version (e.g. 3.4). You may specify a different set of repos with <code>--repo</code>, described later. RPMs from the osg-minefield repositories are regularly pulled to the osg-development repositories hosted by the GOC at <a href="http://repo.opensciencegrid.org">http://repo.opensciencegrid.org</a> Unless you specify otherwise (by passing <code>--el6</code>, <code>--el7</code> or specifying a different koji tag/target), the package will be built for both el6 and el7. This is the method used to build final versions of packages you expect to ship.</p>
<h5 id="lint">lint<a class="headerlink" href="#lint" title="Permanent link">&para;</a></h5>
<p>Prebuilds the final source package, then runs <code>rpmlint</code> on it to check for various problems. You will need to have <code>rpmlint</code> installed. People on UW CSL machines should add <code>/p/vdt/workspace/rpmlint</code> to their $PATH.</p>
<h5 id="mock">mock<a class="headerlink" href="#mock" title="Permanent link">&para;</a></h5>
<p>Prebuilds the final source package, then builds it locally using <code>mock</code>, and stores the resulting source and binary RPMs in the package-specific <code>_build_results</code> directory.</p>
<h5 id="prebuild">prebuild<a class="headerlink" href="#prebuild" title="Permanent link">&para;</a></h5>
<p>Prebuilds the final source package from upstream sources (if any) and local files (if any). May create or overwrite the <code>_upstream_srpm_contents</code> and <code>_final_srpm_contents</code> directories.</p>
<h5 id="prepare">prepare<a class="headerlink" href="#prepare" title="Permanent link">&para;</a></h5>
<p>Prebuilds the final source package, then calls <code>rpmbuild -bp</code> on the result, extracting and patching the source files (and performing any other steps defined in the <code>%prep</code> section of the spec file. The resulting sources will be under <code>_final_srpm_contents</code>.</p>
<h5 id="rpmbuild">rpmbuild<a class="headerlink" href="#rpmbuild" title="Permanent link">&para;</a></h5>
<p>Prebuilds the final source package, then builds it locally using <code>rpmbuild</code>, and stores the resulting source and binary RPMs in the package-specific <code>_build_results</code> directory.</p>
<h5 id="quilt">quilt<a class="headerlink" href="#quilt" title="Permanent link">&para;</a></h5>
<p>Collects the upstream local sources and spec file, then calls <code>quilt setup</code> on the spec file, extracting the source files and adding the patches to a quilt series file. See <a href="http://www.shakthimaan.com/downloads/glv/quilt-tutorial/quilt-doc.pdf">Quilt documentation (PDF link)</a> for more information on quilt; also look at the example in the Usage Patterns section below. Similar to <code>prepare</code> (in fact, <code>quilt</code> calls <code>rpmbuild -bp</code> behind the scenes), but the source tree is in pre-patch state, and various quilt commands can be used to apply and modify patches. Unpacks into <code>_quilt</code> as of <code>osg-build-1.2.2</code> or <code>_final_srpm_contents</code> in previous versions. Requires <code>quilt</code>. People on UW CSL machines should add <code>/p/vdt/workspace/quilt/bin</code> to their <code>$PATH</code>, and <code>/p/vdt/workspace/quilt/share/man</code> to their <code>$MANPATH</code>.</p>
<h4 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h4>
<p>This section lists the command-line options.</p>
<h5 id="-help">--help<a class="headerlink" href="#-help" title="Permanent link">&para;</a></h5>
<p>Prints the built-in usage information and exits without doing anything else.</p>
<h5 id="-version">--version<a class="headerlink" href="#-version" title="Permanent link">&para;</a></h5>
<p>Prints the version of <code>osg-build</code> and exits without doing anything else.</p>
<h4 id="common-options">Common Options<a class="headerlink" href="#common-options" title="Permanent link">&para;</a></h4>
<h5 id="-a-autoclean-no-autoclean">-a, --autoclean, --no-autoclean<a class="headerlink" href="#-a-autoclean-no-autoclean" title="Permanent link">&para;</a></h5>
<p>Before each build, clean out the contents of the underscore directories (_build_results, _final_srpm_contents, _upstream_srpm_contents, _upstream_tarball_contents). If the directories are not cleaned up, earlier builds of a package may interfere with later ones. <code>--no-autoclean</code> will disable this.</p>
<p>Default is <code>true</code>.</p>
<p>Has no effect with the <code>--vcs</code> flag.</p>
<h5 id="-c-cache-prefix-prefix">-c, --cache-prefix <em>prefix</em><a class="headerlink" href="#-c-cache-prefix-prefix" title="Permanent link">&para;</a></h5>
<p>Sets the <em>prefix</em> for upstream source cache references. The prefix must be a valid URI starting with either <code>http</code>, <code>https</code>, or <code>file</code>, or one of the following special values:</p>
<ul>
<li>AFS (corresponds to <code>file:///p/vdt/public/html/upstream</code>, which is the location of the VDT cache using AFS from a UW CS machine).</li>
<li>VDT (corresponds to <code>http://vdt.cs.wisc.edu/upstream</code>, which is the location of the VDT cache from off-site).</li>
<li>AUTO (AFS if available, VDT if not)</li>
</ul>
<p>The upstream source cache must be organized as described above. All files referenced by <code>.source</code> files in the affected packages must exist in the cache, or a runtime error will occur.</p>
<p>Default is <code>AUTO</code>.</p>
<p>Has no effect with the <code>--vcs</code> flag.</p>
<h5 id="-el6-el7-redhat-release-version-config-redhat_release">--el6, --el7, --redhat-release <em>version</em> (Config: redhat_release)<a class="headerlink" href="#-el6-el7-redhat-release-version-config-redhat_release" title="Permanent link">&para;</a></h5>
<p>Sets the distro version to build for. This affects the %dist tag, the mock config, and the default koji tag and target (unless otherwise specified).</p>
<p><code>--el6</code> is equivalent to <code>--redhat-release 6</code></p>
<p><code>--el7</code> is equivalent to <code>--redhat-release 7</code></p>
<h5 id="-loglevel-loglevel">--loglevel <em>loglevel</em><a class="headerlink" href="#-loglevel-loglevel" title="Permanent link">&para;</a></h5>
<p>Sets the verbosity of the script. Valid values are: <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code> and <code>critical</code>.</p>
<p>Default is <code>info</code>.</p>
<h5 id="-q-quiet">-q, --quiet<a class="headerlink" href="#-q-quiet" title="Permanent link">&para;</a></h5>
<p>Do not display as much information. Equivalent to <code>--loglevel warning</code></p>
<h5 id="-v-verbose">-v, --verbose<a class="headerlink" href="#-v-verbose" title="Permanent link">&para;</a></h5>
<p>Display more information. Equivalent to <code>--loglevel debug</code></p>
<h5 id="-w-working-directory-path">-w, --working-directory <em>path</em><a class="headerlink" href="#-w-working-directory-path" title="Permanent link">&para;</a></h5>
<p>Use <em>path</em> as the root directory of the files created by the script. For example, if <em>path</em> is <code>$HOME/working</code>, and the package being built is <code>ndt</code>, the following tree will be created:</p>
<ul>
<li>$HOME/working/ndt/_upstream_srpm_contents</li>
<li>$HOME/working/ndt/_upstream_tarball_contents</li>
<li>$HOME/working/ndt/_final_srpm_contents</li>
<li>$HOME/working/ndt/_build_results</li>
</ul>
<p>If <em>path</em> is <code>TEMP</code>, a randomly named directory under <code>/tmp</code> is used as the working directory.</p>
<p>The default setting is to use the package directory as the working directory.</p>
<p>Has no effect with the <code>--vcs</code> flag.</p>
<h4 id="options-specific-to-prebuild-task">Options specific to prebuild task<a class="headerlink" href="#options-specific-to-prebuild-task" title="Permanent link">&para;</a></h4>
<h5 id="-full-extract">--full-extract<a class="headerlink" href="#-full-extract" title="Permanent link">&para;</a></h5>
<p>If set, all upstream tarballs will be extracted into <code>_upstream_tarball_contents/</code> during the prebuild step. This flag is now mostly redundant with the <code>prepare</code> and <code>quilt</code> tasks.</p>
<h4 id="options-specific-to-rpmbuild-and-mock-tasks">Options specific to rpmbuild and mock tasks<a class="headerlink" href="#options-specific-to-rpmbuild-and-mock-tasks" title="Permanent link">&para;</a></h4>
<h5 id="-distro-tag-dist">--distro-tag <em>dist</em><a class="headerlink" href="#-distro-tag-dist" title="Permanent link">&para;</a></h5>
<p>Sets the distribution tag added on to the end of the release in the RPM ( <code>rpmbuild</code> and <code>mock</code> tasks only ).</p>
<p>Default is <code>.osg.el6</code> or <code>.osg.el7</code></p>
<h5 id="-t-target-arch-arch">-t, --target-arch <em>arch</em><a class="headerlink" href="#-t-target-arch-arch" title="Permanent link">&para;</a></h5>
<p>Specify an architecture to build packages for ( <code>rpmbuild</code> and <code>mock</code> tasks only ).</p>
<p>Default is unspecified, which builds for the current machine architecture.</p>
<h4 id="options-specific-to-mock-task">Options specific to mock task<a class="headerlink" href="#options-specific-to-mock-task" title="Permanent link">&para;</a></h4>
<h5 id="-mock-clean-no-mock-clean">--mock-clean, --no-mock-clean<a class="headerlink" href="#-mock-clean-no-mock-clean" title="Permanent link">&para;</a></h5>
<p>Enable/disable deletion of the mock buildroot after a successful build.</p>
<p>Default is <code>true</code>.</p>
<h5 id="-m-mock-config-path">-m, --mock-config <em>path</em><a class="headerlink" href="#-m-mock-config-path" title="Permanent link">&para;</a></h5>
<p>Specifies the <code>mock</code> configuration file to use. This file details how to set up the build environment used by mock for the build, including Yum repositories from which to install dependencies and certain predefined variables (e.g., the distribution tag <code>%dist</code>).</p>
<p>See also <code>--mock-config-from-koji</code>.</p>
<h5 id="-mock-config-from-koji-build-tag">--mock-config-from-koji <em>build tag</em><a class="headerlink" href="#-mock-config-from-koji-build-tag" title="Permanent link">&para;</a></h5>
<p>Creates a mock config from a Koji build tag. This is the most accurate way to replicate the build environment that Koji will provide (outside of Koji). The build tag is based on the distro version (el6, el7) and the OSG major version (3.3, 3.4). For 3.4 on el6, it is: <code>osg-3.4-el6-build</code> Also requires the Koji command-line tools (package <code>koji</code>), obtainable from the osg repositories. Since this uses koji, some of the koji-specific options may apply, namely: <code>--koji-backend</code>, <code>--koji-login</code>, and <code>--koji-wrapper</code>.</p>
<h4 id="options-specific-to-koji-task">Options specific to koji task<a class="headerlink" href="#options-specific-to-koji-task" title="Permanent link">&para;</a></h4>
<h5 id="-dry-run">--dry-run<a class="headerlink" href="#-dry-run" title="Permanent link">&para;</a></h5>
<p>Do not actually run koji, merely show the command(s) that will be run. For debugging purposes.</p>
<h5 id="-getfiles-get-files">--getfiles, --get-files<a class="headerlink" href="#-getfiles-get-files" title="Permanent link">&para;</a></h5>
<p>For scratch builds without <code>--vcs</code> only. Download the resulting RPMs and logs from the build into the <code>_build_results</code> directory.</p>
<h5 id="-k-kojilogin-koji-login-login">-k, --kojilogin, --koji-login <em>login</em><a class="headerlink" href="#-k-kojilogin-koji-login-login" title="Permanent link">&para;</a></h5>
<p>Sets the login to use for the koji task. This should most likely be your CN. If not specified, will extract it from your client cert (<code>~/.osg-koji/client.crt</code> or <code>~/.koji/client.crt</code>).</p>
<h5 id="-koji-target-target">--koji-target <em>target</em><a class="headerlink" href="#-koji-target-target" title="Permanent link">&para;</a></h5>
<p>The koji target to use for building.</p>
<p>Default is <code>osg-el6</code> for el6 and <code>osg-el7</code> for el7.</p>
<h5 id="-koji-tag-tag">--koji-tag <em>tag</em><a class="headerlink" href="#-koji-tag-tag" title="Permanent link">&para;</a></h5>
<p>The koji tag to add packages to. See the <a href="../koji-workflow/">Koji Workflow guide</a> for more information on the terminology. The special value <code>TARGET</code> uses the destination tag defined in the koji target.</p>
<p>Default is <code>osg-el6</code> or <code>osg-el7</code>.</p>
<h5 id="-ktt-koji-tag-and-target-arg">--ktt, --koji-tag-and-target <em>arg</em><a class="headerlink" href="#-ktt-koji-tag-and-target-arg" title="Permanent link">&para;</a></h5>
<p>Shorthand for setting both --koji-tag and --koji-target to <em>arg</em>.</p>
<h5 id="-koji-wrapper-no-koji-wrapper">--koji-wrapper, --no-koji-wrapper<a class="headerlink" href="#-koji-wrapper-no-koji-wrapper" title="Permanent link">&para;</a></h5>
<p>Enable/disable use of the <code>osg-koji</code> wrapper script around koji. See below for a description of <code>osg-koji</code>.</p>
<p>Default is <code>true</code>.</p>
<h5 id="-koji-backend-backend">--koji-backend <em>backend</em><a class="headerlink" href="#-koji-backend-backend" title="Permanent link">&para;</a></h5>
<p>Specifies the method osg-build will use to interface with Koji. This can be <code>shell</code> or <code>kojilib</code>.</p>
<h5 id="-wait-no-wait-nowait">--wait, --no-wait, --nowait<a class="headerlink" href="#-wait-no-wait-nowait" title="Permanent link">&para;</a></h5>
<p>Wait for koji tasks to finish. Bad for running multiple builds in a single command, since you will have to type in your passphrase for the first one, wait for it to complete, then type in your passphrase for the second one, wait for it to complete, etc. If you want to wait for multiple tasks to finish, use the <code>koji watch-task</code> command or look at the website <a href="https://koji.opensciencegrid.org">https://koji.opensciencegrid.org</a>.</p>
<p><code>--wait</code> used to be the default until <code>osg-build-1.1.3</code></p>
<h5 id="-regen-repos">--regen-repos<a class="headerlink" href="#-regen-repos" title="Permanent link">&para;</a></h5>
<p>Start a <code>regen-repo</code> koji task on the build tag after each koji build, to update the build repository used for the next build. Not useful unless you are launching multiple builds. This enables you to launch builds that depend on each other. Doesn't work too well with <code>--no-wait</code>, since the next build may be started before the regen-repo task is complete. Waiting will keep the next build from being queued until the regen-repo is complete.</p>
<h5 id="-scratch-no-scratch">--scratch, --no-scratch<a class="headerlink" href="#-scratch-no-scratch" title="Permanent link">&para;</a></h5>
<p>Perform scratch builds. A scratch build does not go into a repository, but the name-version-release (NVR) of the created RPMs are not considered used, so the build may be modified and repeated without needing a release bump. This has the same use case as the mock task: creating packages that you want to test before releasing. If you do not have a machine with mock set up, or want to test exactly the environment that Koji provides, scratch builds might be more convenient.</p>
<h5 id="-vcs-no-vcs-svn-no-svn">--vcs, --no-vcs, --svn, --no-svn<a class="headerlink" href="#-vcs-no-vcs-svn-no-svn" title="Permanent link">&para;</a></h5>
<p>Have Koji check the package out from a version control system instead of creating an SRPM on the local machine and submitting that to Koji. Currently, SVN and Git are supported. If this flag is specified, you may use SVN URLs or URL@Revision pairs to specify the packages to build. You may continue specify package directories from an SVN checkout, in which case osg-build will use <code>svn info</code> to find the right URL@Revision pair to use and warn you about uncommitted changes. osg-build will also warn you about an outdated working directory.</p>
<p><code>--vcs</code> defaults to <code>true</code> for non-scratch builds, and <code>false</code> for scratch builds.</p>
<h5 id="-repodestination-repository-upcoming">--repo=<em>destination repository</em>, --upcoming<a class="headerlink" href="#-repodestination-repository-upcoming" title="Permanent link">&para;</a></h5>
<p>Selects the repositories (osg-3.3, upcoming, etc.) to build packages for. Currently valid repositories are:</p>
<table>
<thead>
<tr>
<th>Repository</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>osg</td>
<td>OSG Software development repos for trunk (this is the default)</td>
</tr>
<tr>
<td>osg-3.3 (or just 3.3)</td>
<td>OSG Software development repos for 3.3 branch</td>
</tr>
<tr>
<td>upcoming</td>
<td>OSG Software development repos for upcoming branch</td>
</tr>
<tr>
<td>internal</td>
<td>OSG Software internal branch</td>
</tr>
<tr>
<td>hcc</td>
<td>Holland Computing Center (Nebraska) testing repos</td>
</tr>
</tbody>
</table>
<p><code>--upcoming</code> is an alias for <code>--repo=upcoming</code></p>
<p>Note that the repo selection affects which VCS paths you are allowed to build from. For example, you are not allowed to build from branches/osg-3.3 (from the OSG SVN) into the 'osg' repo, or from HCC's git repositories into the 'upcoming' repo.</p>
<h3 id="koji-tag-diff">koji-tag-diff<a class="headerlink" href="#koji-tag-diff" title="Permanent link">&para;</a></h3>
<p>This script displays the differences between the latest packages in two koji tags.</p>
<p>Example invocation: <code>koji-tag-diff osg-3.4-el6-development osg-3.4-el7-testing</code></p>
<p>This prints the packages that are in osg-3.4-el6-development but not in osg-3.4-el7-testing, or vice versa.</p>
<h3 id="osg-build-test">osg-build-test<a class="headerlink" href="#osg-build-test" title="Permanent link">&para;</a></h3>
<p>This script runs automated tests for <code>osg-build</code>. Only a few tests have been implemented so far.</p>
<h3 id="osg-import-srpm">osg-import-srpm<a class="headerlink" href="#osg-import-srpm" title="Permanent link">&para;</a></h3>
<p>This is a script to fetch an SRPM from a remote site, copy it into the upstream cache on AFS, and create an SVN package dir (if needed) with an <code>upstream/*.source</code> file. By default it will put downloaded files into the VDT upstream cache (/p/vdt/public/html/upstream), but you can pass <code>--upstream-root=&lt;UPSTREAM DIR&gt;</code> to put them somewhere else. If called with the <code>--extract-spec</code> or <code>-e</code> argument, it will extract the spec file from the SRPM and place it into the <code>osg</code> subdir in SVN. If called with the <code>--diff-spec</code> or <code>-d</code> argument, it will extract the spec file and compare it to the existing spec file in the <code>osg</code> subdir. <strong>The script hasn't been touched in a while and needs a good deal of cleanup.</strong> A planned feature is to allow doing a three-way diff between the existing RPM before OSG modifications, the new RPM before OSG modifications and the existing RPM after OSG modifications.</p>
<h3 id="osg-koji">osg-koji<a class="headerlink" href="#osg-koji" title="Permanent link">&para;</a></h3>
<p>This is a wrapper script around the <code>koji</code> command line tool. It automatically specifies parameters to access the OSG's koji instance, and forces SSL authentication. It takes the same parameters as <code>koji</code> and passes them on.</p>
<p>An additional command, <code>osg-koji setup</code> exists, which performs the following tasks:</p>
<ol>
<li>Create a koji configuration in <code>~/.osg-koji</code></li>
<li>Create a CA bundle for verifying the server.
    Use either files in <code>/etc/grid-security/certificates</code>, or (if those are not found), from files downloaded from the DOEGrids and DigiCert sites.</li>
<li>Create a client cert file. This can be a symlink to your grid proxy, or it can be a file created from your grid public and private key files.
    The location of those files can be specified by the <code>--usercert</code> and <code>--userkey</code> arguments.
    If unspecified, <code>usercert</code> defaults to <code>~/.globus/usercert.pem</code>, and <code>userkey</code> defaults to <code>~/.globus/userkey.pem</code>.</li>
</ol>
<h3 id="osg-promote">osg-promote<a class="headerlink" href="#osg-promote" title="Permanent link">&para;</a></h3>
<h4 id="overview_1">Overview<a class="headerlink" href="#overview_1" title="Permanent link">&para;</a></h4>
<p>Run this script to push packages from one set of repos to another (e.g. from development to testing), according to the OSG software promotion guidelines.</p>
<p>Once the packages are promoted, the script will generate code to cut and paste into a JIRA comment.</p>
<h4 id="synopsis">Synopsis<a class="headerlink" href="#synopsis" title="Permanent link">&para;</a></h4>
<blockquote>
<p><code>osg-promote [-r|--route &lt;ROUTE&gt;]... [options] &lt;PACKAGE OR BUILD&gt; [...]</code></p>
</blockquote>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Promote the latest build of <code>osg-version</code> to testing for the current release series  </p>
<div class="codehilite"><pre><span></span><code>osg-promote -r testing osg-version
</code></pre></div>

</li>
<li>
<p>Promote the latest builds of <code>osg-ce</code> to testing for the 3.3 and 3.4 release series  </p>
<div class="codehilite"><pre><span></span><code>osg-promote -r 3.3-testing -r 3.4-testing osg-ce
</code></pre></div>

</li>
<li>
<p>Promote <code>osg-build-1.5.0-1</code> to testing for the current release series  </p>
<div class="codehilite"><pre><span></span><code>osg-promote -r testing osg-build-1.5.0-1
</code></pre></div>

</li>
</ul>
<h4 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h4>
<h5 id="-h">-h<a class="headerlink" href="#-h" title="Permanent link">&para;</a></h5>
<p>Display help and a list of valid routes.</p>
<h5 id="package-or-build"><em>package or build</em><a class="headerlink" href="#package-or-build" title="Permanent link">&para;</a></h5>
<p>A package (e.g. <code>osg-version</code>) or build (e.g. <code>osg-version-3.3.0-1.osg33.el6</code>) to promote. You may omit the dist tag (the <code>.osg33.el6</code> part).</p>
<p>If a package is specified, the most recent version of that package will be promoted.</p>
<p>If a build is specified, that build and the build that has the same <em>version</em>-<em>release</em> for the other distro version(s) will be promoted. That is, if you specify the route <code>3.3-testing</code> and the build <code>foo-1-1</code>, then <code>foo-1-1.osg33.el6</code> and <code>foo-1-1.osg33.el7</code> will be promoted.</p>
<p>This may be specified multiple times, to promote multiple packages. The NVRs of each set of builds for a package <em>must</em> match.</p>
<h5 id="-r-route-route-route">-r <em>ROUTE</em>, --route <em>ROUTE</em><a class="headerlink" href="#-r-route-route-route" title="Permanent link">&para;</a></h5>
<p>The promotion route to use. Use <code>osg-promote -h</code> to get a list of valid routes. This may be specified multiple times. For example, to promote for both 3.4 and 3.3, pass <code>-r 3.4-testing -r 3.3-testing</code>.</p>
<p>If not specified, the <code>testing</code> route is used, which corresponds to the testing route for the latest release series.</p>
<h5 id="-n-dry-run">-n, --dry-run<a class="headerlink" href="#-n-dry-run" title="Permanent link">&para;</a></h5>
<p>Do not promote, just show what would be done.</p>
<h5 id="-el6-only-el7-only">--el6-only / --el7-only<a class="headerlink" href="#-el6-only-el7-only" title="Permanent link">&para;</a></h5>
<p>Only promote packages for el6 / el7.</p>
<h5 id="-no-el6-no-el7">--no-el6 / --no-el7<a class="headerlink" href="#-no-el6-no-el7" title="Permanent link">&para;</a></h5>
<p>Do not promote packages for el6 / el7.</p>
<h5 id="-ignore-rejects">--ignore-rejects<a class="headerlink" href="#-ignore-rejects" title="Permanent link">&para;</a></h5>
<p>Ignore rejections due to version mismatch between dvers or missing package for one dver.</p>
<h5 id="-regen">--regen<a class="headerlink" href="#-regen" title="Permanent link">&para;</a></h5>
<p>Regenerate the destination repos after promoting.</p>
<h5 id="-y-assume-yes">-y, --assume-yes<a class="headerlink" href="#-y-assume-yes" title="Permanent link">&para;</a></h5>
<p>Do not prompt before promotion.</p>
<h2 id="common-usage-patterns">Common Usage Patterns<a class="headerlink" href="#common-usage-patterns" title="Permanent link">&para;</a></h2>
<h4 id="verify-that-all-files-necessary-to-build-the-package-are-in-the-right-place">Verify that all files necessary to build the package are in the right place<a class="headerlink" href="#verify-that-all-files-necessary-to-build-the-package-are-in-the-right-place" title="Permanent link">&para;</a></h4>
<p>Run <code>osg-build prebuild &lt;PACKAGEDIR&gt;</code>.</p>
<h4 id="fetch-and-extract-all-source-files-for-examination">Fetch and extract all source files for examination<a class="headerlink" href="#fetch-and-extract-all-source-files-for-examination" title="Permanent link">&para;</a></h4>
<p>Run <code>osg-build prebuild --full-extract &lt;PACKAGEDIR&gt;</code>. Look inside the <code>_upstream_tarball_contents</code> directory.</p>
<h4 id="get-a-post-patch-version-of-the-upstream-sources-for-examination">Get a post-patch version of the upstream sources for examination<a class="headerlink" href="#get-a-post-patch-version-of-the-upstream-sources-for-examination" title="Permanent link">&para;</a></h4>
<p>Run <code>osg-build prepare &lt;PACKAGEDIR&gt;</code>. Look inside the <code>_build_results</code> directory.</p>
<h4 id="see-which-patches-work-with-a-new-version-of-a-package-update-or-remove-them">See which patches work with a new version of a package, update or remove them<a class="headerlink" href="#see-which-patches-work-with-a-new-version-of-a-package-update-or-remove-them" title="Permanent link">&para;</a></h4>
<ol>
<li>Place the new source tarball into the upstream cache, edit the version in the spec file and *.sources files as necessary</li>
<li>Run <code>osg-build quilt &lt;PACKAGEDIR&gt;</code>.</li>
<li>Enter the extracted sources inside the <code>_final_srpm_contents</code> directory. You should see a file called <code>series</code> and a symlink called <code>patches</code>.</li>
<li>Type <code>quilt series</code> to get a list of patches in order of application.</li>
<li>Type <code>quilt push</code> to apply the next patch.<ul>
<li>If the patch applies cleanly, continue.</li>
<li>If the patch applies with some fuzz, type <code>quilt refresh</code> to update the offsets in the patch.</li>
<li>If the patch does not apply and you wish to remove it, type <code>quilt delete &lt;PATCH NAME&gt;</code> (delete only removes it from the series file, not the disk)</li>
<li>If the patch does not apply and you wish to fix it, either type <code>quilt push -f</code> to interactively apply the patch, or <code>quilt delete &lt;PATCH NAME&gt;</code> the patch and use <code>quilt new</code> / <code>quilt edit</code> / <code>quilt refresh</code> to edit files and make a new patch from your changes. Consult the <code>quilt(1)</code> manpage for more info.</li>
</ul>
</li>
<li>If you have a new patch, run <code>quilt import &lt;PATCHFILE&gt;</code> to add the patch to the series file, and run <code>quilt push</code> to apply it.</li>
<li>If you have changes to make to the source code that you want to save as a patch, type <code>quilt new &lt;PATCHNAME&gt;</code>, edit the files, type <code>quilt add &lt;FILE&gt;</code> on each file you edited, then type <code>quilt refresh</code> to recreate the patch.</li>
<li>Once you're all done, copy the patches in the <code>patches/</code> directory to the <code>osg/</code> dir in SVN, run <code>quilt series</code> to get the application order and update the spec file accordingly.</li>
</ol>
<h4 id="see-if-a-package-builds-successfully-for-osg-34">See if a package builds successfully for OSG 3.4<a class="headerlink" href="#see-if-a-package-builds-successfully-for-osg-34" title="Permanent link">&para;</a></h4>
<ul>
<li>If you have all the build dependencies of the package installed, run <code>osg-build rpmbuild &lt;PACKAGEDIR&gt;</code>. The resulting RPMs will be in the <code>_build_results</code> directory.</li>
<li>If you do not have all the build dependencies installed, or want to make sure you specified all of the necessary ones and the package builds from a clean environment, run <code>osg-build mock --mock-config-from-koji osg-3.4-el6-build &lt;PACKAGEDIR&gt;</code>. The resulting RPMs will be in the <code>_build_results</code> directory.</li>
<li>If you do not have mock installed, or want to exactly replicate the build environment in Koji, run <code>osg-build koji --scratch &lt;PACKAGEDIR&gt;</code>. You may download the resulting RPMs from kojiweb <a href="https://koji.opensciencegrid.org/koji">https://koji.opensciencegrid.org/koji</a> or pass <code>--getfiles</code> to <code>osg-build koji</code> and they will get downloaded to the <code>_build_results</code> directory.</li>
</ul>
<h4 id="check-for-potential-errors-in-a-package">Check for potential errors in a package<a class="headerlink" href="#check-for-potential-errors-in-a-package" title="Permanent link">&para;</a></h4>
<p>Run <code>osg-build lint &lt;PACKAGEDIR&gt;</code>.</p>
<h4 id="create-and-test-a-final-build-of-a-package-for-all-platforms-for-upcoming">Create and test a final build of a package for all platforms for upcoming<a class="headerlink" href="#create-and-test-a-final-build-of-a-package-for-all-platforms-for-upcoming" title="Permanent link">&para;</a></h4>
<ol>
<li><code>svn commit</code> your changes in <code>branches/upcoming</code>.</li>
<li>Type <code>osg-build koji --repo=upcoming &lt;PACKAGEDIR&gt;</code></li>
<li>Wait for the <code>osg-upcoming-minefield</code> repos to be regenerated containing the new version of your package. You can run <code>osg-koji wait-repo osg-upcoming-el&lt;X&gt;-development --build=&lt;PACKAGENAME-VERSION-RELEASE&gt;</code> and wait for that process to finish (substitute <code>6</code> or <code>7</code> for <em>X</em>). Or, you can just check kojiweb <a href="https://koji.opensciencegrid.org/koji/tasks">https://koji.opensciencegrid.org/koji/tasks</a>.</li>
<li>On your test machine, make sure the <code>osg-upcoming-minefield</code> repo is enabled (edit <code>/etc/yum.repos.d/osg-upcoming-minefield.repo</code> or <code>/etc/yum.repos.d/osg-el6-upcoming-minefield.repo</code>). Clean your cache (<code>yum clean all; yum clean expire-cache</code>).</li>
<li>Install your software, see if it works.</li>
</ol>
<h4 id="promote-the-latest-build-of-a-package-to-testing-for-the-current-osg-release-series">Promote the latest build of a package to testing for the current OSG release series<a class="headerlink" href="#promote-the-latest-build-of-a-package-to-testing-for-the-current-osg-release-series" title="Permanent link">&para;</a></h4>
<p>Run <code>osg-promote -r testing &lt;PACKAGE&gt;</code></p>
<h4 id="promote-the-latest-build-of-a-package-to-testing-for-the-33-and-34-release-series">Promote the latest build of a package to testing for the 3.3 and 3.4 release series<a class="headerlink" href="#promote-the-latest-build-of-a-package-to-testing-for-the-33-and-34-release-series" title="Permanent link">&para;</a></h4>
<p>Run <code>osg-promote -r 3.3-testing -r 3.4-testing &lt;PACKAGE&gt;</code></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../rpm-development-guide/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                RPM Development Guide
              </div>
            </div>
          </a>
        
        
          <a href="../quilt/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Using Quilt
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>