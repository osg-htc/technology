
<!doctype html>
<html lang="en" class="no-js">
  <head>
    

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://osg-htc.org/technology/software/koji-workflow/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Koji Workflow - OSG Technology Area</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#koji-workflow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OSG Technology Area" class="md-header__button md-logo" aria-label="OSG Technology Area" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSG Technology Area
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Koji Workflow
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/osg-htc/technology/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OSG Technology Area" class="md-nav__button md-logo" aria-label="OSG Technology Area" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    OSG Technology Area
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/osg-htc/technology/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Software
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Software" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      <label class="md-nav__link" for="__nav_2_1">
        Packaging
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Packaging" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Packaging
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../rpm-development-guide/" class="md-nav__link">
        RPM Development Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../osg-build-tools/" class="md-nav__link">
        OSG Build Tools
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Koji Workflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Koji Workflow
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaining-access" class="md-nav__link">
    Obtaining Access
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-setup" class="md-nav__link">
    Initial Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-koji" class="md-nav__link">
    Using Koji
  </a>
  
    <nav class="md-nav" aria-label="Using Koji">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-test-build" class="md-nav__link">
    Creating a test build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-new-build" class="md-nav__link">
    Creating a new build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-task-results" class="md-nav__link">
    Build task Results
  </a>
  
    <nav class="md-nav" aria-label="Build task Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-find-build-results" class="md-nav__link">
    How to find build results
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-get-the-resulting-rpm-into-a-repository" class="md-nav__link">
    How to get the resulting RPM into a repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging-build-issues" class="md-nav__link">
    Debugging build issues
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promoting-builds-from-development-testing" class="md-nav__link">
    Promoting Builds from Development -&gt; Testing
  </a>
  
    <nav class="md-nav" aria-label="Promoting Builds from Development -&gt; Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-osg-promote" class="md-nav__link">
    Using osg-promote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further reading
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../create-vo-client/" class="md-nav__link">
        Creating the VO Client Package
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../container-development-guide/" class="md-nav__link">
        Container Development Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../koji-mass-rebuilds/" class="md-nav__link">
        Koji Mass Rebuilds
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development-process/" class="md-nav__link">
        Development Process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../git-software-development/" class="md-nav__link">
        Git Software Development Process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ce-test-scaling/" class="md-nav__link">
        CE Scale Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ipv6-testing/" class="md-nav__link">
        IPv6 Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../requesting-tokens/" class="md-nav__link">
        How to Request Tokens
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      <label class="md-nav__link" for="__nav_2_3">
        Technologies
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Technologies" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Technologies
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ospool-containers/" class="md-nav__link">
        OSPool Containers
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/software-support/" class="md-nav__link">
        Software Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../effort-tracking/" class="md-nav__link">
        Effort Tracking
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../new-team-member/" class="md-nav__link">
        New Team Member
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../user-certs/" class="md-nav__link">
        User Certificates
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Release
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Release" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Release
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/cut-sw-release/" class="md-nav__link">
        How to Cut a Release
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/announce-rft-packages/" class="md-nav__link">
        Ready for Testing Announcements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/new-release-series/" class="md-nav__link">
        New Release Series
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/new-os-series/" class="md-nav__link">
        New OS Series
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/release-eol/" class="md-nav__link">
        Release Series End-of-Life
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/itb-testing/" class="md-nav__link">
        ITB Prerelease Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/empty-pkgs/" class="md-nav__link">
        Empty Packages
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Operations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Operations" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/comanage-sop/" class="md-nav__link">
        COManage SOP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/comanage-recipes/" class="md-nav__link">
        COManage Recipes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/comanage-troubleshooting-guide/" class="md-nav__link">
        COmanage Troubleshooting Guide
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Policy
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Policy" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Policy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/campus-cyberinfrastructure/" class="md-nav__link">
        Campus Cyberinfrastructure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/collab-bearer-tokens/" class="md-nav__link">
        Collaborations and Bearer Tokens
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/external-oasis-repos/" class="md-nav__link">
        OASIS Repository Mirroring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/flexible-release-model/" class="md-nav__link">
        Flexible Release Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/software-release/" class="md-nav__link">
        Software Release Policy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/container-release/" class="md-nav__link">
        Container Release Policy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/community-testing/" class="md-nav__link">
        Community Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/new-ospool-user/" class="md-nav__link">
        New OSPool User Registration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/topology-registration/" class="md-nav__link">
        Handling Topology/Contacts Registrations
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Documentation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/writing-documentation/" class="md-nav__link">
        Writing Documentation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/reviewing-documentation/" class="md-nav__link">
        Reviewing Documentation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/style-guide/" class="md-nav__link">
        Markdown Style Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/publish-osg-pages/" class="md-nav__link">
        Publishing OSG pages
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Historical Transitions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Historical Transitions" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Historical Transitions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/service-migrations-spring-2018/" class="md-nav__link">
        Service Migrations - Spring 2018
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/gums-retire/" class="md-nav__link">
        GUMS Retirement
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/bestman2-retire/" class="md-nav__link">
        BeStMan2 Retirement
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/voms-admin-retire/" class="md-nav__link">
        VOMS Admin Retirement
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/sha2-support/" class="md-nav__link">
        SHA-2 Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/markdown-migration/" class="md-nav__link">
        Migrating Documents to Markdown
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/cream-support/" class="md-nav__link">
        CREAM-CE Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/globus-toolkit/" class="md-nav__link">
        Globus Toolkit Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/gridftp-gsi-migration/" class="md-nav__link">
        GridFTP and GSI Migration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/repo-layout-migration-2025/" class="md-nav__link">
        Repo Layout Migration - Jan 2025
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../policy/packaging-svn-to-git-migration/" class="md-nav__link">
        Packaging SVN to Git Migration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Meetings
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Meetings" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Meetings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20241203/" class="md-nav__link">
        December 3, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20241105/" class="md-nav__link">
        November 5, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20241029/" class="md-nav__link">
        October 29, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20241015/" class="md-nav__link">
        October 15, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20241008/" class="md-nav__link">
        October 8, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20241001/" class="md-nav__link">
        October 1, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240924/" class="md-nav__link">
        September 24, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240903/" class="md-nav__link">
        September 3, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240827/" class="md-nav__link">
        August 27, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240820/" class="md-nav__link">
        August 20, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240813/" class="md-nav__link">
        August 13, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240806/" class="md-nav__link">
        August 6, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240730/" class="md-nav__link">
        July 30, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240723/" class="md-nav__link">
        July 23, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240716/" class="md-nav__link">
        July 16, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240702/" class="md-nav__link">
        July 2, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240625/" class="md-nav__link">
        June 25, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240618/" class="md-nav__link">
        June 18, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240611/" class="md-nav__link">
        June 11, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240528/" class="md-nav__link">
        May 28, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240521/" class="md-nav__link">
        May 21, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240514/" class="md-nav__link">
        May 14, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240507/" class="md-nav__link">
        May 7, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240430/" class="md-nav__link">
        April 30, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240416/" class="md-nav__link">
        April 16, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240409/" class="md-nav__link">
        April 9, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240402/" class="md-nav__link">
        April 2, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240319/" class="md-nav__link">
        March 19, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240312/" class="md-nav__link">
        March 12, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240305/" class="md-nav__link">
        March 5, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240227/" class="md-nav__link">
        February 27, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240220/" class="md-nav__link">
        February 20, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240213/" class="md-nav__link">
        February 13, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240206/" class="md-nav__link">
        February 6, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240130/" class="md-nav__link">
        January 30, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240123/" class="md-nav__link">
        January 23, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240116/" class="md-nav__link">
        January 16, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240109/" class="md-nav__link">
        January 9, 2024
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../meetings/2024/TechArea20240102/" class="md-nav__link">
        January 2, 2024
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaining-access" class="md-nav__link">
    Obtaining Access
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-setup" class="md-nav__link">
    Initial Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-koji" class="md-nav__link">
    Using Koji
  </a>
  
    <nav class="md-nav" aria-label="Using Koji">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-test-build" class="md-nav__link">
    Creating a test build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-new-build" class="md-nav__link">
    Creating a new build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-task-results" class="md-nav__link">
    Build task Results
  </a>
  
    <nav class="md-nav" aria-label="Build task Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-find-build-results" class="md-nav__link">
    How to find build results
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-get-the-resulting-rpm-into-a-repository" class="md-nav__link">
    How to get the resulting RPM into a repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging-build-issues" class="md-nav__link">
    Debugging build issues
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promoting-builds-from-development-testing" class="md-nav__link">
    Promoting Builds from Development -&gt; Testing
  </a>
  
    <nav class="md-nav" aria-label="Promoting Builds from Development -&gt; Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-osg-promote" class="md-nav__link">
    Using osg-promote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further reading
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/osg-htc/technology/edit/master/docs/software/koji-workflow.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="koji-workflow">Koji Workflow<a class="headerlink" href="#koji-workflow" title="Permanent link">&para;</a></h1>
<p>This covers the basics of using and understanding the <a href="https://koji.osg-htc.org/koji">OSG Koji</a> instance. It is meant primarily for OSG Software team members who need to interact with the service.</p>
<h2 id="terminology">Terminology<a class="headerlink" href="#terminology" title="Permanent link">&para;</a></h2>
<p>Using and understanding the following terminology correctly will help in the reading of this document:</p>
<p><strong>Package</strong><br>
This refers to a named piece of software in the Koji database. An example would be "xrootd".</p>
<p><strong>Build</strong><br>
A specific version and release of a package, and an associated state. A build state may be successful (and contain RPMs), failed, or in-progress. A given build may be in one or more tags. The build is associated with the output of the latest build task with the same version and release of the package.</p>
<p><strong>Tag</strong><br>
A named set of packages and builds, parent tags, and reference to external repositories. An example would be the "osg-25-el9-development" tag, which contains (among others) the "xrootd" package and the "xrootd-5.9.1-1.2.osg25-el9" build. There is an inheritance structure to tags: by default, all packages/builds in a parent tag are added to the tag. A tag may contain a reference to (possibly inherited) external repositories; the RPMs in these repositories are added to repositories created from this tag. Examples of referenced external repositories include AlmaLinux base or EPEL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A tag is NOT a yum repository.</p>
</div>
<p><strong>Target</strong><br>
A target consists of a build tag and a destination tag. An example is "osg-25-main-el9",
where the build tag is "osg-25-main-el9" and the destination tag is "osg-25-main-el9-development".
A target is used by the build task to know what repository to build from and tag to build into.</p>
<p><strong>Task</strong><br>
A unit of work for Koji. Several common tasks are:</p>
<ul>
<li>
<p>build<br>
    This task takes a SRPM and a target, and attempts to create a complete Build in the target's destination tag from the target's build repository. This task will launch one buildArch task for each architecture in the destination tag; if each subtask is successful, then it will launch a tagBuild subtask.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the build task is marked as "scratch", then it won't result in a saved Build.</p>
</div>
</li>
<li>
<p>buildArch<br>
    This task takes a SRPM, architecture name, and a Koji repository as an input, and runs <code>mock</code> to create output RPMs for that arch. The build artifacts are added to the Build if all buildArch tasks are successful.</p>
</li>
<li>
<p>tagBuild<br>
    This adds a successful build to a given tag.</p>
</li>
<li>
<p>newRepo<br>
    This creates a new repository from a given tag.</p>
</li>
</ul>
<p><strong>Build artifacts</strong><br>
The results of a buildArch task. Their metadata are recorded in the Koji database, and files are saved to disk. Metadata may include checksums, timestamps, and who initiated the task. Artifacts may include RPMs, SRPMs, and build logs.</p>
<p><strong>Repository</strong><br>
A yum repository created from the contents of a tag at a specific point in time. By default, the yum repository will contain all successful, non-blocked builds in the tag, plus all RPMs in the external repositories for the tag.</p>
<h2 id="obtaining-access">Obtaining Access<a class="headerlink" href="#obtaining-access" title="Permanent link">&para;</a></h2>
<p>Building OSG packages in Koji requires these privileges:</p>
<ul>
<li>access to the OSG Software Packaging repository at https://github.com/osg-htc/software-packaging</li>
<li>access to <code>osgsw-ap.chtc.wisc.edu</code> for uploading to the upstream sources directory</li>
<li>access to the Koji service via a Kerberos credential</li>
</ul>
<p>If you are not already registered as an OSG Contact, follow the registration instructions at this page:
<a href="https://osg-htc.org/docs/common/contact-registration/">https://osg-htc.org/docs/common/contact-registration/</a></p>
<p>Once you are registered, open a Freshdesk ticket or send email to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#101;&#108;&#112;&#64;&#111;&#115;&#103;&#45;&#104;&#116;&#99;&#46;&#111;&#114;&#103;">&#104;&#101;&#108;&#112;&#64;&#111;&#115;&#103;&#45;&#104;&#116;&#99;&#46;&#111;&#114;&#103;</a> requesting access
to OSG build services.
Include the following information:</p>
<ul>
<li>your GitHub username</li>
<li>your Kerberos principal if you already have one;
    for people with a UW NetID account, this is <code>&lt;netid&gt;@AD.WISC.EDU</code> and
    for people with a Fermilab account, this is <code>&lt;username&gt;@FNAL.GOV</code></li>
</ul>
<h2 id="initial-setup">Initial Setup<a class="headerlink" href="#initial-setup" title="Permanent link">&para;</a></h2>
<p>You will be using the <a href="../osg-build-tools/">OSG Build Tools</a> to interact with Koji.
See the installation guide on that page for information on getting started.</p>
<h2 id="using-koji">Using Koji<a class="headerlink" href="#using-koji" title="Permanent link">&para;</a></h2>
<h3 id="creating-a-test-build">Creating a test build<a class="headerlink" href="#creating-a-test-build" title="Permanent link">&para;</a></h3>
<p>Before pushing package changes to the OSG Software Packaging repository, you should create a "scratch build".
This builds an RPM from the current directory using Koji, but does not tag the resulting package.</p>
<p>To make a scratch build and download the resulting files to your machine, run:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">$ </span>osg-build koji --scratch --getfiles &lt;PACKAGE DIRECTORY&gt;
</code></pre></div>

<p>If you do not want to download the files, omit the <code>--getfiles</code> flag.
You may also visit the links that osg-build printed to download the files later.</p>
<h3 id="creating-a-new-build">Creating a new build<a class="headerlink" href="#creating-a-new-build" title="Permanent link">&para;</a></h3>
<p>We create a new build in Koji from the package's directory in <a href="https://github.com/osg-htc/software-packaging">OSG Software Packaging repository</a>.</p>
<p>If a successful build already exists in Koji (regardless of whether it is in the tag you use), you cannot replace the build. Two builds are the same if they have the same NVR (Name-Version-Release). You <em>can</em> do a "scratch" build, which recompiles, but the results are not added to the tag. This is useful for experimenting with koji.</p>
<p>To do a build, execute the following command from within an up-to-date clone of the repository:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">[you@host]$ </span>osg-build koji &lt;PACKAGE NAME&gt;
</code></pre></div>

<h3 id="build-task-results">Build task Results<a class="headerlink" href="#build-task-results" title="Permanent link">&para;</a></h3>
<h4 id="how-to-find-build-results">How to find build results<a class="headerlink" href="#how-to-find-build-results" title="Permanent link">&para;</a></h4>
<p>The most recent build results are always shown on the home page of Koji:</p>
<p><a href="https://koji.osg-htc.org/koji/index">https://koji.osg-htc.org/koji/index</a></p>
<p>Clicking on a build result brings you to the build information page. A successful build will result in the build page having build logs, RPMs, and a SRPM.</p>
<p>If your build isn't in the recent list, you can use the search box in the upper-right-hand corner.
Type the exact package name (or use a glob, e.g. <code>osdf*</code>), and it will bring up a list of all builds for that package.
You can find your build from there. For example, the <code>xrootd</code> package page is here:</p>
<p><a href="https://koji.osg-htc.org/koji/packageinfo?packageID=89">https://koji.osg-htc.org/koji/packageinfo?packageID=89</a></p>
<p>And the <code>xrootd-5.9.1-1.2.osg25.el9</code> build is here:</p>
<p><a href="https://koji.osg-htc.org/koji/buildinfo?buildID=18884">https://koji.osg-htc.org/koji/buildinfo?buildID=18884</a></p>
<h4 id="how-to-get-the-resulting-rpm-into-a-repository">How to get the resulting RPM into a repository<a class="headerlink" href="#how-to-get-the-resulting-rpm-into-a-repository" title="Permanent link">&para;</a></h4>
<p>Once a package has been built, it will be signed and added to a tag, typically one of the <code>-development</code> tags.
The build will eventually be copied and made available for installation at <code>repo.osg-htc.org</code>,
in typically less than half an hour.
The build will be available for use as a build dependency in under five minutes;
Koji will wait for the repo to be updated ("regenerated") before doing another build.</p>
<p>The OSG repos with names ending in <code>-minefield</code> are built from the <code>-development</code> repos;
installing RPMs from those repos pulls directly from the Koji build system.
You may update the <code>-minefield</code> repos by running the <code>osg-koji regen-repo</code> command on the corresponding <code>-development</code> repo.
For example, to update the <code>osg-minefield</code> repo for OSG series <code>25-main</code> on distro <code>el9</code>, run</p>
<div class="codehilite"><pre><span></span><code><span class="gp">$ </span>osg-koji regen-repo osg-25-main-el9-development
</code></pre></div>

<p>A regen-repo task will be created -- you can watch its progress in the web interface.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>If the output you get is something like <code>Repo info: https://koji.osg-htc.org/koji/repoinfo?repoID=153995</code>,
  it means that the build repo is already current.
  If you still want to force repo creation, add the <code>--make-task</code> argument to the above <code>regen-repo</code> command.</p>
<p>To do this for multiple distro versions, use a loop.
For example:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">$ </span><span class="k">for</span> el <span class="k">in</span> el8 el9 el10<span class="p">;</span> <span class="k">do</span> osg-koji regen-repo osg-25-main-<span class="si">${</span><span class="nv">el</span><span class="si">}</span>-development<span class="p">;</span> <span class="k">done</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to <a href="https://opensciencegrid.atlassian.net/browse/SOFTWARE-6069">SOFTWARE-6069</a>,
you may need to run <code>osg-koji regen-repo</code> by hand to update the <code>minefield</code> repos.</p>
</div>
<p>You may check the status of regen-repo tasks in the
<a href="https://koji.osg-htc.org/koji/tasks?method=newRepo&amp;state=all&amp;view=tree&amp;order=-id">Koji web interface</a>.</p>
<h4 id="debugging-build-issues">Debugging build issues<a class="headerlink" href="#debugging-build-issues" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Failed build tasks can be seen from the Koji homepage. The logs from the tasks are included. Relevant logs include:</p>
<ul>
<li>
<p><code>root.log</code><br>
    This is the log of mock trying to create an appropriate build root for your RPM. This will invoke yum twice: once to create a generic build root, once for all the dependencies in your BuildRequires. All RPMs in your build root will be logged here. If mock is unable to create the build root, the reason will show up here.</p>
<ul>
<li>
<p>404 Errors</p>
<p>If you see <code>Error downloading packages</code> and <code>HTTP Error 404 - Not Found</code> errors in your <code>root.log</code>,
this commonly indicates that an rpm repo mirror was updated and our build repo is out-of-date.
This can be fixed by regenerating the relevant build repos for your builds.</p>
<p>This is usually something like <code>osg-25-main-el8-build</code> or <code>osg-24-upcoming-el9-build</code>;
but you can find the exact build tag by clicking the Build Target link for the koji task,
and whatever is listed for the Build Tag is the name of the repo to regen.</p>
<p>Regenerate each repo that failed with 404 errors:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">$ </span>osg-koji regen-repo &lt;BUILD TAG&gt;
</code></pre></div>

</li>
</ul>
</li>
<li>
<p><code>build.log</code><br>
    The output of the rpmbuild executable. If your package fails to compile, the reason will show up here.</p>
</li>
</ul>
</li>
<li>
<p>Other errors</p>
<ul>
<li><code>package &lt;PACKAGE NAME&gt; not in list for tag &lt;TAG&gt;</code><br/>
    This happens when the name of the directory your package is in does not match the name of the package.
    You must rename one or the other and commit your changes before trying again.</li>
</ul>
</li>
</ul>
<h3 id="promoting-builds-from-development-testing">Promoting Builds from Development -&gt; Testing<a class="headerlink" href="#promoting-builds-from-development-testing" title="Permanent link">&para;</a></h3>
<p>Software team members can promote any package to testing.</p>
<p>To promote from development to testing:</p>
<h4 id="using-osg-promote">Using <em>osg-promote</em><a class="headerlink" href="#using-osg-promote" title="Permanent link">&para;</a></h4>
<p>Before using <code>osg-promote</code>, authenticate to Koji using <code>kinit</code> and your Kerberos principal (same as for <code>osg-build</code>).</p>
<p>If you want to promote the latest version:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">[you@host]$ </span>osg-promote -r &lt;OSGVER&gt;-testing &lt;PACKAGE NAME&gt;
</code></pre></div>

<p>&lt;PACKAGE NAME&gt; is the bare package name without version, e.g. <code>gratia-probe</code>.</p>
<p>If you want to promote a specific version:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">[you@host]$ </span>osg-promote -r &lt;OSGVER&gt;-testing &lt;BUILD NAME&gt;
</code></pre></div>

<p>&lt;BUILD NAME&gt; is a full <code>name-version-revision.disttag</code> such as <code>gratia-probe-1.17.0-2.osg33.el6</code>.</p>
<p>&lt;OSGVER&gt; is the OSG major version that you are promoting for (e.g. <code>24</code>).</p>
<p><code>osg-promote</code> will promote the builds of a package for all distro versions (el8, el9, etc.).
After promoting, copy and paste the Jira code <code>osg-promote</code> produces into the Jira ticket that you are working on.</p>
<p>For <code>osg-promote</code>, you may omit the dist tag (e.g. <code>.osg25.el9</code>);
the script will add the appropriate disttag on.</p>
<p>See <a href="../osg-build-tools/">OSG Build Tools</a> for full details on <code>osg-promote</code>.</p>
<h2 id="further-reading">Further reading<a class="headerlink" href="#further-reading" title="Permanent link">&para;</a></h2>
<ul>
<li>Official Koji documentation: <a href="https://docs.pagure.org/koji/">https://docs.pagure.org/koji/</a></li>
<li>Fedora's koji documentation: <a href="https://fedoraproject.org/wiki/Koji">https://fedoraproject.org/wiki/Koji</a></li>
<li>Fedora's "Using Koji" page: <a href="https://docs.fedoraproject.org/en-US/package-maintainers/Using_the_Koji_Build_System/">https://docs.fedoraproject.org/en-US/package-maintainers/Using_the_Koji_Build_System/</a> Note that some instructions there may not apply to OSG's Koji. For the most part though, they are useful.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../osg-build-tools/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              OSG Build Tools
            </div>
          </div>
        </a>
      
      
        <a href="../create-vo-client/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Creating the VO Client Package
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>