{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"OSG Technology Area \u00b6 Welcome to the home page of the OSG Technology Team documentation area! If you are looking for site administrator documentation, please visit the OSG Documentation page . The Team \u00b6 Software and Release Technology Brian Lin (software manager) Brian Bockelman (manager) (15%) Carl Edquist Derek Weitzel (50%) Mat Selmeci Diego Davila (50%) Tim Cartwright (5%) Marian Zvada (20%) Tim Theisen (release manager) (50%) Contact Us \u00b6 software-discuss@opensciencegrid.org - General discussion of the OSG Software stack ( subscribe ) Slack channel - if you can't create an account, send an e-mail to help@opensciencegrid.org Meetings \u00b6 When: Every Monday, 9:00 a.m. (U.S. Central) Where: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Meeting note archives can be found directly in the GitHub repository .","title":"Home"},{"location":"#osg-technology-area","text":"Welcome to the home page of the OSG Technology Team documentation area! If you are looking for site administrator documentation, please visit the OSG Documentation page .","title":"OSG Technology Area"},{"location":"#the-team","text":"Software and Release Technology Brian Lin (software manager) Brian Bockelman (manager) (15%) Carl Edquist Derek Weitzel (50%) Mat Selmeci Diego Davila (50%) Tim Cartwright (5%) Marian Zvada (20%) Tim Theisen (release manager) (50%)","title":"The Team"},{"location":"#contact-us","text":"software-discuss@opensciencegrid.org - General discussion of the OSG Software stack ( subscribe ) Slack channel - if you can't create an account, send an e-mail to help@opensciencegrid.org","title":"Contact Us"},{"location":"#meetings","text":"When: Every Monday, 9:00 a.m. (U.S. Central) Where: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Meeting note archives can be found directly in the GitHub repository .","title":"Meetings"},{"location":"documentation/markdown-migration/","text":"Migrating to Markdown \u00b6 As part of the TWiki retirement (the read-only target date of Oct 1, 2017, with a shutdown date in 2018), we will need to convert the OSG Software and Release3 docs from TWiki syntax to Markdown . The following document outlines the conversion process and conventions. Choosing the git repository \u00b6 First you will need to choose which git repoository you will be working with: If you are converting a document from... Use this github repository... SoftwareTeam technology Release3 docs Once you've chosen the target repository for your document, move onto the next section and pick your conversion method. Automatic TWiki conversion \u00b6 Note If you are only archiving the documents, skip to this section . Choose one of the following methods for converting TWiki documents: Using our own docker conversion image (recommended) Directly using pandoc and mkdocs on your own machine Using docker \u00b6 The twiki-converter docker image can be used to preview the document tree via a mkdocs development server, archive TWiki documents, and convert documents to Markdown via pandoc . The image is available on osghost , otherwise, it is availble on dockerhub . user@host $ docker pull opensciencegrid/docker-twiki-converter Requirements \u00b6 To perform a document migration using docker, you will need the following tools and accounts: Fork and clone the repository that you chose in the above section A host with a running docker service sudo or membership in the docker group If you cannot install the above tools locally, they are available on osghost . Speak with Brian L for access. Preparing the git repository \u00b6 cd into your local git repository Add opensciencegrid/technology as the upstream remote repository for merging upstream changes: user@host $ git remote add upstream https://www.github.com/opensciencegrid/technology.git Create a branch for the document you plan to convert: user@host $ git branch <BRANCH NAME> master Replace <BRANCH NAME> with a name of your choice Change to the branch you just created user@host $ git checkout <BRANCH NAME> Replace <BRANCH NAME> with the name you chose in the step above Previewing the document tree \u00b6 When starting a twiki-converter docker container, it expects your local github repository to be mounted in /source so that any changes made to the repository are reflected in the mkdocs development server. To start a docker container based off of the twiki-converter docker image: Create a container from the image with the following command: user@host $ docker run -d -v <PATH TO LOCAL GITHUB REPO>:/source -p 8000 opensciencegrid/docker-twiki-converter Change <PATH TO LOCAL GITHUB REPO> for the directory where you have cloned the repo. The above command should return the container ID, which will be used in subsequent commands. Note If the docker container exits immediately, remove the -d option for details. If you see permission denied errors, you may need to disable SELinux or put it in permissive mode. To find the port that your development server is listening on, use the container ID (you should only need the first few chars of the ID) returned from the previous command: user@host $ docker port <CONTAINER ID> Change <CONTAINER ID> for the value returned by the execution of the previous command Access the development server in your browser via http://osghost.chtc.wisc.edu:<PORT> or localhost:<PORT> for containers run on osghost or locally, respectively. osghost has a restrictive firewall so if you have issues accessing your container from outside of the UW-Madison campus, use an SSH tunnel to map the osghost port to a local port. Converting documents \u00b6 The docker image contains a convenience script, convert-twiki for saving archives and converting them to Markdown. To run the script in a running container, run the following command: user@host $ docker exec <CONTAINER ID> convert-twiki <TWIKI URL> Where <CONTAINER ID> is the docker container ID and <TWIKI URL> is the link to the TWiki document that you want to convert, e.g. https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/SoftwareDevelopmentProcess . This will result in an archive of the twiki doc, archive/SoftwareDevelopmentProcess , in your local repo and a converted copy, SoftwareDevelopmentProcess.md , placed into the root of your local github repository. If the twiki url is for a specific revision of the document, a .rNN will be included in the output filenames. Warning If the above command does not complete quickly, it means that Pandoc is having an issue with a specific section of the document. See Troubleshooting conversion for next steps. To see the converted document in your browser: Rename, move the converted document into a folder in docs/ . Document file names should be lowercase, - delimited, and descriptive but concise, e.g. markdown-migration.md or cutting-release.md It's not important to get the name/location correct on the first try as this can be discussed in the pull request sudo chown the archived and converted documents to be owned by you Add the document to the pages: section of mkdocs.yml in APA-style title case , e.g. - Migrating Documents to Markdown: 'software/markdown-migration.md' Refresh the document tree in your browser Once you can view the converted document in your browser, move onto the next section Troubleshooting conversion \u00b6 Pandoc sometimes has issues converting documents and requires manual intervention by removing whichever section is causing issues in the conversion. Copy the archive of the document into the root of your git repository Kill the process in the docker container: user@host $ docker exec <CONTAINER ID> pkill -9 pandoc Where <CONTAINER ID> is the docker container ID Remove a section from the copy of the archive to find the problematic section (recommendation: use a binary search strategy) Run pandoc manually: user@host $ docker exec <CONTAINER ID> pandoc -f twiki -t markdown_github <ARCHIVE COPY> > <MARKDOWN FILE> Where <CONTAINER ID> is the docker container ID, <ARCHIVE COPY> is the the file you copied in the first step and <MARKDOWN FILE> is the resulting .md file Repeat steps 2-4 until you've narrowed down the problematic section Manually convert the offending section Conversion without Docker \u00b6 If you've already used the docker method , skip to the section about completing the conversion . Requirements \u00b6 This method requires the following: Fork and clone the repository that you chose in the above section pandoc (> 1.16) mkdocs MarkdownHighlight pygments Preparing the git repository \u00b6 cd into your local git repository Add opensciencegrid/technology as the upstream remote repository for merging upstream changes: user@host $ git remote add upstream https://www.github.com/opensciencegrid/technology.git Create a branch for the document you plan to convert: user@host $ git branch <BRANCH NAME> master Replace <BRANCH NAME> with a name of your choice 5. Change to the branch you just created user@host $ git checkout <BRANCH NAME> Replace <BRANCH NAME> with the name you chose in the step above Archiving the TWiki document \u00b6 Follow the instructions for archival then continue to the next section to convert the document with pandoc. Initial conversion with Pandoc \u00b6 Pandoc is a tool that's useful for automated conversion of markdown languages. Once installed (alternatively, run pandoc via docker ), run the following command to convert TWiki to Markdown: $ pandoc -f twiki -t markdown_github <TWIKI FILE> > <MARKDOWN FILE> Where <TWIKI FILE> is the path to initial document in raw TWiki and <MARKDOWN FILE> is the path to the resulting document in GitHub Markdown. Note If you don't see output from the above command quickly, it means that Pandoc is having an issue with a specific section of the document. Stop the command (or docker container), find and temporarily remove the offending section, convert the remainder of the document with Pandoc, and manually convert the offending section. Previewing your document(s) with Mkdocs \u00b6 Mkdocs has a development mode that can be used to preview documents as you work on them and is available via package manager or pip . Once installed , add your document(s) to the pages section of mkdocs.yml and launch the mkdocs server with the following command from the dir containing mkdocs.yml : $ PYTHONPATH = src/ mkdocs serve Access the server at http://127.0.0.1:8000 and navigate to the document you're working on. It's useful to open the original TWiki doc in an adjacent tab or window to quickly compare the two. Completing the conversion \u00b6 Manual review of the automatically converted documents are required since the automatic conversion process isn't perfect. This section contains a list of problems commonly encountered in automatically converted documents. Visit the style guide to ensure that the document meets all style guidelines. Archiving Documents \u00b6 If the document is slated for archival (check if it says \"yes\" in the \"archived\" column of the spreadsheet), just download the document to the archive folder of your local git repository: user@host $ cd technology/ user@host $ curl '<TWIKI URL>?raw=text' | iconv -f windows-1252 > archive/<TWIKI TITLE> Where <TWIKI URL> is the link to the TWiki document that you want to download and <TWIKI TITLE> is the name that will receive the archived file For example: user@host $ cd technology user@host $ curl 'https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/SHA2Compliance?raw=text' | iconv -f windows-1252 > archive/SHA2Compliance After downloading the document, continue onto the next section to walk through pull request submission. Submitting the pull request \u00b6 Stage the archived raw TWiki (as well as the converted Markdown document(s) and mkdocs.yml if you are converting the document): user@host $ git add mkdocs.yml archive/<TWIKI ARCHIVE> <PATH TO CONVERTED DOC> Where <TWIKI ARCHIVE> is the name of the archived document and <PATH TO CONVERTED DOC> is the path to the .md file Commit and push your changes to your GitHub repo: user@host $ git commit -m \"<COMMIT MSG>\" user@host $ git push origin <BRANCH NAME> Change <COMMIT MSG> for a meaningful text that describes the conversion done and <BRANCH NAME> with the name chosen in the 3rd step of the Preparing the git repository section Open your browser and navigate to your GitHub fork Submit a pull request containing with the following body: <LINK TO TWIKI DOCUMENT> - [ ] Enter date into \"Migrated\" column of google sheet An example of <LINK TO TWIKI DOCUMENT> is: https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/SoftwareDevelopmentProcess If you are migrating a document, also add this task: - [ ] Add migration header to TWiki document If you are archiving a document, add this task: - [ ] Move TWiki document to the trash See an example pull request here . After the pull request \u00b6 After the pull request is merged, replace the contents of TWiki document with the div if you're migrating the document, linking to the location of the migrated document: <div style=\"border: 1px solid black; margin: 1em 0; padding: 1em; background-color: #FFDDDD; font-weight: 600;\"> This document has been migrated to !GitHub (<LINK TO GITHUB DOCUMENT>). If you wish to see the old TWiki document, use the TWiki history below. Background: At the end of year (2017), the TWiki will be retired in favor of !GitHub. You can find the various TWiki webs and their new !GitHub locations listed below: * Release3: https://www.opensciencegrid.org/docs ([[https://github.com/opensciencegrid/docs/tree/master/archive][archive]]) * !SoftwareTeam: https://www.opensciencegrid.org/technology ([[https://github.com/opensciencegrid/technology/tree/master/archive][archive]]) </div> If you are archiving a document, move it to the trash instead. Once the document has been updated or trashed, add the date to the spreadsheet and go back to your pull request and mark your tasks as complete. For example, if you completed the migration of a document: - [X] Enter date into \"Migrated\" column of google sheet - [X] Add migration div to TWiki document Currently, we do not recommend changing backlinks (links on other twiki pages that refer to the Twiki page you are migrating) to point at the new GitHub URL. This is to provide a simple reminder to users that the migration will occur, and also is likely low priority regardless as all pages will eventually migrate to GitHub. This advice may change in the future as we gain experience with this transition. Reviewing pull requests \u00b6 To review pull requests, cd into the dir containing your git repository and check out the requester's branch, which the twiki-converter container should automatically notice. Here's an example checking out Brian's cut-sw-release branch of the technology repository: # Add the requester 's repo as a remote if you haven' t already user@host $ git remote add blin https://www.github.com/brianhlin/technology.git user@host $ git fetch --all user@host $ git checkout blin/cut-sw-release Refresh your browser and navigate to the document in the request.","title":"Migrating Documents to Markdown"},{"location":"documentation/markdown-migration/#migrating-to-markdown","text":"As part of the TWiki retirement (the read-only target date of Oct 1, 2017, with a shutdown date in 2018), we will need to convert the OSG Software and Release3 docs from TWiki syntax to Markdown . The following document outlines the conversion process and conventions.","title":"Migrating to Markdown"},{"location":"documentation/markdown-migration/#choosing-the-git-repository","text":"First you will need to choose which git repoository you will be working with: If you are converting a document from... Use this github repository... SoftwareTeam technology Release3 docs Once you've chosen the target repository for your document, move onto the next section and pick your conversion method.","title":"Choosing the git repository"},{"location":"documentation/markdown-migration/#automatic-twiki-conversion","text":"Note If you are only archiving the documents, skip to this section . Choose one of the following methods for converting TWiki documents: Using our own docker conversion image (recommended) Directly using pandoc and mkdocs on your own machine","title":"Automatic TWiki conversion"},{"location":"documentation/markdown-migration/#using-docker","text":"The twiki-converter docker image can be used to preview the document tree via a mkdocs development server, archive TWiki documents, and convert documents to Markdown via pandoc . The image is available on osghost , otherwise, it is availble on dockerhub . user@host $ docker pull opensciencegrid/docker-twiki-converter","title":"Using docker"},{"location":"documentation/markdown-migration/#requirements","text":"To perform a document migration using docker, you will need the following tools and accounts: Fork and clone the repository that you chose in the above section A host with a running docker service sudo or membership in the docker group If you cannot install the above tools locally, they are available on osghost . Speak with Brian L for access.","title":"Requirements"},{"location":"documentation/markdown-migration/#preparing-the-git-repository","text":"cd into your local git repository Add opensciencegrid/technology as the upstream remote repository for merging upstream changes: user@host $ git remote add upstream https://www.github.com/opensciencegrid/technology.git Create a branch for the document you plan to convert: user@host $ git branch <BRANCH NAME> master Replace <BRANCH NAME> with a name of your choice Change to the branch you just created user@host $ git checkout <BRANCH NAME> Replace <BRANCH NAME> with the name you chose in the step above","title":"Preparing the git repository"},{"location":"documentation/markdown-migration/#previewing-the-document-tree","text":"When starting a twiki-converter docker container, it expects your local github repository to be mounted in /source so that any changes made to the repository are reflected in the mkdocs development server. To start a docker container based off of the twiki-converter docker image: Create a container from the image with the following command: user@host $ docker run -d -v <PATH TO LOCAL GITHUB REPO>:/source -p 8000 opensciencegrid/docker-twiki-converter Change <PATH TO LOCAL GITHUB REPO> for the directory where you have cloned the repo. The above command should return the container ID, which will be used in subsequent commands. Note If the docker container exits immediately, remove the -d option for details. If you see permission denied errors, you may need to disable SELinux or put it in permissive mode. To find the port that your development server is listening on, use the container ID (you should only need the first few chars of the ID) returned from the previous command: user@host $ docker port <CONTAINER ID> Change <CONTAINER ID> for the value returned by the execution of the previous command Access the development server in your browser via http://osghost.chtc.wisc.edu:<PORT> or localhost:<PORT> for containers run on osghost or locally, respectively. osghost has a restrictive firewall so if you have issues accessing your container from outside of the UW-Madison campus, use an SSH tunnel to map the osghost port to a local port.","title":"Previewing the document tree"},{"location":"documentation/markdown-migration/#converting-documents","text":"The docker image contains a convenience script, convert-twiki for saving archives and converting them to Markdown. To run the script in a running container, run the following command: user@host $ docker exec <CONTAINER ID> convert-twiki <TWIKI URL> Where <CONTAINER ID> is the docker container ID and <TWIKI URL> is the link to the TWiki document that you want to convert, e.g. https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/SoftwareDevelopmentProcess . This will result in an archive of the twiki doc, archive/SoftwareDevelopmentProcess , in your local repo and a converted copy, SoftwareDevelopmentProcess.md , placed into the root of your local github repository. If the twiki url is for a specific revision of the document, a .rNN will be included in the output filenames. Warning If the above command does not complete quickly, it means that Pandoc is having an issue with a specific section of the document. See Troubleshooting conversion for next steps. To see the converted document in your browser: Rename, move the converted document into a folder in docs/ . Document file names should be lowercase, - delimited, and descriptive but concise, e.g. markdown-migration.md or cutting-release.md It's not important to get the name/location correct on the first try as this can be discussed in the pull request sudo chown the archived and converted documents to be owned by you Add the document to the pages: section of mkdocs.yml in APA-style title case , e.g. - Migrating Documents to Markdown: 'software/markdown-migration.md' Refresh the document tree in your browser Once you can view the converted document in your browser, move onto the next section","title":"Converting documents"},{"location":"documentation/markdown-migration/#troubleshooting-conversion","text":"Pandoc sometimes has issues converting documents and requires manual intervention by removing whichever section is causing issues in the conversion. Copy the archive of the document into the root of your git repository Kill the process in the docker container: user@host $ docker exec <CONTAINER ID> pkill -9 pandoc Where <CONTAINER ID> is the docker container ID Remove a section from the copy of the archive to find the problematic section (recommendation: use a binary search strategy) Run pandoc manually: user@host $ docker exec <CONTAINER ID> pandoc -f twiki -t markdown_github <ARCHIVE COPY> > <MARKDOWN FILE> Where <CONTAINER ID> is the docker container ID, <ARCHIVE COPY> is the the file you copied in the first step and <MARKDOWN FILE> is the resulting .md file Repeat steps 2-4 until you've narrowed down the problematic section Manually convert the offending section","title":"Troubleshooting conversion"},{"location":"documentation/markdown-migration/#conversion-without-docker","text":"If you've already used the docker method , skip to the section about completing the conversion .","title":"Conversion without Docker"},{"location":"documentation/markdown-migration/#requirements_1","text":"This method requires the following: Fork and clone the repository that you chose in the above section pandoc (> 1.16) mkdocs MarkdownHighlight pygments","title":"Requirements"},{"location":"documentation/markdown-migration/#preparing-the-git-repository_1","text":"cd into your local git repository Add opensciencegrid/technology as the upstream remote repository for merging upstream changes: user@host $ git remote add upstream https://www.github.com/opensciencegrid/technology.git Create a branch for the document you plan to convert: user@host $ git branch <BRANCH NAME> master Replace <BRANCH NAME> with a name of your choice 5. Change to the branch you just created user@host $ git checkout <BRANCH NAME> Replace <BRANCH NAME> with the name you chose in the step above","title":"Preparing the git repository"},{"location":"documentation/markdown-migration/#archiving-the-twiki-document","text":"Follow the instructions for archival then continue to the next section to convert the document with pandoc.","title":"Archiving the TWiki document"},{"location":"documentation/markdown-migration/#initial-conversion-with-pandoc","text":"Pandoc is a tool that's useful for automated conversion of markdown languages. Once installed (alternatively, run pandoc via docker ), run the following command to convert TWiki to Markdown: $ pandoc -f twiki -t markdown_github <TWIKI FILE> > <MARKDOWN FILE> Where <TWIKI FILE> is the path to initial document in raw TWiki and <MARKDOWN FILE> is the path to the resulting document in GitHub Markdown. Note If you don't see output from the above command quickly, it means that Pandoc is having an issue with a specific section of the document. Stop the command (or docker container), find and temporarily remove the offending section, convert the remainder of the document with Pandoc, and manually convert the offending section.","title":"Initial conversion with Pandoc"},{"location":"documentation/markdown-migration/#previewing-your-documents-with-mkdocs","text":"Mkdocs has a development mode that can be used to preview documents as you work on them and is available via package manager or pip . Once installed , add your document(s) to the pages section of mkdocs.yml and launch the mkdocs server with the following command from the dir containing mkdocs.yml : $ PYTHONPATH = src/ mkdocs serve Access the server at http://127.0.0.1:8000 and navigate to the document you're working on. It's useful to open the original TWiki doc in an adjacent tab or window to quickly compare the two.","title":"Previewing your document(s) with Mkdocs"},{"location":"documentation/markdown-migration/#completing-the-conversion","text":"Manual review of the automatically converted documents are required since the automatic conversion process isn't perfect. This section contains a list of problems commonly encountered in automatically converted documents. Visit the style guide to ensure that the document meets all style guidelines.","title":"Completing the conversion"},{"location":"documentation/markdown-migration/#archiving-documents","text":"If the document is slated for archival (check if it says \"yes\" in the \"archived\" column of the spreadsheet), just download the document to the archive folder of your local git repository: user@host $ cd technology/ user@host $ curl '<TWIKI URL>?raw=text' | iconv -f windows-1252 > archive/<TWIKI TITLE> Where <TWIKI URL> is the link to the TWiki document that you want to download and <TWIKI TITLE> is the name that will receive the archived file For example: user@host $ cd technology user@host $ curl 'https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/SHA2Compliance?raw=text' | iconv -f windows-1252 > archive/SHA2Compliance After downloading the document, continue onto the next section to walk through pull request submission.","title":"Archiving Documents"},{"location":"documentation/markdown-migration/#submitting-the-pull-request","text":"Stage the archived raw TWiki (as well as the converted Markdown document(s) and mkdocs.yml if you are converting the document): user@host $ git add mkdocs.yml archive/<TWIKI ARCHIVE> <PATH TO CONVERTED DOC> Where <TWIKI ARCHIVE> is the name of the archived document and <PATH TO CONVERTED DOC> is the path to the .md file Commit and push your changes to your GitHub repo: user@host $ git commit -m \"<COMMIT MSG>\" user@host $ git push origin <BRANCH NAME> Change <COMMIT MSG> for a meaningful text that describes the conversion done and <BRANCH NAME> with the name chosen in the 3rd step of the Preparing the git repository section Open your browser and navigate to your GitHub fork Submit a pull request containing with the following body: <LINK TO TWIKI DOCUMENT> - [ ] Enter date into \"Migrated\" column of google sheet An example of <LINK TO TWIKI DOCUMENT> is: https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/SoftwareDevelopmentProcess If you are migrating a document, also add this task: - [ ] Add migration header to TWiki document If you are archiving a document, add this task: - [ ] Move TWiki document to the trash See an example pull request here .","title":"Submitting the pull request"},{"location":"documentation/markdown-migration/#after-the-pull-request","text":"After the pull request is merged, replace the contents of TWiki document with the div if you're migrating the document, linking to the location of the migrated document: <div style=\"border: 1px solid black; margin: 1em 0; padding: 1em; background-color: #FFDDDD; font-weight: 600;\"> This document has been migrated to !GitHub (<LINK TO GITHUB DOCUMENT>). If you wish to see the old TWiki document, use the TWiki history below. Background: At the end of year (2017), the TWiki will be retired in favor of !GitHub. You can find the various TWiki webs and their new !GitHub locations listed below: * Release3: https://www.opensciencegrid.org/docs ([[https://github.com/opensciencegrid/docs/tree/master/archive][archive]]) * !SoftwareTeam: https://www.opensciencegrid.org/technology ([[https://github.com/opensciencegrid/technology/tree/master/archive][archive]]) </div> If you are archiving a document, move it to the trash instead. Once the document has been updated or trashed, add the date to the spreadsheet and go back to your pull request and mark your tasks as complete. For example, if you completed the migration of a document: - [X] Enter date into \"Migrated\" column of google sheet - [X] Add migration div to TWiki document Currently, we do not recommend changing backlinks (links on other twiki pages that refer to the Twiki page you are migrating) to point at the new GitHub URL. This is to provide a simple reminder to users that the migration will occur, and also is likely low priority regardless as all pages will eventually migrate to GitHub. This advice may change in the future as we gain experience with this transition.","title":"After the pull request"},{"location":"documentation/markdown-migration/#reviewing-pull-requests","text":"To review pull requests, cd into the dir containing your git repository and check out the requester's branch, which the twiki-converter container should automatically notice. Here's an example checking out Brian's cut-sw-release branch of the technology repository: # Add the requester 's repo as a remote if you haven' t already user@host $ git remote add blin https://www.github.com/brianhlin/technology.git user@host $ git fetch --all user@host $ git checkout blin/cut-sw-release Refresh your browser and navigate to the document in the request.","title":"Reviewing pull requests"},{"location":"documentation/publish-osg-pages/","text":"Publishing OSG Pages with MkDocs \u00b6 The OSG uses MkDocs for site documentation and team-specific web pages (e.g. https://opensciencegrid.org/technology/ ). This document contains instructions for creating a new OSG area through GitHub and transitioning an existing MkDocs GitHub repository from Travis CI to GitHub Actions . Creating New Pages \u00b6 Need assistance? If you need any assistance with setting up your GitHub repository, please reach out to help@opensciencegrid.org . This document assumes that you are an administrator of the opensciencegrid GitHub organization. Before starting, make sure that you have the git and gem tools installed. Create a new public repository in the opensciencegrid organization (referred to as <REPO NAME> in the rest of this document) Check the box marked Initialize this repository with a README Identify the repository as using mkdocs: On the repository home page (i.e., https://github.com/opensciencegrid/<REPO NAME> ), click the gear button in the top right (next to \"About\") In the topics field, add mkdocs Click the \u201cSave Changes\u201d button Clone the repository and cd into the directory: git clone https://github.com/opensciencegrid/<REPO NAME>.git cd <REPO NAME> Create a gh-pages branch in the GitHub repository: git push origin master:gh-pages Update the contents of README.md and populate the LICENSE file with a Creative Commons Attribution 4.0 license : wget https://creativecommons.org/licenses/by/4.0/legalcode.txt > LICENSE Create and encrypt the repository deploy key Generate the repository deploy key: ssh-keygen -t rsa -b 4096 -C \"help@opensciencegrid.org\" -f deploy-key -N '' Install the travis gem: gem install travis Login using your GitHub credentials: travis login --com Enable the repository in Travis: travis enable --com -r opensciencegrid/<REPO NAME> Encrypt the deploy key and temporarily save the output (you will need the hashes later for .travis.env ): travis encrypt-file --com deploy-key Stage and commit your files: git add LICENSE README.md deploy-key.enc git commit -m \"Prepare the repository for Travis-CI deployment\" Danger Do NOT commit the unencrypted deploy-key ! Add the contents of deploy-key.pub to your repository's list of deploy keys . Make sure to check Allow write access . Follow these instructions to add the doc-ci-scripts sub-module Use the mkdocs-v1 branch of the doc-ci-scripts submodule. Create mkdocs.yml containing the following: site_name: <TITLE OF YOUR SITE> site_url: https://opensciencegrid.org/<REPO NAME> repo_name: https://github.com/opensciencegrid/<REPO NAME> theme: name: material nav: - Home: 'index.md' markdown_extensions: - admonition - codehilite: guess_lang: False - meta - toc: permalink: True Create a docs directory containing an index.md that will be your home page. Stage and commit these changes: git add mkdocs.yml docs/index.md git commit -m \"Staging initial web page contents\" Push local changes to the GitHub repository: git push origin master Your documents should be shortly available at https://www.opensciencegrid.org/<REPO NAME> Creating an ITB Area \u00b6 This section describes creating an ITB repository for a documentation area created in the previous section Create a new repository in the opensciencegrid organization and name it <REPO NAME>-itb . For example, an ITB area for the docs repository has a repository name of docs-itb . The ITB repository will be referred to as <ITB REPO NAME> in the rest of this document. Check the box marked Initialize this repository with a README Once created, add the mkdocs topic by clicking on the \"Add topics\" button Clone the repository and cd into the directory: git clone git@github.com:opensciencegrid/<ITB REPO NAME> cd <ITB REPO NAME> Create a gh-pages branch in the GitHub repository: git push origin master:gh-pages Update the contents of README.md In the non-ITB repository, create and encrypt the ITB repository deploy key cd into the non-ITB repository and generate the ITB deploy key cd <REPO NAME> ssh-keygen -t rsa -b 4096 -C \"help@opensciencegrid.org\" -f deploy-itb Install the travis gem: gem install travis Encrypt the deploy key: travis encrypt-file deploy-itb Update .travis.env with the appropriate ITB values Add and commit your files: git add .travis.env deploy-itb.enc git commit -m \"Add ITB deployment\" Danger Do NOT commit the unencrypted deploy-itb ! Add deploy-itb.pub to the ITB repository's list of deploy keys . Make sure to check Allow write access . Still in the non-ITB repository, push your local changes to the GitHub repository git push origin master Your documents should be shortly available at https://www.opensciencegrid.org/<REPO NAME> Transitioning to GitHub Actions \u00b6 Need assistance? If you need any assistance with transitioning your repository to GitHub actions, please reach out to help@opensciencegrid.org . When originally developed, OSG MkDocs repositories were set up to automatically publish web page changes through Travis CI . But in November 2020, Travis CI changed their pricing model so we are moving the automatic publishing infrastructure to GitHub Actions and using this opportunity to also upgrade the version of MkDocs. To ensure that your pages continue to be autmoatically published you will need to prepare your repository for the new version of MkDocs, disable Travis CI, and enable GitHub Actions. Preparing the repository \u00b6 Before upgrading, you must fix the following incompatibilities: Rename the pages: section of mkdocs.yml to nav: . The section contents are identical; only the name is changing. Update all of the links in the documents as follows: Ensure links end in .md Ensure links are document-relative, not site-relative For example, links should be of the form ../software/development-process.md instead of /software/development-process . Push your changes to your fork and create a pull request Previewing your pages with Docker If you would like to ensure the correctness of your fixes, run the following command: docker run -it -v ${PWD}/docs -p 8000:8000 squidfunk/mkdocs-material:6.1.4 After running this command, enter localhost:8000 in your browser to preview your pages. Saved changes made to .md files are automatically updated in your browser! Disabling Travis CI \u00b6 After you've prepared your repository for the transition, disable Travis CI by removing related files from it. Perform the following actions from the command-line: Create a fresh clone of the repository that is still using Travis CI: git clone https://github.com/opensciencegrid/<GIT REPOSITORY> Important For the rest of the steps in this documentation to work, you should create a new clone of the repository using the above command, even if you already have an existing copy! cd into the directory containing the repository (should be the same as <GIT REPOSITORY> by default) Remove all of the Travs CI related files: git rm ci git rm .travis.env deploy-key.enc .travis.yml Commit your changes: git commit -am \"Disable Travis CI\" Push your changes (you will be prompted for your GitHub credentials): git push origin master Enabling GitHub Actions \u00b6 The new method for validating and publishing OSG pages for a MkDocs repository can be enabled entirely through the GitHub web interface : Navigate to the opensciencegrid fork of the GitHub repository in your web browser, e.g. https://github.com/opensciencegrid/docs/ Click on the Actions tab: Find the Publish MkDocs static HTML workflow by the Open Science Grid and click the Set up this workflow button: Click on the Start commit drop-down button then click Commit new file : Navigate to the Actions tab to verify your transition. If you see green check marks, your pages are now being published with GitHub Actions! (Optional) Enable the Validate MkDocs Static HTML workflow to check for broken links and markdown correctness of pull requests to the repository. Navigate to the Actions tab as before Click on the New Workflow button: Find the Validate MkDocs static HTML workflow by the Open Science Grid and click Set up this workflow As before, click on the Start commit drop-down button then click Commit new file","title":"Publishing OSG pages"},{"location":"documentation/publish-osg-pages/#publishing-osg-pages-with-mkdocs","text":"The OSG uses MkDocs for site documentation and team-specific web pages (e.g. https://opensciencegrid.org/technology/ ). This document contains instructions for creating a new OSG area through GitHub and transitioning an existing MkDocs GitHub repository from Travis CI to GitHub Actions .","title":"Publishing OSG Pages with MkDocs"},{"location":"documentation/publish-osg-pages/#creating-new-pages","text":"Need assistance? If you need any assistance with setting up your GitHub repository, please reach out to help@opensciencegrid.org . This document assumes that you are an administrator of the opensciencegrid GitHub organization. Before starting, make sure that you have the git and gem tools installed. Create a new public repository in the opensciencegrid organization (referred to as <REPO NAME> in the rest of this document) Check the box marked Initialize this repository with a README Identify the repository as using mkdocs: On the repository home page (i.e., https://github.com/opensciencegrid/<REPO NAME> ), click the gear button in the top right (next to \"About\") In the topics field, add mkdocs Click the \u201cSave Changes\u201d button Clone the repository and cd into the directory: git clone https://github.com/opensciencegrid/<REPO NAME>.git cd <REPO NAME> Create a gh-pages branch in the GitHub repository: git push origin master:gh-pages Update the contents of README.md and populate the LICENSE file with a Creative Commons Attribution 4.0 license : wget https://creativecommons.org/licenses/by/4.0/legalcode.txt > LICENSE Create and encrypt the repository deploy key Generate the repository deploy key: ssh-keygen -t rsa -b 4096 -C \"help@opensciencegrid.org\" -f deploy-key -N '' Install the travis gem: gem install travis Login using your GitHub credentials: travis login --com Enable the repository in Travis: travis enable --com -r opensciencegrid/<REPO NAME> Encrypt the deploy key and temporarily save the output (you will need the hashes later for .travis.env ): travis encrypt-file --com deploy-key Stage and commit your files: git add LICENSE README.md deploy-key.enc git commit -m \"Prepare the repository for Travis-CI deployment\" Danger Do NOT commit the unencrypted deploy-key ! Add the contents of deploy-key.pub to your repository's list of deploy keys . Make sure to check Allow write access . Follow these instructions to add the doc-ci-scripts sub-module Use the mkdocs-v1 branch of the doc-ci-scripts submodule. Create mkdocs.yml containing the following: site_name: <TITLE OF YOUR SITE> site_url: https://opensciencegrid.org/<REPO NAME> repo_name: https://github.com/opensciencegrid/<REPO NAME> theme: name: material nav: - Home: 'index.md' markdown_extensions: - admonition - codehilite: guess_lang: False - meta - toc: permalink: True Create a docs directory containing an index.md that will be your home page. Stage and commit these changes: git add mkdocs.yml docs/index.md git commit -m \"Staging initial web page contents\" Push local changes to the GitHub repository: git push origin master Your documents should be shortly available at https://www.opensciencegrid.org/<REPO NAME>","title":"Creating New Pages"},{"location":"documentation/publish-osg-pages/#creating-an-itb-area","text":"This section describes creating an ITB repository for a documentation area created in the previous section Create a new repository in the opensciencegrid organization and name it <REPO NAME>-itb . For example, an ITB area for the docs repository has a repository name of docs-itb . The ITB repository will be referred to as <ITB REPO NAME> in the rest of this document. Check the box marked Initialize this repository with a README Once created, add the mkdocs topic by clicking on the \"Add topics\" button Clone the repository and cd into the directory: git clone git@github.com:opensciencegrid/<ITB REPO NAME> cd <ITB REPO NAME> Create a gh-pages branch in the GitHub repository: git push origin master:gh-pages Update the contents of README.md In the non-ITB repository, create and encrypt the ITB repository deploy key cd into the non-ITB repository and generate the ITB deploy key cd <REPO NAME> ssh-keygen -t rsa -b 4096 -C \"help@opensciencegrid.org\" -f deploy-itb Install the travis gem: gem install travis Encrypt the deploy key: travis encrypt-file deploy-itb Update .travis.env with the appropriate ITB values Add and commit your files: git add .travis.env deploy-itb.enc git commit -m \"Add ITB deployment\" Danger Do NOT commit the unencrypted deploy-itb ! Add deploy-itb.pub to the ITB repository's list of deploy keys . Make sure to check Allow write access . Still in the non-ITB repository, push your local changes to the GitHub repository git push origin master Your documents should be shortly available at https://www.opensciencegrid.org/<REPO NAME>","title":"Creating an ITB Area"},{"location":"documentation/publish-osg-pages/#transitioning-to-github-actions","text":"Need assistance? If you need any assistance with transitioning your repository to GitHub actions, please reach out to help@opensciencegrid.org . When originally developed, OSG MkDocs repositories were set up to automatically publish web page changes through Travis CI . But in November 2020, Travis CI changed their pricing model so we are moving the automatic publishing infrastructure to GitHub Actions and using this opportunity to also upgrade the version of MkDocs. To ensure that your pages continue to be autmoatically published you will need to prepare your repository for the new version of MkDocs, disable Travis CI, and enable GitHub Actions.","title":"Transitioning to GitHub Actions"},{"location":"documentation/publish-osg-pages/#preparing-the-repository","text":"Before upgrading, you must fix the following incompatibilities: Rename the pages: section of mkdocs.yml to nav: . The section contents are identical; only the name is changing. Update all of the links in the documents as follows: Ensure links end in .md Ensure links are document-relative, not site-relative For example, links should be of the form ../software/development-process.md instead of /software/development-process . Push your changes to your fork and create a pull request Previewing your pages with Docker If you would like to ensure the correctness of your fixes, run the following command: docker run -it -v ${PWD}/docs -p 8000:8000 squidfunk/mkdocs-material:6.1.4 After running this command, enter localhost:8000 in your browser to preview your pages. Saved changes made to .md files are automatically updated in your browser!","title":"Preparing the repository"},{"location":"documentation/publish-osg-pages/#disabling-travis-ci","text":"After you've prepared your repository for the transition, disable Travis CI by removing related files from it. Perform the following actions from the command-line: Create a fresh clone of the repository that is still using Travis CI: git clone https://github.com/opensciencegrid/<GIT REPOSITORY> Important For the rest of the steps in this documentation to work, you should create a new clone of the repository using the above command, even if you already have an existing copy! cd into the directory containing the repository (should be the same as <GIT REPOSITORY> by default) Remove all of the Travs CI related files: git rm ci git rm .travis.env deploy-key.enc .travis.yml Commit your changes: git commit -am \"Disable Travis CI\" Push your changes (you will be prompted for your GitHub credentials): git push origin master","title":"Disabling Travis CI"},{"location":"documentation/publish-osg-pages/#enabling-github-actions","text":"The new method for validating and publishing OSG pages for a MkDocs repository can be enabled entirely through the GitHub web interface : Navigate to the opensciencegrid fork of the GitHub repository in your web browser, e.g. https://github.com/opensciencegrid/docs/ Click on the Actions tab: Find the Publish MkDocs static HTML workflow by the Open Science Grid and click the Set up this workflow button: Click on the Start commit drop-down button then click Commit new file : Navigate to the Actions tab to verify your transition. If you see green check marks, your pages are now being published with GitHub Actions! (Optional) Enable the Validate MkDocs Static HTML workflow to check for broken links and markdown correctness of pull requests to the repository. Navigate to the Actions tab as before Click on the New Workflow button: Find the Validate MkDocs static HTML workflow by the Open Science Grid and click Set up this workflow As before, click on the Start commit drop-down button then click Commit new file","title":"Enabling GitHub Actions"},{"location":"documentation/reviewing-documentation/","text":"Reviewing Software Documentation \u00b6 To maintain quality documentation, we regularly review our documentation for clarity and correctness. Performing a Review \u00b6 When reviewing a document, follow the instructions of the document to a tee as if you were completely new to the OSG. Some common things to note and/or fix: After completing the instructions in the document: Does the document inform you how to use the product? Does the document tell you how to verify that the product is functioning? Does the product work? Incorrect or out of date instructions Steps that may be particularly conducive to software or default configuration as a solution Lack of clarity or any other confusion you may have Additionally, ensure that the document meets our style and layout guidelines, as well as correct spelling and grammar. Completing a Review \u00b6 Upon completion of the review: Update (or add) the review date in the metadata at the top of the document above the h1 : DateReviewed: YYYY-MM-DD Submit a pull request with the above change and any other improvements from the review","title":"Reviewing Documentation"},{"location":"documentation/reviewing-documentation/#reviewing-software-documentation","text":"To maintain quality documentation, we regularly review our documentation for clarity and correctness.","title":"Reviewing Software Documentation"},{"location":"documentation/reviewing-documentation/#performing-a-review","text":"When reviewing a document, follow the instructions of the document to a tee as if you were completely new to the OSG. Some common things to note and/or fix: After completing the instructions in the document: Does the document inform you how to use the product? Does the document tell you how to verify that the product is functioning? Does the product work? Incorrect or out of date instructions Steps that may be particularly conducive to software or default configuration as a solution Lack of clarity or any other confusion you may have Additionally, ensure that the document meets our style and layout guidelines, as well as correct spelling and grammar.","title":"Performing a Review"},{"location":"documentation/reviewing-documentation/#completing-a-review","text":"Upon completion of the review: Update (or add) the review date in the metadata at the top of the document above the h1 : DateReviewed: YYYY-MM-DD Submit a pull request with the above change and any other improvements from the review","title":"Completing a Review"},{"location":"documentation/style-guide/","text":"Markdown Style Guide \u00b6 This document contains markdown conventions that are used in OSG Software documentation. Meta \u00b6 Run a spellchecker to catch any obvious spelling mistakes. Use official capitalizations when referring to titles (i.e., HTTPS, HTCondor) Start each new sentence on a new line. Lines should not exceed 120 characters, except in the case of link text , but may be split at earlier points (e.g. punctuation). Headings \u00b6 Use the following conventions for headings: The title should be the only level 1 heading Level 1 headings should use the ==== format Level 2 headings should use the ---- format Use APA-style title case for level 1 and level 2 headings. Only capitalize the first word for all other headings. Other heading levels should use the appropriate number of # Go no deeper than of level 5 headings Spin-off a new document or re-organize the existing document if you find that you regularly need level 5 headings. Links \u00b6 Only use document relative links in MkDocs 1.0.0 and newer MkDocs 1.0.0 does not support site-relative links (e.g. /software/development-process.md ). You must use document-relative links (e.g. ../software/development-process.md ) instead. Earlier versions of this guide recommended site-relative links; these only worked in earlier versions of MkDocs. Document-relative links work in all versions of MkDocs. Please convert any site-relative links to document-relative links before updating the doc-ci-scripts submodule to use MkDocs 1.0.0+. Links to internal pages must have the .md extension. (Earlier versions of this guide said links should not have the .md extension, but adding the .md extension is required for MkDocs 1.0.0+. Links with the .md extension work in all versions of MkDocs.) Links to the area's homepage (e.g. https://opensciencegrid.org/technology/) need to be of the form [link text](/) Links to other areas (like from https://opensciencegrid.org/technology/ to https://opensciencegrid.org/operations/) need to be absolute links (i.e. include the domain name) Section links \u00b6 To link sections within a page, lowercase the entire section name and replace spaces with dashes. If there are multiple sections with the same name you can link the subsequent sections by appending _N where N is the section's ordinal number minus one, e.g. append _1 for the second section. For example, if you have three sections named \"Optional Configuration\", link them like so: [1st section](#optional-configuration) [2nd section](#optional-configuration_1) [3rd section](#optional-configuration_2) Command blocks and file snippets \u00b6 Command blocks and file snippets outside of lists should be wrapped in three back-ticks (```) followed by an optional code highlighting format: ```console # stuff ``` Command blocks and file snippets inside of a list should use the appropriate number of spaces before three colons followed by an optional code highlighting format: # stuff See the lists section for details on properly formatting command blocks within a list. We use the Pygments highlighting library for syntax; it knows about 100 different languages. The Pygments website contains a live renderer if you want to see how your text will come out. Please use the console language for shell sessions. Root and user prompts \u00b6 When specifying instructions for the command-line, indicate to users whether the commands can be run as root ( root@host # ) or as an unprivileged user ( user@host $ ). For example: root@host # useradd -m osguser root@host # su - osguser user@host $ whoami osguser It can provide helpful context to use a more specific hostname in the prompt than host . For example, if you're writing a doc for setting up a Storage Element and a command is run as root on the SE, use root@se # . Or if you're testing the SE from the client side and the command is run as a normal user on a client, use user@client $ . Highlighting user input \u00b6 Use descriptive, all-caps text wrapped in angle brackets to to highlight areas that users would have to insert text specific to their site, e.g. <REMOTE SSH HOSTNAME> . The same text should be cited verbatim in surrounding prose with further explanation with examples of appropriate values. For additional visual highlighting, use hl_lines=\"N\" , where N can indicate multiple line numbers: ```console hl_lines=\"1 3\" root@condor-ce # yum install htcondor-ce # this is a comment root@condor-ce # condor_ce_trace -d <CE HOSTNAME> ```` Similarly, you may also specify :::console hl_lines=\"N\" for indented command blocks, replacing console with any language supported by Pygments . The above block is rendered below: root@condor-ce # yum install htcondor-ce # this is a comment root@condor-ce # condor_ce_trace -d <CE HOSTNAME> Lists \u00b6 When constructing lists, use the following guidelines: Use 1. for each item in a numbered list To make sure the contents of code blocks, file snippets, and subsequent paragraphs are indented properly, use the following formatting: For code blocks or file snippets, add an empty line after any regular text, then insert (N+1)*4 spaces at the beginning of each line, where N is the level of the item in the list. To apply code highlighting, start the code block with :::<FORMAT> ; see this page for details, including possible highlighting formats. For an example of formatting a code section inside a list, see the release series document . For additional text (i.e. after a code block), insert N*4 spaces at the beginning of each line, where N is the level of the item in the list. For example: 1. Foo - Bar :::console COMMAND BLOCK text associated with Bar text associated with Foo 1. Baz FILE SNIPPET There are 12 spaces and 8 spaces in front of the command block and text associated with Bar , respectively; 4 spaces in front of the text associated with Foo ; and 8 spaces in front of the file snippet associated with Baz . The above block is rendered below: Foo Bar COMMAND BLOCK text associated with Bar text associated with Foo Baz FILE SNIPPET Notes \u00b6 To catch the user's attention for important items or pitfalls, we used %NOTE% TWiki macros, these can be replaced with admonition-style notes and warnings: !!! note things to note or !!! warning if a user doesn't do this thing, bad stuff will happen The above blocks are rendered below as an example. Note things to note and Warning if a user doesn't do this thing, bad stuff will happen For a full list of admonition styles, see the documentation here .","title":"Markdown Style Guide"},{"location":"documentation/style-guide/#markdown-style-guide","text":"This document contains markdown conventions that are used in OSG Software documentation.","title":"Markdown Style Guide"},{"location":"documentation/style-guide/#meta","text":"Run a spellchecker to catch any obvious spelling mistakes. Use official capitalizations when referring to titles (i.e., HTTPS, HTCondor) Start each new sentence on a new line. Lines should not exceed 120 characters, except in the case of link text , but may be split at earlier points (e.g. punctuation).","title":"Meta"},{"location":"documentation/style-guide/#headings","text":"Use the following conventions for headings: The title should be the only level 1 heading Level 1 headings should use the ==== format Level 2 headings should use the ---- format Use APA-style title case for level 1 and level 2 headings. Only capitalize the first word for all other headings. Other heading levels should use the appropriate number of # Go no deeper than of level 5 headings Spin-off a new document or re-organize the existing document if you find that you regularly need level 5 headings.","title":"Headings"},{"location":"documentation/style-guide/#links","text":"Only use document relative links in MkDocs 1.0.0 and newer MkDocs 1.0.0 does not support site-relative links (e.g. /software/development-process.md ). You must use document-relative links (e.g. ../software/development-process.md ) instead. Earlier versions of this guide recommended site-relative links; these only worked in earlier versions of MkDocs. Document-relative links work in all versions of MkDocs. Please convert any site-relative links to document-relative links before updating the doc-ci-scripts submodule to use MkDocs 1.0.0+. Links to internal pages must have the .md extension. (Earlier versions of this guide said links should not have the .md extension, but adding the .md extension is required for MkDocs 1.0.0+. Links with the .md extension work in all versions of MkDocs.) Links to the area's homepage (e.g. https://opensciencegrid.org/technology/) need to be of the form [link text](/) Links to other areas (like from https://opensciencegrid.org/technology/ to https://opensciencegrid.org/operations/) need to be absolute links (i.e. include the domain name)","title":"Links"},{"location":"documentation/style-guide/#section-links","text":"To link sections within a page, lowercase the entire section name and replace spaces with dashes. If there are multiple sections with the same name you can link the subsequent sections by appending _N where N is the section's ordinal number minus one, e.g. append _1 for the second section. For example, if you have three sections named \"Optional Configuration\", link them like so: [1st section](#optional-configuration) [2nd section](#optional-configuration_1) [3rd section](#optional-configuration_2)","title":"Section links"},{"location":"documentation/style-guide/#command-blocks-and-file-snippets","text":"Command blocks and file snippets outside of lists should be wrapped in three back-ticks (```) followed by an optional code highlighting format: ```console # stuff ``` Command blocks and file snippets inside of a list should use the appropriate number of spaces before three colons followed by an optional code highlighting format: # stuff See the lists section for details on properly formatting command blocks within a list. We use the Pygments highlighting library for syntax; it knows about 100 different languages. The Pygments website contains a live renderer if you want to see how your text will come out. Please use the console language for shell sessions.","title":"Command blocks and file snippets"},{"location":"documentation/style-guide/#root-and-user-prompts","text":"When specifying instructions for the command-line, indicate to users whether the commands can be run as root ( root@host # ) or as an unprivileged user ( user@host $ ). For example: root@host # useradd -m osguser root@host # su - osguser user@host $ whoami osguser It can provide helpful context to use a more specific hostname in the prompt than host . For example, if you're writing a doc for setting up a Storage Element and a command is run as root on the SE, use root@se # . Or if you're testing the SE from the client side and the command is run as a normal user on a client, use user@client $ .","title":"Root and user prompts"},{"location":"documentation/style-guide/#highlighting-user-input","text":"Use descriptive, all-caps text wrapped in angle brackets to to highlight areas that users would have to insert text specific to their site, e.g. <REMOTE SSH HOSTNAME> . The same text should be cited verbatim in surrounding prose with further explanation with examples of appropriate values. For additional visual highlighting, use hl_lines=\"N\" , where N can indicate multiple line numbers: ```console hl_lines=\"1 3\" root@condor-ce # yum install htcondor-ce # this is a comment root@condor-ce # condor_ce_trace -d <CE HOSTNAME> ```` Similarly, you may also specify :::console hl_lines=\"N\" for indented command blocks, replacing console with any language supported by Pygments . The above block is rendered below: root@condor-ce # yum install htcondor-ce # this is a comment root@condor-ce # condor_ce_trace -d <CE HOSTNAME>","title":"Highlighting user input"},{"location":"documentation/style-guide/#lists","text":"When constructing lists, use the following guidelines: Use 1. for each item in a numbered list To make sure the contents of code blocks, file snippets, and subsequent paragraphs are indented properly, use the following formatting: For code blocks or file snippets, add an empty line after any regular text, then insert (N+1)*4 spaces at the beginning of each line, where N is the level of the item in the list. To apply code highlighting, start the code block with :::<FORMAT> ; see this page for details, including possible highlighting formats. For an example of formatting a code section inside a list, see the release series document . For additional text (i.e. after a code block), insert N*4 spaces at the beginning of each line, where N is the level of the item in the list. For example: 1. Foo - Bar :::console COMMAND BLOCK text associated with Bar text associated with Foo 1. Baz FILE SNIPPET There are 12 spaces and 8 spaces in front of the command block and text associated with Bar , respectively; 4 spaces in front of the text associated with Foo ; and 8 spaces in front of the file snippet associated with Baz . The above block is rendered below: Foo Bar COMMAND BLOCK text associated with Bar text associated with Foo Baz FILE SNIPPET","title":"Lists"},{"location":"documentation/style-guide/#notes","text":"To catch the user's attention for important items or pitfalls, we used %NOTE% TWiki macros, these can be replaced with admonition-style notes and warnings: !!! note things to note or !!! warning if a user doesn't do this thing, bad stuff will happen The above blocks are rendered below as an example. Note things to note and Warning if a user doesn't do this thing, bad stuff will happen For a full list of admonition styles, see the documentation here .","title":"Notes"},{"location":"documentation/writing-documentation/","text":"Writing OSG Documentation \u00b6 Many OSG pages are written in markdown , built using MkDocs , and served via GitHub Pages . To contribute content , submit a pull request to the relevant GitHub repository, which are tagged with \"mkdocs\". List of documentation repos This document contains instructions, recommendations, and guidelines for writing OSG content. Contributing Content \u00b6 To contribute minor content changes (e.g., fixing typos, changing a couple of sentences), we recommend using the GitHub web interface to submit a pull request. To contribute major content changes to one of the above OSG areas, make sure you and the machine you'll be working on meet the following requirements: Have a Github account Installations of the following tools: Docker git Preparing the git repository \u00b6 Before making any content changes, you will need to prepare a local git clone: Fork and clone the GitHub repository that you'd like to contribute to Add the upstream Github repository as a remote . For example, if you are working on the User School 2018 pages: $ git remote add upstream https://github.com/opensciencegrid/user-school-2018 Previewing the pages \u00b6 To preview the pages, start a MkDocs development server. The development server will automatically detect any content changes and make them viewable in your browser. cd into the directory containing the local clone of your GitHub fork Start a MkDocs development server to preview your changes: $ docker run --rm -p 8000 :8000 -v ${ PWD } :/docs squidfunk/mkdocs-material:7.1.0 To preview your changes visit localhost:8000 in the browser of your choice. The server can be stopped with Ctrl-C . Making content changes \u00b6 To contribute content to the OSG, follow these steps to submit a pull request with your desired changes: cd into the directory containing the local clone of your Github fork Create a branch based on a branch from the upstream repository: $ git fetch --all $ git checkout -b <BRANCH NAME> upstream/<UPSTREAM BRANCH NAME> Replace <BRANCH NAME> with a name of your choice and <UPSTREAM BRANCH NAME> with a branch name from the upstream repository. For example, instructors for the 2018 User School should use the materials branch: $ git checkout -b example_branch_name upstream/materials If you do not know which upstream branch to use, pick master . Make your changes in the docs/ directory of your local clone, following the style guide : If you are making changes to an existing page: Open mkdocs.yml and find the location of the file relative to the docs/ directory Make your changes to that file and move onto the next step If you are contributing a new page: Name the page. Page file names should be lowercase, - delimited, and concise but descriptive, e.g. markdown-migration.md or cutting-release.md Place the page in the relevant sub-folder of the docs/ directory. If you are unsure of the appropriate location, note that in the description of the pull request. Add the document to the nav: section of mkdocs.yml in APA-style title case , e.g. - Migrating Documents to Markdown: 'software/markdown-migration.md' !!!note If mkdocs.yml contains does not contain a nav: section, add the above to the pages: section instead. This means that the repository is using an older version of MkDocs and will need to be transitioned to GitHub Actions . If you are writing site administrator documentation, following the suggested document layout If you haven't already, start a Mkdocs development server to preview your changes . Continue making changes until you are satisfied with the preview, then stage your changes in git: $ git add <YOUR FILE> <YOUR 2nd FILE>...<YOUR Nth FILE> Where <YOUR * FILE> is any file that contains changes that you'd wish to make. If you are adding a new page, one of the files should be mkdocs.yml . Commit your changes and push them to your Github fork: $ git commit -m \"<DESCRIPTIVE COMMIT MESSAGE>\" $ git push origin Where <DESCRIPTIVE COMMIT MESSAGE> is a meaningful short text that identifies the changes applied, it is a good practice, to concatenate the ticket number associated e.g. \"Removing color macros (SOFTWARE-3739)\" From your Github fork, submit a pull request Deploying content to the ITB (advanced) \u00b6 If you are a member of the OSG software and release team, you can preview large changes to the ITB docs or ITB technology by pushing a branch that starts with an itb. prefix to the opensciencegrid/docs repo. For example: $ git remote add upstream https://github.com/opensciencegrid/docs.git $ git checkout new_docs $ git push upstream new_docs:itb.new_docs Note Since there is only one ITB docs area, simultaneous new commits to different itb.* branches will overwrite each other's changes. To re-deploy your changes, find your Travis-CI build and restart it BUT coordinate with the author of the other commits to avoid conflicts. Document Layout \u00b6 This section contains suggested layouts of externally-facing, site administrator documentation . The introduction is the only layout requirement for documents except for installation guides. Introductions \u00b6 All documents should start with an introduction that explains what the document contains, what the product does, and why someone may want to use it. In the past, document introductions were included in About this... sections due to the layout of the table of contents. Since the table of contents is included in the sidebar this is unnecessary and introduction content should go directly below the title heading without any second-level headings. The HTCondor-CE installation guide is an example that meet all of the above criteria. Installation guides \u00b6 In addition to the introduction above, installation documents should have the following sections: Before Starting: This section should contain information for any prepatory work that the site administrator should do or consider before proceeding with the installation ( example ). Installation: Procedural instructions that tell the user how to install the software ( example ) Validation: How does the user make sure their installation is functional? Optionally, the following sections should be included as necessary. Overview: if the introduction becomes large and unwieldy, extract the details of what the product does into an overview section Configuration: required configuration steps ( example ) as well as a sub-section for optional configurations. For long optional configuration sections, consider creating alist of contents at the top of the sub-section ( example ). Troubleshooting: common issues that users encounter and their fixes Reference: Details about configuration and log files, unix users, certificates, networking, links to relevant upstream documentation, etc. ( example ) If any of the sections become too large, consider separating them out and linking to the new documents ( example ). Tips for Writing Procedural Instructions \u00b6 Title the procedure with the user goal, usually starting with a gerund; e.g.: Installing the Frobnosticator Number all steps (as opposed to using bullets) List steps in order in which they are performed Each step should begin with a single-line instruction in plain English, in command form; e.g.: Make sure that the Frobnosticator configuration file is world-writable If the means of carrying out the instruction is unclear or complex, include clarification, ideally in the form of a working example; e.g.: chmod a+x /usr/share/frobnosticator/frob.conf Put clarifying information in separate paragraphs within the step Put critical information about the whole procedure in one or more paragraphs before the numbered steps Put supplemental information about the whole procedure in one or more paragraphs after the numbered steps Avoid pronouns when writing technical articles or documentation e.g., install foo rather than install it . Avoid superfluous statements like you will want , you want , you should e.g., install foo rather than you will want to install foo . Use the imperative form in step-by-step instructions, e.g. install package foo rather than the package foo should be installed","title":"Writing Documentation"},{"location":"documentation/writing-documentation/#writing-osg-documentation","text":"Many OSG pages are written in markdown , built using MkDocs , and served via GitHub Pages . To contribute content , submit a pull request to the relevant GitHub repository, which are tagged with \"mkdocs\". List of documentation repos This document contains instructions, recommendations, and guidelines for writing OSG content.","title":"Writing OSG Documentation"},{"location":"documentation/writing-documentation/#contributing-content","text":"To contribute minor content changes (e.g., fixing typos, changing a couple of sentences), we recommend using the GitHub web interface to submit a pull request. To contribute major content changes to one of the above OSG areas, make sure you and the machine you'll be working on meet the following requirements: Have a Github account Installations of the following tools: Docker git","title":"Contributing Content"},{"location":"documentation/writing-documentation/#preparing-the-git-repository","text":"Before making any content changes, you will need to prepare a local git clone: Fork and clone the GitHub repository that you'd like to contribute to Add the upstream Github repository as a remote . For example, if you are working on the User School 2018 pages: $ git remote add upstream https://github.com/opensciencegrid/user-school-2018","title":"Preparing the git repository"},{"location":"documentation/writing-documentation/#previewing-the-pages","text":"To preview the pages, start a MkDocs development server. The development server will automatically detect any content changes and make them viewable in your browser. cd into the directory containing the local clone of your GitHub fork Start a MkDocs development server to preview your changes: $ docker run --rm -p 8000 :8000 -v ${ PWD } :/docs squidfunk/mkdocs-material:7.1.0 To preview your changes visit localhost:8000 in the browser of your choice. The server can be stopped with Ctrl-C .","title":"Previewing the pages"},{"location":"documentation/writing-documentation/#making-content-changes","text":"To contribute content to the OSG, follow these steps to submit a pull request with your desired changes: cd into the directory containing the local clone of your Github fork Create a branch based on a branch from the upstream repository: $ git fetch --all $ git checkout -b <BRANCH NAME> upstream/<UPSTREAM BRANCH NAME> Replace <BRANCH NAME> with a name of your choice and <UPSTREAM BRANCH NAME> with a branch name from the upstream repository. For example, instructors for the 2018 User School should use the materials branch: $ git checkout -b example_branch_name upstream/materials If you do not know which upstream branch to use, pick master . Make your changes in the docs/ directory of your local clone, following the style guide : If you are making changes to an existing page: Open mkdocs.yml and find the location of the file relative to the docs/ directory Make your changes to that file and move onto the next step If you are contributing a new page: Name the page. Page file names should be lowercase, - delimited, and concise but descriptive, e.g. markdown-migration.md or cutting-release.md Place the page in the relevant sub-folder of the docs/ directory. If you are unsure of the appropriate location, note that in the description of the pull request. Add the document to the nav: section of mkdocs.yml in APA-style title case , e.g. - Migrating Documents to Markdown: 'software/markdown-migration.md' !!!note If mkdocs.yml contains does not contain a nav: section, add the above to the pages: section instead. This means that the repository is using an older version of MkDocs and will need to be transitioned to GitHub Actions . If you are writing site administrator documentation, following the suggested document layout If you haven't already, start a Mkdocs development server to preview your changes . Continue making changes until you are satisfied with the preview, then stage your changes in git: $ git add <YOUR FILE> <YOUR 2nd FILE>...<YOUR Nth FILE> Where <YOUR * FILE> is any file that contains changes that you'd wish to make. If you are adding a new page, one of the files should be mkdocs.yml . Commit your changes and push them to your Github fork: $ git commit -m \"<DESCRIPTIVE COMMIT MESSAGE>\" $ git push origin Where <DESCRIPTIVE COMMIT MESSAGE> is a meaningful short text that identifies the changes applied, it is a good practice, to concatenate the ticket number associated e.g. \"Removing color macros (SOFTWARE-3739)\" From your Github fork, submit a pull request","title":"Making content changes"},{"location":"documentation/writing-documentation/#deploying-content-to-the-itb-advanced","text":"If you are a member of the OSG software and release team, you can preview large changes to the ITB docs or ITB technology by pushing a branch that starts with an itb. prefix to the opensciencegrid/docs repo. For example: $ git remote add upstream https://github.com/opensciencegrid/docs.git $ git checkout new_docs $ git push upstream new_docs:itb.new_docs Note Since there is only one ITB docs area, simultaneous new commits to different itb.* branches will overwrite each other's changes. To re-deploy your changes, find your Travis-CI build and restart it BUT coordinate with the author of the other commits to avoid conflicts.","title":"Deploying content to the ITB (advanced)"},{"location":"documentation/writing-documentation/#document-layout","text":"This section contains suggested layouts of externally-facing, site administrator documentation . The introduction is the only layout requirement for documents except for installation guides.","title":"Document Layout"},{"location":"documentation/writing-documentation/#introductions","text":"All documents should start with an introduction that explains what the document contains, what the product does, and why someone may want to use it. In the past, document introductions were included in About this... sections due to the layout of the table of contents. Since the table of contents is included in the sidebar this is unnecessary and introduction content should go directly below the title heading without any second-level headings. The HTCondor-CE installation guide is an example that meet all of the above criteria.","title":"Introductions"},{"location":"documentation/writing-documentation/#installation-guides","text":"In addition to the introduction above, installation documents should have the following sections: Before Starting: This section should contain information for any prepatory work that the site administrator should do or consider before proceeding with the installation ( example ). Installation: Procedural instructions that tell the user how to install the software ( example ) Validation: How does the user make sure their installation is functional? Optionally, the following sections should be included as necessary. Overview: if the introduction becomes large and unwieldy, extract the details of what the product does into an overview section Configuration: required configuration steps ( example ) as well as a sub-section for optional configurations. For long optional configuration sections, consider creating alist of contents at the top of the sub-section ( example ). Troubleshooting: common issues that users encounter and their fixes Reference: Details about configuration and log files, unix users, certificates, networking, links to relevant upstream documentation, etc. ( example ) If any of the sections become too large, consider separating them out and linking to the new documents ( example ).","title":"Installation guides"},{"location":"documentation/writing-documentation/#tips-for-writing-procedural-instructions","text":"Title the procedure with the user goal, usually starting with a gerund; e.g.: Installing the Frobnosticator Number all steps (as opposed to using bullets) List steps in order in which they are performed Each step should begin with a single-line instruction in plain English, in command form; e.g.: Make sure that the Frobnosticator configuration file is world-writable If the means of carrying out the instruction is unclear or complex, include clarification, ideally in the form of a working example; e.g.: chmod a+x /usr/share/frobnosticator/frob.conf Put clarifying information in separate paragraphs within the step Put critical information about the whole procedure in one or more paragraphs before the numbered steps Put supplemental information about the whole procedure in one or more paragraphs after the numbered steps Avoid pronouns when writing technical articles or documentation e.g., install foo rather than install it . Avoid superfluous statements like you will want , you want , you should e.g., install foo rather than you will want to install foo . Use the imperative form in step-by-step instructions, e.g. install package foo rather than the package foo should be installed","title":"Tips for Writing Procedural Instructions"},{"location":"meetings/TechAreaTemplate/","text":"OSG Technology Area Meeting, 17 July 2017 \u00b6 Coordinates: Conference: 719-284-5267, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianB, BrianL, Carl, Derek, Edgar, Jeff, Marian, Marty, Mat, Suchandra, TimC, TimT, Xin Announcements \u00b6 Triage Duty \u00b6 This week: Next week: ( ) open tickets JIRA \u00b6 # of tickets \u0394 State 141 -17 Open 33 +9 In Progress 4 +2 Ready for Testing 0 -12 Ready for Release Release Schedule \u00b6 Name Version Development Freeze Package Freeze Release Notes August 3.4.2, 3.3.27 2017-07-24 2017-07-31 2017-08-08 September 3.4.3, 3.3.28 2017-08-28 2017-09-05 2017-09-12 5 week cycle October 3.4.4, 3.3.29 2017-09-25 2017-10-02 2017-10-10 Notes: Additional \u201curgent\u201d releases may be scheduled for the 4th Tuesday of each month. The Testing date is when acceptance testing will be scheduled for releasable packages; if a package is added after this date, it may not be possible to schedule adequate testing time, thereby forcing it into the next release. OSG Software Team \u00b6 Discussions \u00b6 Support Update \u00b6 OSG Release Team \u00b6 3.3.27 \u0394 Both \u0394 3.4.2 \u0394 Total \u0394 Status 1 +0 4 +0 2 +0 7 +0 Open 0 +0 10 +0 4 +0 14 +0 In Progress 2 +0 1 +0 1 +0 4 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 3 +0 15 +0 7 +0 25 +0 Total Discussions \u00b6 OSG Investigations Team \u00b6 Last Week \u00b6 This Week \u00b6 Ongoing \u00b6","title":"OSG Technology Area Meeting, 17 July 2017"},{"location":"meetings/TechAreaTemplate/#osg-technology-area-meeting-17-july-2017","text":"Coordinates: Conference: 719-284-5267, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianB, BrianL, Carl, Derek, Edgar, Jeff, Marian, Marty, Mat, Suchandra, TimC, TimT, Xin","title":"OSG Technology Area Meeting, 17 July 2017"},{"location":"meetings/TechAreaTemplate/#announcements","text":"","title":"Announcements"},{"location":"meetings/TechAreaTemplate/#triage-duty","text":"This week: Next week: ( ) open tickets","title":"Triage Duty"},{"location":"meetings/TechAreaTemplate/#jira","text":"# of tickets \u0394 State 141 -17 Open 33 +9 In Progress 4 +2 Ready for Testing 0 -12 Ready for Release","title":"JIRA"},{"location":"meetings/TechAreaTemplate/#release-schedule","text":"Name Version Development Freeze Package Freeze Release Notes August 3.4.2, 3.3.27 2017-07-24 2017-07-31 2017-08-08 September 3.4.3, 3.3.28 2017-08-28 2017-09-05 2017-09-12 5 week cycle October 3.4.4, 3.3.29 2017-09-25 2017-10-02 2017-10-10 Notes: Additional \u201curgent\u201d releases may be scheduled for the 4th Tuesday of each month. The Testing date is when acceptance testing will be scheduled for releasable packages; if a package is added after this date, it may not be possible to schedule adequate testing time, thereby forcing it into the next release.","title":"Release Schedule"},{"location":"meetings/TechAreaTemplate/#osg-software-team","text":"","title":"OSG Software Team"},{"location":"meetings/TechAreaTemplate/#discussions","text":"","title":"Discussions"},{"location":"meetings/TechAreaTemplate/#support-update","text":"","title":"Support Update"},{"location":"meetings/TechAreaTemplate/#osg-release-team","text":"3.3.27 \u0394 Both \u0394 3.4.2 \u0394 Total \u0394 Status 1 +0 4 +0 2 +0 7 +0 Open 0 +0 10 +0 4 +0 14 +0 In Progress 2 +0 1 +0 1 +0 4 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 3 +0 15 +0 7 +0 25 +0 Total","title":"OSG Release Team"},{"location":"meetings/TechAreaTemplate/#discussions_1","text":"","title":"Discussions"},{"location":"meetings/TechAreaTemplate/#osg-investigations-team","text":"","title":"OSG Investigations Team"},{"location":"meetings/TechAreaTemplate/#last-week","text":"","title":"Last Week"},{"location":"meetings/TechAreaTemplate/#this-week","text":"","title":"This Week"},{"location":"meetings/TechAreaTemplate/#ongoing","text":"","title":"Ongoing"},{"location":"meetings/2020/TechArea20200106/","text":"OSG Technology Area Meeting, 6 January 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Carl, Edgar, Diego, Marian, Marco Mambelli, Mat Announcements \u00b6 Triage Duty \u00b6 This week: Mat Next week: Carl 8 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 162 +2 Open 35 +0 In Progress 12 +0 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.8/3.4.42 AI (Mat): Package default XRootD standalone auth file (SOFTWARE-3951) AI (Mat): Various osg-configure fixes/features (SOFTWARE-3382, SOFTWARE-3471, SOFTWARE-3949, SOFTWARE-3953) AI (Carl): HTCondor 8.9.5 and 8.8.7 releases (SOFTWARE-3929, SOFTWARE-3957) AI (Carl): Add fetch-crl schedd cron (SOFTWARE-3912) Hosted CE AI (Mat): Avoid duplicate WN tarball generation for multiple users (SOFTWARE-3848) AI (Carl): Issues related to cache management in condor status.sh (SOFTWARE-3930) AI (Brian): Work with the SLATE team to troubleshoot their Hosted CE deployment AI (Brian): Working on serving HTML results from osg-sw-submit web server Discussion \u00b6 None this week Support Update \u00b6 None last week OSG Release Team \u00b6 3.4.42 \u0394 Both \u0394 3.5.8 \u0394 Total \u0394 Status 1 +1 11 +11 1 +1 13 +13 Open 0 +0 4 +4 2 +2 6 +6 In Progress 1 +1 9 +9 2 +2 12 +12 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 2 +2 24 +24 5 +5 31 +31 Total Software Ready for Testing 3.5.8 GridFTP 13.20-1 GSI OpenSSH 7.4p1-4.5 OSG GridFTP 3.5-4 OSG GSI OpenSSH Addons 1.0.0-3 OSG XRootD 3.5-9 (including xrootd-standalone container) Both Gratia Probe 1.20.12 scitokens-cpp 0.4.0 VOMS 2.0.14-1.5 XRootD 4.11.1 3.4.42 Hosted CE Tools 0.5-2 osg-tested-internal 3.4-8 OSG XRootD 3.4-10 Ready for Release Nothing Data Nothing Operations osg-tested-internal 3.5-2 Contrib Nothing Discussion \u00b6 UCSD is running the latest osg-xrootd-standalone package in production and will update the relevant tickets with testing notes AI (Diego): Test the xrootd-standalone fresh container AI (Diego, Edgar): Test XRootD 4.11.1 OSG Investigations Team \u00b6 No updates this week Discussion \u00b6 None this week","title":"January, 6 2020"},{"location":"meetings/2020/TechArea20200106/#osg-technology-area-meeting-6-january-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Carl, Edgar, Diego, Marian, Marco Mambelli, Mat","title":"OSG Technology Area Meeting,  6 January 2020"},{"location":"meetings/2020/TechArea20200106/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200106/#triage-duty","text":"This week: Mat Next week: Carl 8 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200106/#jira","text":"# of tickets \u0394 State 162 +2 Open 35 +0 In Progress 12 +0 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200106/#osg-software-team","text":"OSG 3.5.8/3.4.42 AI (Mat): Package default XRootD standalone auth file (SOFTWARE-3951) AI (Mat): Various osg-configure fixes/features (SOFTWARE-3382, SOFTWARE-3471, SOFTWARE-3949, SOFTWARE-3953) AI (Carl): HTCondor 8.9.5 and 8.8.7 releases (SOFTWARE-3929, SOFTWARE-3957) AI (Carl): Add fetch-crl schedd cron (SOFTWARE-3912) Hosted CE AI (Mat): Avoid duplicate WN tarball generation for multiple users (SOFTWARE-3848) AI (Carl): Issues related to cache management in condor status.sh (SOFTWARE-3930) AI (Brian): Work with the SLATE team to troubleshoot their Hosted CE deployment AI (Brian): Working on serving HTML results from osg-sw-submit web server","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200106/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200106/#support-update","text":"None last week","title":"Support Update"},{"location":"meetings/2020/TechArea20200106/#osg-release-team","text":"3.4.42 \u0394 Both \u0394 3.5.8 \u0394 Total \u0394 Status 1 +1 11 +11 1 +1 13 +13 Open 0 +0 4 +4 2 +2 6 +6 In Progress 1 +1 9 +9 2 +2 12 +12 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 2 +2 24 +24 5 +5 31 +31 Total Software Ready for Testing 3.5.8 GridFTP 13.20-1 GSI OpenSSH 7.4p1-4.5 OSG GridFTP 3.5-4 OSG GSI OpenSSH Addons 1.0.0-3 OSG XRootD 3.5-9 (including xrootd-standalone container) Both Gratia Probe 1.20.12 scitokens-cpp 0.4.0 VOMS 2.0.14-1.5 XRootD 4.11.1 3.4.42 Hosted CE Tools 0.5-2 osg-tested-internal 3.4-8 OSG XRootD 3.4-10 Ready for Release Nothing Data Nothing Operations osg-tested-internal 3.5-2 Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200106/#discussion_1","text":"UCSD is running the latest osg-xrootd-standalone package in production and will update the relevant tickets with testing notes AI (Diego): Test the xrootd-standalone fresh container AI (Diego, Edgar): Test XRootD 4.11.1","title":"Discussion"},{"location":"meetings/2020/TechArea20200106/#osg-investigations-team","text":"No updates this week","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200106/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200113/","text":"OSG Technology Area Meeting, 13 January 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, Marian, Tim Announcements \u00b6 Meeting canceled next week (UW on holiday for MLK Jr Day) Triage Duty \u00b6 This week: Carl Next week: Brian 7 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 155 -7 Open 33 -2 In Progress 21 +9 Ready for Testing 1 +1 Ready for Release OSG Software Team \u00b6 OSG 3.5.8/3.4.42 AI (Carl): Drop instructions for commenting out all.export /tmp (SOFTWARE-3858) OSG 3.5.9/3.4.43 AI (Mat): Various osg-configure fixes/features (SOFTWARE-3382, SOFTWARE-3471, SOFTWARE-3949, SOFTWARE-3953) AI (Mat): Replace custom accounting group code with HTCondor user maps (SOFTWARE-3885) AI (Carl): Add fetch-crl schedd cron (SOFTWARE-3912) AI (Diego): Add osg-xrootd-standalone to osg-tested-internal (SOFTWARE-3964) Hosted CE AI (Mat): Avoid duplicate WN tarball generation for multiple users (SOFTWARE-3848) AI (Carl): Issues related to cache management in condor status.sh (SOFTWARE-3930) AI (Brian): Work with the SLATE team to troubleshoot their Hosted CE deployment GridFTP/GSI transition AI (Edgar): OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Brian): Generate list of registered, supported GridFTP servers (SOFTWARE-3942) AI (Brian): Demonstrate a HTCondor-CE/XRootD reporting to the central collector via SSL (SOFTWARE-3939, SOFTWARE-3940) AI (Brian): Working on serving HTML results from osg-sw-submit web server Fill out doc focus doodle poll: https://doodle.com/poll/puy4rtfnrmuvhmzx Discussion \u00b6 Carl was wondering if GRACC records had GPU information. Derek: Yes, they do. glidein-monitor is in osg-development but Marco needs to do some more testing but when it's ready, he'll send an email to interesting parties Support Update \u00b6 Purdue (Derek): Adding new sites to Topology requires mapping on the WLCG side. In the future, we need to coordinate with the WLCG if an existing site would like to change its name. GRACC (Derek): user wanted a custom GRACC dashboard but needs to coordinate with user support and FKW (Freshdesk #63926) OSG Release Team \u00b6 3.4.42 \u0394 Both \u0394 3.5.8 \u0394 Total \u0394 Status 0 -1 1 -10 0 -1 1 -12 Open 0 +0 1 -3 0 -2 1 -5 In Progress 0 -1 15 +6 5 +3 20 +8 Ready for Testing 1 +1 0 +0 0 +0 1 +1 Ready for Release 1 -1 17 -7 5 +0 23 -8 Total Software Ready for Testing 3.5.8 GridFTP 13.20-1 GSI OpenSSH 7.4p1-4.5 OSG GridFTP 3.5-4 OSG GSI OpenSSH Addons 1.0.0-3 OSG XRootD 3.5-9 (including xrootd-standalone container) Upcoming HTCondor 8.9.5 Both Gratia Probe 1.20.12 scitokens-cpp 0.4.0 VOMS 2.0.14-1.5 XRootD 4.11.1 HTCondor 8.8.7 osg-ce osg-xrootd 3.4.42 Hosted CE Tools 0.5-2 OSG XRootD 3.4-10 Ready for Release 3.4.42 osg-tested-internal 3.4-8 Data Nothing Operations osg-tested-internal 3.5-2 Contrib Nothing Discussion \u00b6 AI (Diego, Edgar): Test XRootD 4.11.1 AI (TimT): Test HTCondor 8.9.5 on the ITB AI (TimT): Reach out to admins for testing of HTCondor 8.8.7 OSG Investigations Team \u00b6 Assisted user support in stashcache transition, writable and origin Moving scitokens-cpp to epel. EPEL-7 EPEL-8 GRACC transition to gracc2 Discussion \u00b6 None this week","title":"January, 13 2020"},{"location":"meetings/2020/TechArea20200113/#osg-technology-area-meeting-13-january-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, Marian, Tim","title":"OSG Technology Area Meeting, 13 January 2020"},{"location":"meetings/2020/TechArea20200113/#announcements","text":"Meeting canceled next week (UW on holiday for MLK Jr Day)","title":"Announcements"},{"location":"meetings/2020/TechArea20200113/#triage-duty","text":"This week: Carl Next week: Brian 7 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200113/#jira","text":"# of tickets \u0394 State 155 -7 Open 33 -2 In Progress 21 +9 Ready for Testing 1 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200113/#osg-software-team","text":"OSG 3.5.8/3.4.42 AI (Carl): Drop instructions for commenting out all.export /tmp (SOFTWARE-3858) OSG 3.5.9/3.4.43 AI (Mat): Various osg-configure fixes/features (SOFTWARE-3382, SOFTWARE-3471, SOFTWARE-3949, SOFTWARE-3953) AI (Mat): Replace custom accounting group code with HTCondor user maps (SOFTWARE-3885) AI (Carl): Add fetch-crl schedd cron (SOFTWARE-3912) AI (Diego): Add osg-xrootd-standalone to osg-tested-internal (SOFTWARE-3964) Hosted CE AI (Mat): Avoid duplicate WN tarball generation for multiple users (SOFTWARE-3848) AI (Carl): Issues related to cache management in condor status.sh (SOFTWARE-3930) AI (Brian): Work with the SLATE team to troubleshoot their Hosted CE deployment GridFTP/GSI transition AI (Edgar): OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Brian): Generate list of registered, supported GridFTP servers (SOFTWARE-3942) AI (Brian): Demonstrate a HTCondor-CE/XRootD reporting to the central collector via SSL (SOFTWARE-3939, SOFTWARE-3940) AI (Brian): Working on serving HTML results from osg-sw-submit web server Fill out doc focus doodle poll: https://doodle.com/poll/puy4rtfnrmuvhmzx","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200113/#discussion","text":"Carl was wondering if GRACC records had GPU information. Derek: Yes, they do. glidein-monitor is in osg-development but Marco needs to do some more testing but when it's ready, he'll send an email to interesting parties","title":"Discussion"},{"location":"meetings/2020/TechArea20200113/#support-update","text":"Purdue (Derek): Adding new sites to Topology requires mapping on the WLCG side. In the future, we need to coordinate with the WLCG if an existing site would like to change its name. GRACC (Derek): user wanted a custom GRACC dashboard but needs to coordinate with user support and FKW (Freshdesk #63926)","title":"Support Update"},{"location":"meetings/2020/TechArea20200113/#osg-release-team","text":"3.4.42 \u0394 Both \u0394 3.5.8 \u0394 Total \u0394 Status 0 -1 1 -10 0 -1 1 -12 Open 0 +0 1 -3 0 -2 1 -5 In Progress 0 -1 15 +6 5 +3 20 +8 Ready for Testing 1 +1 0 +0 0 +0 1 +1 Ready for Release 1 -1 17 -7 5 +0 23 -8 Total Software Ready for Testing 3.5.8 GridFTP 13.20-1 GSI OpenSSH 7.4p1-4.5 OSG GridFTP 3.5-4 OSG GSI OpenSSH Addons 1.0.0-3 OSG XRootD 3.5-9 (including xrootd-standalone container) Upcoming HTCondor 8.9.5 Both Gratia Probe 1.20.12 scitokens-cpp 0.4.0 VOMS 2.0.14-1.5 XRootD 4.11.1 HTCondor 8.8.7 osg-ce osg-xrootd 3.4.42 Hosted CE Tools 0.5-2 OSG XRootD 3.4-10 Ready for Release 3.4.42 osg-tested-internal 3.4-8 Data Nothing Operations osg-tested-internal 3.5-2 Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200113/#discussion_1","text":"AI (Diego, Edgar): Test XRootD 4.11.1 AI (TimT): Test HTCondor 8.9.5 on the ITB AI (TimT): Reach out to admins for testing of HTCondor 8.8.7","title":"Discussion"},{"location":"meetings/2020/TechArea20200113/#osg-investigations-team","text":"Assisted user support in stashcache transition, writable and origin Moving scitokens-cpp to epel. EPEL-7 EPEL-8 GRACC transition to gracc2","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200113/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200127/","text":"OSG Technology Area Meeting, 27 January 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Derek, Diego, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Brian Next week: Edgar 5 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG JIRA \u00b6 # of tickets \u0394 State 147 -3 Open 40 -1 In Progress 1 -1 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.9/3.4.43 AI (Mat): Various osg-configure fixes/features (SOFTWARE-3382, SOFTWARE-3471, SOFTWARE-3949, SOFTWARE-3953) AI (Mat): Replace custom accounting group code with HTCondor user maps (SOFTWARE-3885) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Release osg-system-profiler 1.5.0+ (SOFTWARE-3970) Hosted CE Hosted CE containers accepting jobs and reporting to the GRACC ! Next steps: Reorganize Utah topology AI (Brian): Simplify remote user configuration (SOFTWARE-3960) Documentation for OSG Ops Push HTCondor-CE logs to ElasticSearch GridFTP/GSI transition AI (Brian, Diego): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Brian): Demonstrate a HTCondor-CE/XRootD reporting to the central collector via SSL (SOFTWARE-3939, SOFTWARE-3940) Fill out doc focus doodle poll: https://doodle.com/poll/buvg5qp5aewh8vxd Discussion \u00b6 GlidenWMS 3.6.2 release candidate expected this week Support Update \u00b6 Brown (Marian): Marian had a long meeting with them to work through some site.xml issues and they're looking to fix them XRootD < 4.9 clients have issues with a Polish CA that has an expiration time after 2038 ( https://github.com/xrootd/xrootd/issues/1110 ). OSG Release Team \u00b6 3.4.43 \u0394 Both \u0394 3.5.9 \u0394 Total \u0394 Status 1 +1 10 +10 1 +1 12 +12 Open 2 +2 5 +5 4 +4 11 +11 In Progress 0 +0 1 +1 0 +0 1 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 3 +3 16 +16 5 +5 24 +24 Total Software Ready for Testing 3.5.9 Nothing yet Both XCache 1.2.1 3.4.43 Nothing yet Ready for Release 3.5.9 Nothing yet Both Nothing yet 3.4.43 Nothing yet Data IGTF 1.103 Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 Scitokens-cpp is in epel. EPEL-7 (formerly available from https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-6756584348) EPEL-8 (formerly available from https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-a4bf7c5d9c) GRACC transition to gracc2 Discussion \u00b6 None this week","title":"January, 27 2020"},{"location":"meetings/2020/TechArea20200127/#osg-technology-area-meeting-27-january-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Derek, Diego, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 27 January 2020"},{"location":"meetings/2020/TechArea20200127/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200127/#triage-duty","text":"This week: Brian Next week: Edgar 5 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200127/#jira","text":"# of tickets \u0394 State 147 -3 Open 40 -1 In Progress 1 -1 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200127/#osg-software-team","text":"OSG 3.5.9/3.4.43 AI (Mat): Various osg-configure fixes/features (SOFTWARE-3382, SOFTWARE-3471, SOFTWARE-3949, SOFTWARE-3953) AI (Mat): Replace custom accounting group code with HTCondor user maps (SOFTWARE-3885) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Release osg-system-profiler 1.5.0+ (SOFTWARE-3970) Hosted CE Hosted CE containers accepting jobs and reporting to the GRACC ! Next steps: Reorganize Utah topology AI (Brian): Simplify remote user configuration (SOFTWARE-3960) Documentation for OSG Ops Push HTCondor-CE logs to ElasticSearch GridFTP/GSI transition AI (Brian, Diego): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Brian): Demonstrate a HTCondor-CE/XRootD reporting to the central collector via SSL (SOFTWARE-3939, SOFTWARE-3940) Fill out doc focus doodle poll: https://doodle.com/poll/buvg5qp5aewh8vxd","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200127/#discussion","text":"GlidenWMS 3.6.2 release candidate expected this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200127/#support-update","text":"Brown (Marian): Marian had a long meeting with them to work through some site.xml issues and they're looking to fix them XRootD < 4.9 clients have issues with a Polish CA that has an expiration time after 2038 ( https://github.com/xrootd/xrootd/issues/1110 ).","title":"Support Update"},{"location":"meetings/2020/TechArea20200127/#osg-release-team","text":"3.4.43 \u0394 Both \u0394 3.5.9 \u0394 Total \u0394 Status 1 +1 10 +10 1 +1 12 +12 Open 2 +2 5 +5 4 +4 11 +11 In Progress 0 +0 1 +1 0 +0 1 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 3 +3 16 +16 5 +5 24 +24 Total Software Ready for Testing 3.5.9 Nothing yet Both XCache 1.2.1 3.4.43 Nothing yet Ready for Release 3.5.9 Nothing yet Both Nothing yet 3.4.43 Nothing yet Data IGTF 1.103 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200127/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200127/#osg-investigations-team","text":"Scitokens-cpp is in epel. EPEL-7 (formerly available from https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-6756584348) EPEL-8 (formerly available from https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-a4bf7c5d9c) GRACC transition to gracc2","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200127/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200203/","text":"OSG Technology Area Meeting, 3 February 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, TimT Announcements \u00b6 OSG All Hands meeting registration open! Moria access is flaky, we're in touch with UW CS Lab Triage Duty \u00b6 This week: Carl Next week: Edgar 6 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG JIRA \u00b6 # of tickets \u0394 State 149 +2 Open 44 +4 In Progress 3 +2 Ready for Testing 1 +1 Ready for Release JIRA ticket reporter didn't fire this week. Numbers updated manually. OSG Software Team \u00b6 OSG 3.5.9/3.4.43 AI (Mat): Replace custom accounting group code with HTCondor user maps (SOFTWARE-3885) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Build XRootD 4.11.2 (SOFTWARE-3894) AI (Diego): Build xrootd-rucio-N2N-for-Xcache (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Brian): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Brian): Demonstrate a HTCondor-CE/XRootD reporting to the central collector via SSL (SOFTWARE-3939, SOFTWARE-3940) Fill out doc focus doodle poll: https://doodle.com/poll/buvg5qp5aewh8vxd Discussion \u00b6 XCache validator has a lot of non-packaged RPM dependencies as Python libs. Diego will install the dependencies into a Python virtualenv and determine which libs are needed. AI (Carl): register two new GlideinWMS developers in Koji and SVN. Remove Lorena. Support Update \u00b6 Czech Site (Marian): They had some questions about Gratia vs APEL accounting. They may follow-up with other tickets via Freshdesk. EIC (Mat): Registered new contacts, waiting on some answers from Jerome Geant4 (Marian, Carl): Need to register contacts for their OASIS repo Purdue (Derek): Completed site rename and coordination with WLCG: https://ggus.eu/index.php?mode=ticket_info&ticket_id=144769 UCSD (Carl): Provided OSG-specific patches for our version of Hadoop UFL (Brian, Derek): Issues with Slurm job statuses not updating for short-running (~10min) jobs OSG Release Team \u00b6 3.4.43 \u0394 Both \u0394 3.5.9 \u0394 Total \u0394 Status 1 +0 11 +1 1 +0 13 +1 Open 2 +0 6 +1 3 -1 11 +0 In Progress 1 +1 4 +3 2 +2 7 +6 Ready for Testing 0 +0 1 +1 0 +0 1 +1 Ready for Release 4 +1 22 +6 6 +1 32 +8 Total Software Ready for Testing 3.5.9 osg-configure 3.1.1 Both XCache 1.2.1 osg-system-profiler 1.5.0 3.4.43 osg-configure 2.5.1 Ready for Release 3.5.9 Nothing yet Both Nothing yet 3.4.43 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (BrianL): coordinate Frontier Squid testing with Igor and Edgar OSG Investigations Team \u00b6 New scitokens-cpp and xrootd-scitokens. GRACC transition to gracc2 Working on SciTokens + StashCache Discussion \u00b6 None this week","title":"February 3, 2020"},{"location":"meetings/2020/TechArea20200203/#osg-technology-area-meeting-3-february-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Brian, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting,  3 February 2020"},{"location":"meetings/2020/TechArea20200203/#announcements","text":"OSG All Hands meeting registration open! Moria access is flaky, we're in touch with UW CS Lab","title":"Announcements"},{"location":"meetings/2020/TechArea20200203/#triage-duty","text":"This week: Carl Next week: Edgar 6 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200203/#jira","text":"# of tickets \u0394 State 149 +2 Open 44 +4 In Progress 3 +2 Ready for Testing 1 +1 Ready for Release JIRA ticket reporter didn't fire this week. Numbers updated manually.","title":"JIRA"},{"location":"meetings/2020/TechArea20200203/#osg-software-team","text":"OSG 3.5.9/3.4.43 AI (Mat): Replace custom accounting group code with HTCondor user maps (SOFTWARE-3885) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Build XRootD 4.11.2 (SOFTWARE-3894) AI (Diego): Build xrootd-rucio-N2N-for-Xcache (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Brian): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Brian): Demonstrate a HTCondor-CE/XRootD reporting to the central collector via SSL (SOFTWARE-3939, SOFTWARE-3940) Fill out doc focus doodle poll: https://doodle.com/poll/buvg5qp5aewh8vxd","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200203/#discussion","text":"XCache validator has a lot of non-packaged RPM dependencies as Python libs. Diego will install the dependencies into a Python virtualenv and determine which libs are needed. AI (Carl): register two new GlideinWMS developers in Koji and SVN. Remove Lorena.","title":"Discussion"},{"location":"meetings/2020/TechArea20200203/#support-update","text":"Czech Site (Marian): They had some questions about Gratia vs APEL accounting. They may follow-up with other tickets via Freshdesk. EIC (Mat): Registered new contacts, waiting on some answers from Jerome Geant4 (Marian, Carl): Need to register contacts for their OASIS repo Purdue (Derek): Completed site rename and coordination with WLCG: https://ggus.eu/index.php?mode=ticket_info&ticket_id=144769 UCSD (Carl): Provided OSG-specific patches for our version of Hadoop UFL (Brian, Derek): Issues with Slurm job statuses not updating for short-running (~10min) jobs","title":"Support Update"},{"location":"meetings/2020/TechArea20200203/#osg-release-team","text":"3.4.43 \u0394 Both \u0394 3.5.9 \u0394 Total \u0394 Status 1 +0 11 +1 1 +0 13 +1 Open 2 +0 6 +1 3 -1 11 +0 In Progress 1 +1 4 +3 2 +2 7 +6 Ready for Testing 0 +0 1 +1 0 +0 1 +1 Ready for Release 4 +1 22 +6 6 +1 32 +8 Total Software Ready for Testing 3.5.9 osg-configure 3.1.1 Both XCache 1.2.1 osg-system-profiler 1.5.0 3.4.43 osg-configure 2.5.1 Ready for Release 3.5.9 Nothing yet Both Nothing yet 3.4.43 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200203/#discussion_1","text":"AI (BrianL): coordinate Frontier Squid testing with Igor and Edgar","title":"Discussion"},{"location":"meetings/2020/TechArea20200203/#osg-investigations-team","text":"New scitokens-cpp and xrootd-scitokens. GRACC transition to gracc2 Working on SciTokens + StashCache","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200203/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200210/","text":"OSG Technology Area Meeting, 10 February 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Diego, Derek, Edgar, Marco Mambelli, Mat, TimT Announcements \u00b6 OSG All Hands meeting registration open! BrianL OOO Thu-Fri Triage Duty \u00b6 This week: Edgar Next week: TimT 10 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG JIRA \u00b6 # of tickets \u0394 State 147 -2 Open 42 -2 In Progress 7 +4 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.10/3.4.44 AI (Edgar): Release oidc-agent and CCTools (SOFTWARE-3987, SOFTWARE-3988) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Build XRootD 4.11.2 (SOFTWARE-3894) AI (Diego): Build xrootd-rucio-N2N-for-Xcache (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Brian): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Derek): Review CE -> Central Collector SSL advertising PR ( https://github.com/htcondor/htcondor-ce/pull/300 ) Discussion \u00b6 Marco expects a new GlideinWMS 3.6 and 3.7 RC expected soon AI (BrianL): Get DockerHub accounts from team AI (Carl): register two new GlideinWMS developers in Koji and SVN. Remove Lorena. Support Update \u00b6 EIC (Mat): Jerome is getting info from their admin for further registration Topology (Carl): Various contact database additions and a deletion OSG Release Team \u00b6 3.4.44 \u0394 Both \u0394 3.5.10 \u0394 Total \u0394 Status 1 +0 9 -2 1 +0 11 -2 Open 2 +0 6 +0 3 +0 11 +0 In Progress 1 +0 4 +0 2 +0 7 +0 Ready for Testing 0 +0 1 +0 0 +0 1 +0 Ready for Release 4 +0 20 -2 6 +0 30 -2 Total Software Ready for Testing 3.5.10 osg-configure 3.1.1 Both XCache 1.2.1 osg-system-profiler 1.5.0 3.4.44 osg-configure 2.5.1 Ready for Release 3.5.10 Nothing yet Both Nothing yet 3.4.44 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 TODO: New scitokens-cpp and xrootd-scitokens. Paused: GRACC transition to gracc2 Mid-point: Working on SciTokens + StashCache (Globus transition related) Discussion \u00b6 None this week","title":"February 10, 2020"},{"location":"meetings/2020/TechArea20200210/#osg-technology-area-meeting-10-february-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Diego, Derek, Edgar, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 10 February 2020"},{"location":"meetings/2020/TechArea20200210/#announcements","text":"OSG All Hands meeting registration open! BrianL OOO Thu-Fri","title":"Announcements"},{"location":"meetings/2020/TechArea20200210/#triage-duty","text":"This week: Edgar Next week: TimT 10 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200210/#jira","text":"# of tickets \u0394 State 147 -2 Open 42 -2 In Progress 7 +4 Ready for Testing 1 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200210/#osg-software-team","text":"OSG 3.5.10/3.4.44 AI (Edgar): Release oidc-agent and CCTools (SOFTWARE-3987, SOFTWARE-3988) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Build XRootD 4.11.2 (SOFTWARE-3894) AI (Diego): Build xrootd-rucio-N2N-for-Xcache (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Brian): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Derek): Review CE -> Central Collector SSL advertising PR ( https://github.com/htcondor/htcondor-ce/pull/300 )","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200210/#discussion","text":"Marco expects a new GlideinWMS 3.6 and 3.7 RC expected soon AI (BrianL): Get DockerHub accounts from team AI (Carl): register two new GlideinWMS developers in Koji and SVN. Remove Lorena.","title":"Discussion"},{"location":"meetings/2020/TechArea20200210/#support-update","text":"EIC (Mat): Jerome is getting info from their admin for further registration Topology (Carl): Various contact database additions and a deletion","title":"Support Update"},{"location":"meetings/2020/TechArea20200210/#osg-release-team","text":"3.4.44 \u0394 Both \u0394 3.5.10 \u0394 Total \u0394 Status 1 +0 9 -2 1 +0 11 -2 Open 2 +0 6 +0 3 +0 11 +0 In Progress 1 +0 4 +0 2 +0 7 +0 Ready for Testing 0 +0 1 +0 0 +0 1 +0 Ready for Release 4 +0 20 -2 6 +0 30 -2 Total Software Ready for Testing 3.5.10 osg-configure 3.1.1 Both XCache 1.2.1 osg-system-profiler 1.5.0 3.4.44 osg-configure 2.5.1 Ready for Release 3.5.10 Nothing yet Both Nothing yet 3.4.44 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200210/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200210/#osg-investigations-team","text":"TODO: New scitokens-cpp and xrootd-scitokens. Paused: GRACC transition to gracc2 Mid-point: Working on SciTokens + StashCache (Globus transition related)","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200210/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200217/","text":"OSG Technology Area Meeting, 17 February 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Diego, Mat, TimT Announcements \u00b6 OSG All Hands meeting registration open! UCSD out for President's day Triage Duty \u00b6 This week: TimT Next week: Mat 11 (+1) open FreshDesk tickets 1 (+1) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG JIRA \u00b6 # of tickets \u0394 State 146 -1 Open 39 -3 In Progress 10 +3 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.10/3.4.44 AI (Mat): Update Globus packages (SOFTWARE-3991) AI (Edgar): Release oidc-agent and CCTools (SOFTWARE-3987, SOFTWARE-3988) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Build xrootd-rucio-N2N-for-Xcache (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Diego): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) Discussion \u00b6 None this week Support Update \u00b6 Florida (BrianL, Derek): Working to speed up startup of SAM test jobs in their CE; waiting on feedback Purdue (Mat): Helped debug authentication issues with their local HTCondor pool and the new OSG default authentication UIUC (Carl): Debugging quoting issues with condor blahp submission (Derek) Update WLCG report. Stalled uploader which was corrected, and fixed from happening again. OSG Release Team \u00b6 3.4.44 \u0394 Both \u0394 3.5.10 \u0394 Total \u0394 Status 1 +0 9 +0 1 +0 11 +0 Open 2 +0 6 +0 3 +0 11 +0 In Progress 1 +0 6 +2 2 +0 9 +2 Ready for Testing 0 +0 1 +0 0 +0 1 +0 Ready for Release 4 +0 22 +2 6 +0 32 +2 Total Software Ready for Testing 3.5.10 osg-configure 3.1.1 Both XRootD 4.11.2 uberftp 2.8-3 XCache 1.2.1 osg-system-profiler 1.5.0 3.4.44 osg-configure 2.5.1 Ready for Release 3.5.10 Nothing yet Both Nothing yet 3.4.44 Nothing yet Data HCC VOMS cert Operations Nothing Contrib Nothing Discussion \u00b6 AI (Tim): Create a JIRA ticket to automate packages ready for testing list OSG Investigations Team \u00b6 (lots of people outages) TODO: New scitokens-cpp and xrootd-scitokens. Paused: GRACC transition to gracc2 Mid-point: Working on SciTokens + StashCache (Globus transition related) IRIS-HEP Posters! Discussion \u00b6 None this week","title":"February 17, 2020"},{"location":"meetings/2020/TechArea20200217/#osg-technology-area-meeting-17-february-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Diego, Mat, TimT","title":"OSG Technology Area Meeting, 17 February 2020"},{"location":"meetings/2020/TechArea20200217/#announcements","text":"OSG All Hands meeting registration open! UCSD out for President's day","title":"Announcements"},{"location":"meetings/2020/TechArea20200217/#triage-duty","text":"This week: TimT Next week: Mat 11 (+1) open FreshDesk tickets 1 (+1) open GGUS ticket Add Lauren and BrianL as watchers on any new sites interested in the OSG","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200217/#jira","text":"# of tickets \u0394 State 146 -1 Open 39 -3 In Progress 10 +3 Ready for Testing 1 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200217/#osg-software-team","text":"OSG 3.5.10/3.4.44 AI (Mat): Update Globus packages (SOFTWARE-3991) AI (Edgar): Release oidc-agent and CCTools (SOFTWARE-3987, SOFTWARE-3988) AI (Diego): Distribute XCache validation tool (SOFTWARE-3976) AI (Diego): Build xrootd-rucio-N2N-for-Xcache (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Diego): Review OSG XRootD standalone container (SOFTWARE-3937) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200217/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200217/#support-update","text":"Florida (BrianL, Derek): Working to speed up startup of SAM test jobs in their CE; waiting on feedback Purdue (Mat): Helped debug authentication issues with their local HTCondor pool and the new OSG default authentication UIUC (Carl): Debugging quoting issues with condor blahp submission (Derek) Update WLCG report. Stalled uploader which was corrected, and fixed from happening again.","title":"Support Update"},{"location":"meetings/2020/TechArea20200217/#osg-release-team","text":"3.4.44 \u0394 Both \u0394 3.5.10 \u0394 Total \u0394 Status 1 +0 9 +0 1 +0 11 +0 Open 2 +0 6 +0 3 +0 11 +0 In Progress 1 +0 6 +2 2 +0 9 +2 Ready for Testing 0 +0 1 +0 0 +0 1 +0 Ready for Release 4 +0 22 +2 6 +0 32 +2 Total Software Ready for Testing 3.5.10 osg-configure 3.1.1 Both XRootD 4.11.2 uberftp 2.8-3 XCache 1.2.1 osg-system-profiler 1.5.0 3.4.44 osg-configure 2.5.1 Ready for Release 3.5.10 Nothing yet Both Nothing yet 3.4.44 Nothing yet Data HCC VOMS cert Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200217/#discussion_1","text":"AI (Tim): Create a JIRA ticket to automate packages ready for testing list","title":"Discussion"},{"location":"meetings/2020/TechArea20200217/#osg-investigations-team","text":"(lots of people outages) TODO: New scitokens-cpp and xrootd-scitokens. Paused: GRACC transition to gracc2 Mid-point: Working on SciTokens + StashCache (Globus transition related) IRIS-HEP Posters!","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200217/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200224/","text":"OSG Technology Area Meeting, 24 February 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 OSG All Hands meeting registration open! Carl OOO Mon-Tue BrianL and Diego at the IRIS-HEP review Wed-Fri TimT out Friday and next week, returning March 9 Triage Duty \u00b6 This week: Mat Next week: Diego 12 (+1) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 153 +7 Open 41 +2 In Progress 2 -8 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 2020 Technology Area WBS: https://docs.google.com/spreadsheets/d/1pwJXu1tWnfFrSUPXkuV-fYXJg1RLY3n50XxF85AhUT4/edit?usp=sharing InCommon subject DN format change (state abbreviation -> full state name) will result in a number of vo-client updates in the next few months so we can transition VOs Critical bug/security fix only support for OSG 3.4 starts at the beginning of next month. Double-check ticket labels for release series to build for. OSG 3.5.11 AI (Mat): Update Globus packages (SOFTWARE-3991) AI (Edgar): Release oidc-agent and CCTools (SOFTWARE-3987, SOFTWARE-3988) AI (Diego): Build XRootD plugins for XRootD 5; RC2 expected in the next ~2 weeks (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process AI (Mat): Review contents of audit log for places where we may want to audit tokens AI (Derek): Demonstrate access to LIGO frame data with SciTokens (waiting on XCache SciTokens integration) Discussion \u00b6 Next GlideinWMS version expected at the end of this week There were questions about how to separate the XRootD TPC transfers for production from XRootD client transfers. We think that we can get the production transfer data from FTS and subtract that from the data uploaded to get the XRootD client numbers. Support Update \u00b6 Florida (BrianL, Derek): Investigating delays in SAM test job startup Nebraska (Diego): Working with admins to transition Nebraska to using XRootD TPC with UCSD OSG Release Team \u00b6 3.4.45 \u0394 Both \u0394 3.5.11 \u0394 Total \u0394 Status 2 +0 12 +0 2 +0 16 +0 Open 2 +0 5 +0 5 +0 12 +0 In Progress 0 +0 1 +0 0 +0 1 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 4 +0 18 +0 7 +0 29 +0 Total Software Ready for Testing 3.5.11 Nothing yet Both XCache validation tool 3.4.45 Nothing yet Ready for Release 3.5.11 Nothing yet Both Nothing yet 3.4.45 Nothing yet Data Nothing Operations osg-notify smart quotes Contrib Nothing Discussion \u00b6 AI (Tim): Draft OSG 3.4 Limited Support Announcement. OSG Investigations Team \u00b6 TODO: New scitokens-cpp and xrootd-scitokens. Paused: GRACC transition to gracc2 - March 4th Mid-point: Working on SciTokens + StashCache (Globus transition related) Discussion \u00b6 xrootd-scitokens with XCache work will require a lot of testing and is initially targeted for Stash Caches and Origins","title":"February 24, 2020"},{"location":"meetings/2020/TechArea20200224/#osg-technology-area-meeting-24-february-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 24 February 2020"},{"location":"meetings/2020/TechArea20200224/#announcements","text":"OSG All Hands meeting registration open! Carl OOO Mon-Tue BrianL and Diego at the IRIS-HEP review Wed-Fri TimT out Friday and next week, returning March 9","title":"Announcements"},{"location":"meetings/2020/TechArea20200224/#triage-duty","text":"This week: Mat Next week: Diego 12 (+1) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200224/#jira","text":"# of tickets \u0394 State 153 +7 Open 41 +2 In Progress 2 -8 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200224/#osg-software-team","text":"2020 Technology Area WBS: https://docs.google.com/spreadsheets/d/1pwJXu1tWnfFrSUPXkuV-fYXJg1RLY3n50XxF85AhUT4/edit?usp=sharing InCommon subject DN format change (state abbreviation -> full state name) will result in a number of vo-client updates in the next few months so we can transition VOs Critical bug/security fix only support for OSG 3.4 starts at the beginning of next month. Double-check ticket labels for release series to build for. OSG 3.5.11 AI (Mat): Update Globus packages (SOFTWARE-3991) AI (Edgar): Release oidc-agent and CCTools (SOFTWARE-3987, SOFTWARE-3988) AI (Diego): Build XRootD plugins for XRootD 5; RC2 expected in the next ~2 weeks (SOFTWARE-3923) Hosted CE AI (Brian): Simplify remote user configuration (SOFTWARE-3960) AI (Brian): Documentation for OSG Ops GridFTP/GSI transition AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process AI (Mat): Review contents of audit log for places where we may want to audit tokens AI (Derek): Demonstrate access to LIGO frame data with SciTokens (waiting on XCache SciTokens integration)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200224/#discussion","text":"Next GlideinWMS version expected at the end of this week There were questions about how to separate the XRootD TPC transfers for production from XRootD client transfers. We think that we can get the production transfer data from FTS and subtract that from the data uploaded to get the XRootD client numbers.","title":"Discussion"},{"location":"meetings/2020/TechArea20200224/#support-update","text":"Florida (BrianL, Derek): Investigating delays in SAM test job startup Nebraska (Diego): Working with admins to transition Nebraska to using XRootD TPC with UCSD","title":"Support Update"},{"location":"meetings/2020/TechArea20200224/#osg-release-team","text":"3.4.45 \u0394 Both \u0394 3.5.11 \u0394 Total \u0394 Status 2 +0 12 +0 2 +0 16 +0 Open 2 +0 5 +0 5 +0 12 +0 In Progress 0 +0 1 +0 0 +0 1 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 4 +0 18 +0 7 +0 29 +0 Total Software Ready for Testing 3.5.11 Nothing yet Both XCache validation tool 3.4.45 Nothing yet Ready for Release 3.5.11 Nothing yet Both Nothing yet 3.4.45 Nothing yet Data Nothing Operations osg-notify smart quotes Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200224/#discussion_1","text":"AI (Tim): Draft OSG 3.4 Limited Support Announcement.","title":"Discussion"},{"location":"meetings/2020/TechArea20200224/#osg-investigations-team","text":"TODO: New scitokens-cpp and xrootd-scitokens. Paused: GRACC transition to gracc2 - March 4th Mid-point: Working on SciTokens + StashCache (Globus transition related)","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200224/#discussion_2","text":"xrootd-scitokens with XCache work will require a lot of testing and is initially targeted for Stash Caches and Origins","title":"Discussion"},{"location":"meetings/2020/TechArea20200302/","text":"OSG Technology Area Meeting, 2 March 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Derek, Diego, Edgar, Marco, Marian, Mat Announcements \u00b6 TimT OOO this week BrianL OOO Friday and next Monday Triage Duty \u00b6 This week: Diego Next week: ??? 10 (-2) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 159 +6 Open 43 +2 In Progress 2 +4 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Did everyone get an email from Freshworks about account migration? OSG 3.5.11/3.4.45 AI (Mat): Update Globus packages (SOFTWARE-3991) AI (Diego): Build XRootD plugins for XRootD 5; RC2 expected in the next ~2 weeks (SOFTWARE-3923) Containers Need a volunteer to test the XRootD standalone container (SOFTWARE-3934) Need to enable the XCache data integrity script for CMS and ATLAS XCache Hosted CE Fixed some WN client and host cert/key mounting issues last week AI (Brian): Simplify remote user configuration (SOFTWARE-3960) GridFTP/GSI transition AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process AI (Mat): Review contents of audit log for places where we may want to audit tokens AI (Derek): Demonstrate access to LIGO frame data with SciTokens (waiting on XCache SciTokens integration) Discussion \u00b6 AI (BrianL): Write tickets for TPC config.d and self-registration improvements UCSD and UNL aren't interested in a standalone XRootD container for the time being XCache SciTokens waiting on XRootD RC2, which is expected this week GlideinWMS 3.6.2 RC expected this week Support Update \u00b6 Florida (BrianL, Derek): Investigating delays in SAM test job startup FNAL (Marian): hitting issues with IPv6 due to reverse DNS lookups similar to what we saw at UCSD some time ago (possibly fixed in XRootD 5). For now FNL has turned off IPv6 support on the redirectors. Nebraska (Diego): Working with admins to transition Nebraska to using XRootD TPC with UCSD Purdue (Edgar): reinstalled the CMS XCache with all the new redirectors; had documentation requests and notes UConn (Derek): troubleshooting potential issues with yearly summaries OSG Release Team \u00b6 3.4.45 \u0394 Both \u0394 3.5.11 \u0394 Total \u0394 Status 0 -2 3 -9 11 +9 14 -2 Open 0 -2 2 -3 7 +2 9 -3 In Progress 1 +1 0 -1 4 +4 5 +5 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 1 -3 5 -13 22 +15 28 -1 Total Software Ready for Testing 3.5.11 CCTools 7.0.22 CVMFS 2.7.1 oidc-agent 3.3.1 osg-oasis 16-2 XCache validation tool Both Nothing yet 3.4.45 Singularity 3.5.3 Ready for Release 3.5.11 Nothing yet Both Nothing yet 3.4.45 Nothing yet Data vo-client 100 Operations osg-notify smart quotes Contrib Nothing Discussion \u00b6 AI (BrianL): Contact ET about OSG 3.4 end of regular support dates AI (BrianL): Write weekly ready for testing email AI (BrianL): Prepare for vo-client release Wednesday OSG Investigations Team \u00b6 scitokens-cpp update in EPEL: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-d247b5382c Paused: GRACC transition to gracc2 - March 4th SciTokens+XrootD requires xrootd 5.0. RC2 was suppose to be out last week, maybe this week? (from xcache meeting) Discussion \u00b6 None this week","title":"March 2, 2020"},{"location":"meetings/2020/TechArea20200302/#osg-technology-area-meeting-2-march-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Derek, Diego, Edgar, Marco, Marian, Mat","title":"OSG Technology Area Meeting,  2 March 2020"},{"location":"meetings/2020/TechArea20200302/#announcements","text":"TimT OOO this week BrianL OOO Friday and next Monday","title":"Announcements"},{"location":"meetings/2020/TechArea20200302/#triage-duty","text":"This week: Diego Next week: ??? 10 (-2) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200302/#jira","text":"# of tickets \u0394 State 159 +6 Open 43 +2 In Progress 2 +4 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200302/#osg-software-team","text":"Did everyone get an email from Freshworks about account migration? OSG 3.5.11/3.4.45 AI (Mat): Update Globus packages (SOFTWARE-3991) AI (Diego): Build XRootD plugins for XRootD 5; RC2 expected in the next ~2 weeks (SOFTWARE-3923) Containers Need a volunteer to test the XRootD standalone container (SOFTWARE-3934) Need to enable the XCache data integrity script for CMS and ATLAS XCache Hosted CE Fixed some WN client and host cert/key mounting issues last week AI (Brian): Simplify remote user configuration (SOFTWARE-3960) GridFTP/GSI transition AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process AI (Mat): Review contents of audit log for places where we may want to audit tokens AI (Derek): Demonstrate access to LIGO frame data with SciTokens (waiting on XCache SciTokens integration)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200302/#discussion","text":"AI (BrianL): Write tickets for TPC config.d and self-registration improvements UCSD and UNL aren't interested in a standalone XRootD container for the time being XCache SciTokens waiting on XRootD RC2, which is expected this week GlideinWMS 3.6.2 RC expected this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200302/#support-update","text":"Florida (BrianL, Derek): Investigating delays in SAM test job startup FNAL (Marian): hitting issues with IPv6 due to reverse DNS lookups similar to what we saw at UCSD some time ago (possibly fixed in XRootD 5). For now FNL has turned off IPv6 support on the redirectors. Nebraska (Diego): Working with admins to transition Nebraska to using XRootD TPC with UCSD Purdue (Edgar): reinstalled the CMS XCache with all the new redirectors; had documentation requests and notes UConn (Derek): troubleshooting potential issues with yearly summaries","title":"Support Update"},{"location":"meetings/2020/TechArea20200302/#osg-release-team","text":"3.4.45 \u0394 Both \u0394 3.5.11 \u0394 Total \u0394 Status 0 -2 3 -9 11 +9 14 -2 Open 0 -2 2 -3 7 +2 9 -3 In Progress 1 +1 0 -1 4 +4 5 +5 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 1 -3 5 -13 22 +15 28 -1 Total Software Ready for Testing 3.5.11 CCTools 7.0.22 CVMFS 2.7.1 oidc-agent 3.3.1 osg-oasis 16-2 XCache validation tool Both Nothing yet 3.4.45 Singularity 3.5.3 Ready for Release 3.5.11 Nothing yet Both Nothing yet 3.4.45 Nothing yet Data vo-client 100 Operations osg-notify smart quotes Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200302/#discussion_1","text":"AI (BrianL): Contact ET about OSG 3.4 end of regular support dates AI (BrianL): Write weekly ready for testing email AI (BrianL): Prepare for vo-client release Wednesday","title":"Discussion"},{"location":"meetings/2020/TechArea20200302/#osg-investigations-team","text":"scitokens-cpp update in EPEL: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-d247b5382c Paused: GRACC transition to gracc2 - March 4th SciTokens+XrootD requires xrootd 5.0. RC2 was suppose to be out last week, maybe this week? (from xcache meeting)","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200302/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200309/","text":"OSG Technology Area Meeting, 9 March 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Mat, Carl, Edgar, Derek, Diego Announcements \u00b6 Triage Duty \u00b6 This week: Carl Next week: Brian 10 (+0) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 163 +4 Open 41 -2 In Progress 5 +3 Ready for Testing 4 +4 Ready for Release OSG Software Team \u00b6 AI (Carl): Release new VO client OSG 3.5.11/3.4.45 AI (Mat): Update default lcmaps.db to use VOMS mappings (SOFTWARE-3927) AI (Diego): Build XRootD plugins for XRootD 5; RC2 expected in the next ~2 weeks (SOFTWARE-3923) Containers Need a volunteer to test the XRootD standalone container (SOFTWARE-3934) need to figure out how to get Hadoop working with the container before any Hadoop site can test it Need to enable the XCache data integrity script for CMS and ATLAS XCache Hosted CE AI (Brian (not here)): Simplify remote user configuration (SOFTWARE-3960) GridFTP/GSI transition AI (Brian (not here)): Demonstrate an HTCondor-CE reporting to the central collector via SSL (SOFTWARE-3939) AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) (done) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process AI (Derek): Demonstrate access to LIGO frame data with SciTokens (waiting on XCache SciTokens integration) (which is blocked on XRootD RC2) Discussion \u00b6 None this week Support Update \u00b6 None this week OSG Release Team \u00b6 3.4.45 \u0394 Both \u0394 3.5.11 \u0394 Total \u0394 Status 0 +0 3 +0 9 -2 12 -2 Open 0 +0 2 +0 8 +1 10 +1 In Progress 0 -1 0 +0 4 +0 4 -1 Ready for Testing 1 +1 0 +0 3 +3 4 +4 Ready for Release 1 +0 5 +0 24 +2 30 +2 Total Software Ready for Testing 3.5.11 Pegasus 4.9.3 scitokens-cpp 0.5.0 CCTools 7.0.22 XCache validation tool Both Nothing yet Ready for Release 3.5.11 CVMFS 2.7.1 osg-oasis 16-2 oidc-agent 3.3.1 gsi-openssh 7.4p1-5 Both Nothing yet 3.4.45 Singularity 3.5.3 Data vo-client 101 Operations osg-notify smart quotes Contrib Nothing Sent OSG 3.4 end of regular support date email. Discussion \u00b6 None this week OSG Investigations Team \u00b6 scitokens-cpp update in EPEL: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-d247b5382c Paused: GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ SciTokens+XrootD requires xrootd 5.0. RC2 still not released... Discussion \u00b6 None this week","title":"March 9, 2020"},{"location":"meetings/2020/TechArea20200309/#osg-technology-area-meeting-9-march-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: Mat, Carl, Edgar, Derek, Diego","title":"OSG Technology Area Meeting,  9 March 2020"},{"location":"meetings/2020/TechArea20200309/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200309/#triage-duty","text":"This week: Carl Next week: Brian 10 (+0) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200309/#jira","text":"# of tickets \u0394 State 163 +4 Open 41 -2 In Progress 5 +3 Ready for Testing 4 +4 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200309/#osg-software-team","text":"AI (Carl): Release new VO client OSG 3.5.11/3.4.45 AI (Mat): Update default lcmaps.db to use VOMS mappings (SOFTWARE-3927) AI (Diego): Build XRootD plugins for XRootD 5; RC2 expected in the next ~2 weeks (SOFTWARE-3923) Containers Need a volunteer to test the XRootD standalone container (SOFTWARE-3934) need to figure out how to get Hadoop working with the container before any Hadoop site can test it Need to enable the XCache data integrity script for CMS and ATLAS XCache Hosted CE AI (Brian (not here)): Simplify remote user configuration (SOFTWARE-3960) GridFTP/GSI transition AI (Brian (not here)): Demonstrate an HTCondor-CE reporting to the central collector via SSL (SOFTWARE-3939) AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) (done) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process AI (Derek): Demonstrate access to LIGO frame data with SciTokens (waiting on XCache SciTokens integration) (which is blocked on XRootD RC2)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200309/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200309/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2020/TechArea20200309/#osg-release-team","text":"3.4.45 \u0394 Both \u0394 3.5.11 \u0394 Total \u0394 Status 0 +0 3 +0 9 -2 12 -2 Open 0 +0 2 +0 8 +1 10 +1 In Progress 0 -1 0 +0 4 +0 4 -1 Ready for Testing 1 +1 0 +0 3 +3 4 +4 Ready for Release 1 +0 5 +0 24 +2 30 +2 Total Software Ready for Testing 3.5.11 Pegasus 4.9.3 scitokens-cpp 0.5.0 CCTools 7.0.22 XCache validation tool Both Nothing yet Ready for Release 3.5.11 CVMFS 2.7.1 osg-oasis 16-2 oidc-agent 3.3.1 gsi-openssh 7.4p1-5 Both Nothing yet 3.4.45 Singularity 3.5.3 Data vo-client 101 Operations osg-notify smart quotes Contrib Nothing Sent OSG 3.4 end of regular support date email.","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200309/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200309/#osg-investigations-team","text":"scitokens-cpp update in EPEL: https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2020-d247b5382c Paused: GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ SciTokens+XrootD requires xrootd 5.0. RC2 still not released...","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200309/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200316/","text":"OSG Technology Area Meeting, 16 March 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Diego, Derek, Marian, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Brian Next week: Edgar 10 (+0) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 161 -2 Open 40 -1 In Progress 2 -3 Ready for Testing 0 -4 Ready for Release OSG Software Team \u00b6 OSG 3.5.12/3.4.46 AI (Mat): Update default lcmaps.db to use VOMS mappings (SOFTWARE-3927) AI (Carl): Various blahp tickets AI (Diego): Release XRootD 4.11.3 (SOFTWARE-4017) AI (BrianL): Release HTCondor-CE (SOFTWARE-4009) AI (Derek): Update XRootD SciTokens 1.2.0 GridFTP/GSI transition AI (Diego): Add option to enable the XCache data integrity script for CMS and ATLAS XCache (SOFTWARE-4026) AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) (done) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process EL8 support AI (Mat): Test EL8 builds with new Koji hosts Discussion \u00b6 None this week Support Update \u00b6 Nebraska (Diego): Found a bug with the Phedex download script in the production agent that fixed transfer issues Purdue (Diego): Opened a ticket because there are issues with FTS transfers OSG Release Team \u00b6 3.4.46 \u0394 Both \u0394 3.5.12 \u0394 Total \u0394 Status 0 +0 5 +2 7 -2 12 +0 Open 0 +0 2 +0 9 +1 11 +1 In Progress 0 +0 0 +0 2 -2 2 -2 Ready for Testing 0 -1 0 +0 0 -3 0 -4 Ready for Release 0 -1 7 +2 18 -6 25 -5 Total Software Ready for Testing 3.5.12 scitokens-cpp 0.5.0 XCache validation tool Both Nothing yet Ready for Release 3.5.12 Nothing yet Both Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 scitokens-cpp update now in EPEL stable EPEL-7 EPEL-8 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ SciTokens+XrootD requires xrootd 5.0. RC2 still not released GRACC Development for new corrections: JIRA 4030 Discussion \u00b6 None this week","title":"March 16, 2020"},{"location":"meetings/2020/TechArea20200316/#osg-technology-area-meeting-16-march-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Diego, Derek, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 16 March 2020"},{"location":"meetings/2020/TechArea20200316/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200316/#triage-duty","text":"This week: Brian Next week: Edgar 10 (+0) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200316/#jira","text":"# of tickets \u0394 State 161 -2 Open 40 -1 In Progress 2 -3 Ready for Testing 0 -4 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200316/#osg-software-team","text":"OSG 3.5.12/3.4.46 AI (Mat): Update default lcmaps.db to use VOMS mappings (SOFTWARE-3927) AI (Carl): Various blahp tickets AI (Diego): Release XRootD 4.11.3 (SOFTWARE-4017) AI (BrianL): Release HTCondor-CE (SOFTWARE-4009) AI (Derek): Update XRootD SciTokens 1.2.0 GridFTP/GSI transition AI (Diego): Add option to enable the XCache data integrity script for CMS and ATLAS XCache (SOFTWARE-4026) AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) (done) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (Mat): Fix-up email templates and confusing web page for the COManage self-registration process EL8 support AI (Mat): Test EL8 builds with new Koji hosts","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200316/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200316/#support-update","text":"Nebraska (Diego): Found a bug with the Phedex download script in the production agent that fixed transfer issues Purdue (Diego): Opened a ticket because there are issues with FTS transfers","title":"Support Update"},{"location":"meetings/2020/TechArea20200316/#osg-release-team","text":"3.4.46 \u0394 Both \u0394 3.5.12 \u0394 Total \u0394 Status 0 +0 5 +2 7 -2 12 +0 Open 0 +0 2 +0 9 +1 11 +1 In Progress 0 +0 0 +0 2 -2 2 -2 Ready for Testing 0 -1 0 +0 0 -3 0 -4 Ready for Release 0 -1 7 +2 18 -6 25 -5 Total Software Ready for Testing 3.5.12 scitokens-cpp 0.5.0 XCache validation tool Both Nothing yet Ready for Release 3.5.12 Nothing yet Both Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200316/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200316/#osg-investigations-team","text":"scitokens-cpp update now in EPEL stable EPEL-7 EPEL-8 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ SciTokens+XrootD requires xrootd 5.0. RC2 still not released GRACC Development for new corrections: JIRA 4030","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200316/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200323/","text":"OSG Technology Area Meeting, 23 March 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Derek, Diego, Edgar, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Edgar Next week: Mat 12 (+2) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 158 -3 Open 38 -2 In Progress 11 +9 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Doc focus this Thursday, 26 Mar at 1:30pm Central! OSG 3.5.12/3.4.46 AI (Carl): Various blahp tickets, including LSF status update from Jaime (?) GridFTP/GSI transition AI (Diego): Add option to enable the XCache data integrity script for CMS and ATLAS XCache (SOFTWARE-4026) AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) (done) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (BrianL): Fix-up email templates and confusing web page for the COManage self-registration process EL8 support AI (Mat): Test EL8 builds with new Koji hosts Discussion \u00b6 None this week Support Update \u00b6 ALICE (Carl, Derek): they want two different facilities to report under the same name to the WLCG; investigating possibilities LIGO (Edgar, Derek): discussing OASIS manager contact registrations with LIGO management Purdue (Diego): wrote some manual tests for direct transfers and uncovered some issues that he's forwarded onto the GGUS ticket OSG Release Team \u00b6 3.4.46 \u0394 Both \u0394 3.5.12 \u0394 Total \u0394 Status 0 +0 3 -2 7 +0 10 -2 Open 0 +0 3 +1 4 -5 7 -4 In Progress 0 +0 2 +2 8 +6 10 +8 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 8 +1 19 +1 27 +2 Total Software Ready for Testing 3.5.12 HTCondor CE 4.2.1 Pegasus 4.9.3 lcmaps 1.6.6 scitokens-cpp 0.5.0 XRootD 4.11.3 (Release Candidate 2) XCache validation tool Both XRootD SciTokens 1.2.0 Ready for Release 3.5.12 Nothing yet Both Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ SciTokens+XrootD requires xrootd 5.0. RC2 still not released GRACC Development for new corrections: JIRA-4030 300+ corrections latter, we are in a good place! Need to evaluate HTCondor-CE tests for availability Discussion \u00b6 None this week","title":"March 23, 2020"},{"location":"meetings/2020/TechArea20200323/#osg-technology-area-meeting-23-march-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Derek, Diego, Edgar, Mat, TimT","title":"OSG Technology Area Meeting, 23 March 2020"},{"location":"meetings/2020/TechArea20200323/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200323/#triage-duty","text":"This week: Edgar Next week: Mat 12 (+2) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200323/#jira","text":"# of tickets \u0394 State 158 -3 Open 38 -2 In Progress 11 +9 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200323/#osg-software-team","text":"Doc focus this Thursday, 26 Mar at 1:30pm Central! OSG 3.5.12/3.4.46 AI (Carl): Various blahp tickets, including LSF status update from Jaime (?) GridFTP/GSI transition AI (Diego): Add option to enable the XCache data integrity script for CMS and ATLAS XCache (SOFTWARE-4026) AI (Edgar): Update TPC tests to use config.d configuration; add HTTP/S tests for XRootD standalone (SOFTWARE-3936) (done) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (BrianL): Fix-up email templates and confusing web page for the COManage self-registration process EL8 support AI (Mat): Test EL8 builds with new Koji hosts","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200323/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200323/#support-update","text":"ALICE (Carl, Derek): they want two different facilities to report under the same name to the WLCG; investigating possibilities LIGO (Edgar, Derek): discussing OASIS manager contact registrations with LIGO management Purdue (Diego): wrote some manual tests for direct transfers and uncovered some issues that he's forwarded onto the GGUS ticket","title":"Support Update"},{"location":"meetings/2020/TechArea20200323/#osg-release-team","text":"3.4.46 \u0394 Both \u0394 3.5.12 \u0394 Total \u0394 Status 0 +0 3 -2 7 +0 10 -2 Open 0 +0 3 +1 4 -5 7 -4 In Progress 0 +0 2 +2 8 +6 10 +8 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 8 +1 19 +1 27 +2 Total Software Ready for Testing 3.5.12 HTCondor CE 4.2.1 Pegasus 4.9.3 lcmaps 1.6.6 scitokens-cpp 0.5.0 XRootD 4.11.3 (Release Candidate 2) XCache validation tool Both XRootD SciTokens 1.2.0 Ready for Release 3.5.12 Nothing yet Both Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200323/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200323/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ SciTokens+XrootD requires xrootd 5.0. RC2 still not released GRACC Development for new corrections: JIRA-4030 300+ corrections latter, we are in a good place! Need to evaluate HTCondor-CE tests for availability","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200323/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200330/","text":"OSG Technology Area Meeting, 30 March 2020 \u00b6 Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Derek, Diego, Edgar, Marian, TimT Announcements \u00b6 Mat OOO today Switching meeting to Zoom next week OSG support for COVID-19 research: assign any tickets for users or sites to me and set the prio to \"Urgent\" Triage Duty \u00b6 This week: Mat Next week: TimT 11 (-1) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 157 -1 Open 42 +4 In Progress 11 +0 Ready for Testing 2 +2 Ready for Release OSG Software Team \u00b6 OSG 3.5.13/3.4.47 AI (Carl): Various blahp tickets, including LSF status update from Jaime (?) AI (Diego): Build XRootD-4.11.3-1.2 (SOFTWARE-4017) with redirector fix GridFTP/GSI transition AI (Diego): Add option to enable the XCache data integrity script for CMS and ATLAS XCache (SOFTWARE-4026) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (BrianL): Fix-up email templates and confusing web page for the COManage self-registration process AI (Edgar): Try out the self-registration process EL8 support AI (Mat): Test EL8 builds with new Koji hosts New OSG Software testing host (osg-sw-submit.chtc.wisc.edu) is up and ready! Next doc focus 9 Apr 2020 @ 1:30pm Discussion \u00b6 AI (Marian): Add BrianL and Andy to discussion about CMS monitoring configuration AI (Diego): Send BrianL local UCSD XRootD standalone and redirector configurations AI (BrianL): Verify non-UW Software Team access to the new OSG Software testing host Support Update \u00b6 Caltech, Nebraska (Mat): issue with missing GridFTP logs; we have a package that addresses this issue Notre Dame (Edgar): pilots landing on GPU nodes but not able to use the GPUs; we suspect that it's a wrapper script issue Purdue (Diego): saw 5-6 different issues and saw that the first two accounted for 70% of the errors. The next build of XRootD should solve the first issue and they are increasing the # of TCP connections to address the second. OSG Release Team \u00b6 3.4.47 \u0394 Both \u0394 3.5.13 \u0394 Total \u0394 Status 0 +0 0 -3 13 +6 13 +3 Open 0 +0 2 -1 5 +1 7 +0 In Progress 0 +0 1 -1 8 +0 9 -1 Ready for Testing 0 +0 0 +0 2 +2 2 +2 Ready for Release 0 +0 3 -5 28 +9 31 +4 Total Software Ready for Testing 3.5.13 XRootD 4.11.3 HTCondor CE 4.2.1 lcmaps 1.6.6 scitokens-cpp 0.5.0 XCache validation tool osg-xrootd 3.5-12 - osg standalone config Both Nothing yet Ready for Release 3.5.13 Pegasus 4.9.3 globus-gridftp-server-13.20-1.1 Both Nothing yet Data IGTF 1.105 Operations gsi-openssh-7.4p1-5 vm-test-runs-1.1-1 Contrib Nothing Discussion \u00b6 One release this week including software and CA certificates OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 78% SciTokens+XrootD requires xrootd 5.0. RC2 still not released Need to evaluate HTCondor-CE tests for availability Discussion \u00b6 None this week","title":"March 30, 2020"},{"location":"meetings/2020/TechArea20200330/#osg-technology-area-meeting-30-march-2020","text":"Coordinates: Conference: 971-292-4623, PIN: 57363; https://www.uberconference.com/osgblin Attending: BrianL, Carl, Derek, Diego, Edgar, Marian, TimT","title":"OSG Technology Area Meeting, 30 March 2020"},{"location":"meetings/2020/TechArea20200330/#announcements","text":"Mat OOO today Switching meeting to Zoom next week OSG support for COVID-19 research: assign any tickets for users or sites to me and set the prio to \"Urgent\"","title":"Announcements"},{"location":"meetings/2020/TechArea20200330/#triage-duty","text":"This week: Mat Next week: TimT 11 (-1) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200330/#jira","text":"# of tickets \u0394 State 157 -1 Open 42 +4 In Progress 11 +0 Ready for Testing 2 +2 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200330/#osg-software-team","text":"OSG 3.5.13/3.4.47 AI (Carl): Various blahp tickets, including LSF status update from Jaime (?) AI (Diego): Build XRootD-4.11.3-1.2 (SOFTWARE-4017) with redirector fix GridFTP/GSI transition AI (Diego): Add option to enable the XCache data integrity script for CMS and ATLAS XCache (SOFTWARE-4026) AI (Carl): Move OASIS manager login credential information to CILogon (SOFTWARE-3947) AI (BrianL): Fix-up email templates and confusing web page for the COManage self-registration process AI (Edgar): Try out the self-registration process EL8 support AI (Mat): Test EL8 builds with new Koji hosts New OSG Software testing host (osg-sw-submit.chtc.wisc.edu) is up and ready! Next doc focus 9 Apr 2020 @ 1:30pm","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200330/#discussion","text":"AI (Marian): Add BrianL and Andy to discussion about CMS monitoring configuration AI (Diego): Send BrianL local UCSD XRootD standalone and redirector configurations AI (BrianL): Verify non-UW Software Team access to the new OSG Software testing host","title":"Discussion"},{"location":"meetings/2020/TechArea20200330/#support-update","text":"Caltech, Nebraska (Mat): issue with missing GridFTP logs; we have a package that addresses this issue Notre Dame (Edgar): pilots landing on GPU nodes but not able to use the GPUs; we suspect that it's a wrapper script issue Purdue (Diego): saw 5-6 different issues and saw that the first two accounted for 70% of the errors. The next build of XRootD should solve the first issue and they are increasing the # of TCP connections to address the second.","title":"Support Update"},{"location":"meetings/2020/TechArea20200330/#osg-release-team","text":"3.4.47 \u0394 Both \u0394 3.5.13 \u0394 Total \u0394 Status 0 +0 0 -3 13 +6 13 +3 Open 0 +0 2 -1 5 +1 7 +0 In Progress 0 +0 1 -1 8 +0 9 -1 Ready for Testing 0 +0 0 +0 2 +2 2 +2 Ready for Release 0 +0 3 -5 28 +9 31 +4 Total Software Ready for Testing 3.5.13 XRootD 4.11.3 HTCondor CE 4.2.1 lcmaps 1.6.6 scitokens-cpp 0.5.0 XCache validation tool osg-xrootd 3.5-12 - osg standalone config Both Nothing yet Ready for Release 3.5.13 Pegasus 4.9.3 globus-gridftp-server-13.20-1.1 Both Nothing yet Data IGTF 1.105 Operations gsi-openssh-7.4p1-5 vm-test-runs-1.1-1 Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200330/#discussion_1","text":"One release this week including software and CA certificates","title":"Discussion"},{"location":"meetings/2020/TechArea20200330/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 78% SciTokens+XrootD requires xrootd 5.0. RC2 still not released Need to evaluate HTCondor-CE tests for availability","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200330/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200406/","text":"OSG Technology Area Meeting, 6 April 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 New COVID-19 site documentation available: https://opensciencegrid.org/docs/compute-element/covid-19/ Triage Duty \u00b6 This week: TimT Next week: Diego 9 (-2) open FreshDesk tickets 0 (-1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 157 +0 Open 40 -2 In Progress 8 -3 Ready for Testing 0 -2 Ready for Release OSG Software Team \u00b6 COVID-19 Open Science CE AI (Mat): add POOL secret volume mount and generate a new token for Mats AI (Mat): Create a gittrac ticket for the HTCondor security session string comparison bug AI (BrianL): Advertise consistent schedd name between instances OSG 3.5.15/3.4.49 AI (Carl): Various blahp tickets (SOFTWARE-3995) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) Next doc focus 9 Apr 2020 @ 1:30pm Discussion \u00b6 AI (Edgar): Build ENMR singularity image AI (BrianL): Follow-up with Diego about running tests manually to troubleshoot XRootD 5 issues AI (BrianL): Create GlideinWMS 3.7 ticket and assign it to Edgar Diego spoke with XRootD devs about xrootd-lcmaps linked libraries. It built without the libraries so we will test to see it if it stil works. Support Update \u00b6 GlueX (Edgar): Had issues with signing VOMS attributes \u2013 will investigate with BrianL and Carl Purdue, UCSD (Diego): Having issues reproducing the XRootD failures \u2013 we decided that if there aren't regressions, we should just move forward with the release OSG Release Team \u00b6 3.4.48 \u0394 Both \u0394 3.5.14 \u0394 Total \u0394 Status 0 +0 0 +0 10 -3 10 -3 Open 0 +0 0 -2 6 +1 6 -1 In Progress 0 +0 2 +1 4 -4 6 -3 Ready for Testing 0 +0 0 +0 0 -2 0 -2 Ready for Release 0 +0 2 -1 20 -8 22 -9 Total Software Ready for Testing 3.5.14 osg-ce 3.5-5 XRootD 4.11.3 osg-xrootd 3.5-12 - osg standalone config Both Frontier Squid 4.10-3.1 Data VO Packge v103 - Wednesday Operations Nothing Contrib Nothing Discussion \u00b6 AI (Edgar): Get Igor to update to a container with the latest frontier-squid, verify it works, and tag it as stable AI (Edgar): Comment in SOFTWARE-4017 with the results of the UCSD XRootD update OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 91% SciTokens+XrootD requires xrootd 5.0. RC2 is out, in development. Need to evaluate HTCondor-CE tests for availability. Folding@Home is running on the OSG within Singularity. Discussion \u00b6 None this week","title":"April 6, 2020"},{"location":"meetings/2020/TechArea20200406/#osg-technology-area-meeting-6-april-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting,  6 April 2020"},{"location":"meetings/2020/TechArea20200406/#announcements","text":"New COVID-19 site documentation available: https://opensciencegrid.org/docs/compute-element/covid-19/","title":"Announcements"},{"location":"meetings/2020/TechArea20200406/#triage-duty","text":"This week: TimT Next week: Diego 9 (-2) open FreshDesk tickets 0 (-1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200406/#jira","text":"# of tickets \u0394 State 157 +0 Open 40 -2 In Progress 8 -3 Ready for Testing 0 -2 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200406/#osg-software-team","text":"COVID-19 Open Science CE AI (Mat): add POOL secret volume mount and generate a new token for Mats AI (Mat): Create a gittrac ticket for the HTCondor security session string comparison bug AI (BrianL): Advertise consistent schedd name between instances OSG 3.5.15/3.4.49 AI (Carl): Various blahp tickets (SOFTWARE-3995) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) Next doc focus 9 Apr 2020 @ 1:30pm","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200406/#discussion","text":"AI (Edgar): Build ENMR singularity image AI (BrianL): Follow-up with Diego about running tests manually to troubleshoot XRootD 5 issues AI (BrianL): Create GlideinWMS 3.7 ticket and assign it to Edgar Diego spoke with XRootD devs about xrootd-lcmaps linked libraries. It built without the libraries so we will test to see it if it stil works.","title":"Discussion"},{"location":"meetings/2020/TechArea20200406/#support-update","text":"GlueX (Edgar): Had issues with signing VOMS attributes \u2013 will investigate with BrianL and Carl Purdue, UCSD (Diego): Having issues reproducing the XRootD failures \u2013 we decided that if there aren't regressions, we should just move forward with the release","title":"Support Update"},{"location":"meetings/2020/TechArea20200406/#osg-release-team","text":"3.4.48 \u0394 Both \u0394 3.5.14 \u0394 Total \u0394 Status 0 +0 0 +0 10 -3 10 -3 Open 0 +0 0 -2 6 +1 6 -1 In Progress 0 +0 2 +1 4 -4 6 -3 Ready for Testing 0 +0 0 +0 0 -2 0 -2 Ready for Release 0 +0 2 -1 20 -8 22 -9 Total Software Ready for Testing 3.5.14 osg-ce 3.5-5 XRootD 4.11.3 osg-xrootd 3.5-12 - osg standalone config Both Frontier Squid 4.10-3.1 Data VO Packge v103 - Wednesday Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200406/#discussion_1","text":"AI (Edgar): Get Igor to update to a container with the latest frontier-squid, verify it works, and tag it as stable AI (Edgar): Comment in SOFTWARE-4017 with the results of the UCSD XRootD update","title":"Discussion"},{"location":"meetings/2020/TechArea20200406/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 91% SciTokens+XrootD requires xrootd 5.0. RC2 is out, in development. Need to evaluate HTCondor-CE tests for availability. Folding@Home is running on the OSG within Singularity.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200406/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200413/","text":"OSG Technology Area Meeting, 13 April 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Edgar OOO today Carl OOO Friday and next Monday Triage Duty \u00b6 This week: Diego Next week: BrianL (?) 11 (+2) open FreshDesk tickets 2 (+2) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 147 +0 Open 46 +6 In Progress 3 -5 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 COVID-19 Open Science CE AI (Mat): send BrianL list of technical debt AI (BrianL): Begin work on persisting jobs across instances OSG 3.5.16/3.4.50 AI (Carl): Various blahp tickets (SOFTWARE-3995) AI (Carl): Various gratia-probe tickets (SOFTWARE-3980) AI (Diego): Kick off OSG 3.4 tests for XRootD 4.11.3 for 3.4 (SOFTWARE-3056) AI (BrianL): Release GlideinWMS 3.7 (SOFTWARE-4051) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) Doc focus postponed to 7 May 2020 @ 1:30pm Discussion \u00b6 None this week Support Update \u00b6 Harvester (BrianL): Worked with Harvester developers to troubleshoot an issue where clients failed to connect to the SciTokens test CE. Turned out to be an authentication failure that resulted in an unhelpful client error message. SWT2 (Carl): Continued troubleshooting missing March accounting data. UCSD (Diego): CMS load test transfers were failing due to mismatched checksums. Turned out to be a problem with the source files and HDFS checksums needing to be updated rather than an issue in the transfer itself. OSG Release Team \u00b6 3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 12 +2 12 +2 Open 1 +1 0 +0 10 +4 11 +5 In Progress 0 +0 0 -2 1 -3 1 -5 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 1 +1 0 -2 23 +3 24 +2 Total Software Ready for Testing 3.5.16 osg-ce 3.5-5 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 97% GRACC reports pruning this week. SciTokens + XCache - no progress last week. LIGO is waiting on me. Folding@Home ran at scale on the OSG. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effor from Diego and Derek. Discussion \u00b6 None this week","title":"April 13, 2020"},{"location":"meetings/2020/TechArea20200413/#osg-technology-area-meeting-13-april-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 13 April 2020"},{"location":"meetings/2020/TechArea20200413/#announcements","text":"Edgar OOO today Carl OOO Friday and next Monday","title":"Announcements"},{"location":"meetings/2020/TechArea20200413/#triage-duty","text":"This week: Diego Next week: BrianL (?) 11 (+2) open FreshDesk tickets 2 (+2) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200413/#jira","text":"# of tickets \u0394 State 147 +0 Open 46 +6 In Progress 3 -5 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200413/#osg-software-team","text":"COVID-19 Open Science CE AI (Mat): send BrianL list of technical debt AI (BrianL): Begin work on persisting jobs across instances OSG 3.5.16/3.4.50 AI (Carl): Various blahp tickets (SOFTWARE-3995) AI (Carl): Various gratia-probe tickets (SOFTWARE-3980) AI (Diego): Kick off OSG 3.4 tests for XRootD 4.11.3 for 3.4 (SOFTWARE-3056) AI (BrianL): Release GlideinWMS 3.7 (SOFTWARE-4051) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) Doc focus postponed to 7 May 2020 @ 1:30pm","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200413/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200413/#support-update","text":"Harvester (BrianL): Worked with Harvester developers to troubleshoot an issue where clients failed to connect to the SciTokens test CE. Turned out to be an authentication failure that resulted in an unhelpful client error message. SWT2 (Carl): Continued troubleshooting missing March accounting data. UCSD (Diego): CMS load test transfers were failing due to mismatched checksums. Turned out to be a problem with the source files and HDFS checksums needing to be updated rather than an issue in the transfer itself.","title":"Support Update"},{"location":"meetings/2020/TechArea20200413/#osg-release-team","text":"3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 12 +2 12 +2 Open 1 +1 0 +0 10 +4 11 +5 In Progress 0 +0 0 -2 1 -3 1 -5 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 1 +1 0 -2 23 +3 24 +2 Total Software Ready for Testing 3.5.16 osg-ce 3.5-5 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200413/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200413/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 97% GRACC reports pruning this week. SciTokens + XCache - no progress last week. LIGO is waiting on me. Folding@Home ran at scale on the OSG. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effor from Diego and Derek.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200413/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200420/","text":"OSG Technology Area Meeting, 20 April 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Carl OOO today Triage Duty \u00b6 This week: BrianL Next week: Edgar 6 (-5) open FreshDesk tickets 1 (-1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 152 -5 Open 50 +4 In Progress 3 +0 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 OSG Release tickets AI (Edgar): Release XRootD 4.12.0 (SOFTWARE-4063) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) AI (Diego): Troubleshoot VMU test failures with XRootD 5 (SOFTWARE-3923) AI (Mat): troubleshoot issue with EL8 builds due to dependencies being satisfied by modules instead of by repositories AI (BrianL): Begin work on persisting jobs across Open Science CE instances Discussion \u00b6 None this week Support Update \u00b6 AGLT2, BNL, MWT2 (BrianL): negotiator bug in the latest HTCondor 8.8 versions that prevent some jobs from matching when using hierarchical accounting group quotas. HTCondor team working on verifying a fix. AMNH (Derek, Edgar): now running their squid at Manhattan Internet2 node. New CE being added as well. Brown (Marian): had Webex troubleshooting session last week and will have a follow-up this week. Has some XRootD + NFS configuration that we may want to add to our own documentation. Cybera (Diego): having some issues setting up COVID-19 routes and will discuss with BrianL offline GlideinWMS (Marco, Edgar): a few proxy different proxy issues (missing pathlen, cannot generate VO proxies for a sub-vo, and proxy lifetime not getting passed along properly) that are expected to make it into the next 3.6 and 3.7 releases Purdue (Diego): was able to produce an issue similar to transfers getting stuck by setting and removing network bandwidth restrictions. Will discuss short timeouts with gfal2 client developers. Rutgers (Derek, BrianL): Issues with Accounting groups, prioritization of COVID research. OSG Release Team \u00b6 3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 9 -3 9 -3 Open 1 +0 0 +0 14 +4 15 +4 In Progress 0 +0 0 +0 2 +1 2 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 1 +0 0 +0 25 +2 26 +2 Total Software Ready for Testing 3.5.16 GlideinWMS 3.7 osg-ce 3.5-5 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 100% (within rounding error) Significant GRACC reports refactor. SciTokens + XCache - no progress last week. Goal for this week. Folding@Home ran at scale on the OSG. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effort from Diego and Derek. Validation presentation this week to CMS / FNAL. Discussion \u00b6 None this week","title":"April 20, 2020"},{"location":"meetings/2020/TechArea20200420/#osg-technology-area-meeting-20-april-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 20 April 2020"},{"location":"meetings/2020/TechArea20200420/#announcements","text":"Carl OOO today","title":"Announcements"},{"location":"meetings/2020/TechArea20200420/#triage-duty","text":"This week: BrianL Next week: Edgar 6 (-5) open FreshDesk tickets 1 (-1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200420/#jira","text":"# of tickets \u0394 State 152 -5 Open 50 +4 In Progress 3 +0 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200420/#osg-software-team","text":"OSG Release tickets AI (Edgar): Release XRootD 4.12.0 (SOFTWARE-4063) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) AI (Diego): Troubleshoot VMU test failures with XRootD 5 (SOFTWARE-3923) AI (Mat): troubleshoot issue with EL8 builds due to dependencies being satisfied by modules instead of by repositories AI (BrianL): Begin work on persisting jobs across Open Science CE instances","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200420/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200420/#support-update","text":"AGLT2, BNL, MWT2 (BrianL): negotiator bug in the latest HTCondor 8.8 versions that prevent some jobs from matching when using hierarchical accounting group quotas. HTCondor team working on verifying a fix. AMNH (Derek, Edgar): now running their squid at Manhattan Internet2 node. New CE being added as well. Brown (Marian): had Webex troubleshooting session last week and will have a follow-up this week. Has some XRootD + NFS configuration that we may want to add to our own documentation. Cybera (Diego): having some issues setting up COVID-19 routes and will discuss with BrianL offline GlideinWMS (Marco, Edgar): a few proxy different proxy issues (missing pathlen, cannot generate VO proxies for a sub-vo, and proxy lifetime not getting passed along properly) that are expected to make it into the next 3.6 and 3.7 releases Purdue (Diego): was able to produce an issue similar to transfers getting stuck by setting and removing network bandwidth restrictions. Will discuss short timeouts with gfal2 client developers. Rutgers (Derek, BrianL): Issues with Accounting groups, prioritization of COVID research.","title":"Support Update"},{"location":"meetings/2020/TechArea20200420/#osg-release-team","text":"3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 9 -3 9 -3 Open 1 +0 0 +0 14 +4 15 +4 In Progress 0 +0 0 +0 2 +1 2 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 1 +0 0 +0 25 +2 26 +2 Total Software Ready for Testing 3.5.16 GlideinWMS 3.7 osg-ce 3.5-5 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200420/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200420/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 100% (within rounding error) Significant GRACC reports refactor. SciTokens + XCache - no progress last week. Goal for this week. Folding@Home ran at scale on the OSG. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effort from Diego and Derek. Validation presentation this week to CMS / FNAL.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200420/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200427/","text":"OSG Technology Area Meeting, 27 April 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Marian, Mat, TimT Announcements \u00b6 BrianL OOO Wednesday Triage Duty \u00b6 This week: Edgar Next week: Carl 8 (+2) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 146 -6 Open 45 -5 In Progress 10 +7 Ready for Testing 1 +1 Ready for Release OSG Software Team \u00b6 OSG 3.5.16 AI (Edgar): Release XRootD 4.12.0 (SOFTWARE-4063) AI (Diego): Troubleshoot VMU test failures with XRootD 5 (SOFTWARE-3923) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) AI (BrianL): Release HTCondor-CE 4.2.2 AI (Carl): Release Gratia Probe 1.20.13 (SOFTWARE-3980) AI (Mat): need to find testers for the EL8 WN RPM and container (we suggested LIGO and Mat, respectively). Promotion requests should include a summary of changes in the requested packages that are relevant to OSG site admins Discussion \u00b6 None this week Support Update \u00b6 Alice T2 (Derek): Naming consistency with WLCG. Brown (Marian): working on Topology registration and finishing touches on remaining CMS issues Networking (Derek): Pipeline malfunctioned last week, may take surgery to recover data. SWT2 CPB (Derek): Accounting malfunction may require gratia-probe slurm surgery OSG Release Team \u00b6 3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 8 -1 8 -1 Open 0 -1 0 +0 9 -5 9 -6 In Progress 0 +0 0 +0 6 +4 6 +4 Ready for Testing 1 +1 0 +0 1 +1 2 +2 Ready for Release 1 +0 0 +0 24 -1 25 -1 Total Software Ready for Testing 3.5.16 CVMFS 2.7.2 Frontier Squid 4.11-2.1 blahp 1.18.46 GlideinWMS 3.7 Ready for Release 3.5.16 osg-ce 3.5-5 3.4.50 XRootD 4.11.3 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 100% (within rounding error) SciTokens + XCache - no progress last week. Goal for this week. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effort from Diego and Derek. Starting to create the parallel infrastructure. Discussion \u00b6 None this week","title":"April 27, 2020"},{"location":"meetings/2020/TechArea20200427/#osg-technology-area-meeting-27-april-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 27 April 2020"},{"location":"meetings/2020/TechArea20200427/#announcements","text":"BrianL OOO Wednesday","title":"Announcements"},{"location":"meetings/2020/TechArea20200427/#triage-duty","text":"This week: Edgar Next week: Carl 8 (+2) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200427/#jira","text":"# of tickets \u0394 State 146 -6 Open 45 -5 In Progress 10 +7 Ready for Testing 1 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200427/#osg-software-team","text":"OSG 3.5.16 AI (Edgar): Release XRootD 4.12.0 (SOFTWARE-4063) AI (Diego): Troubleshoot VMU test failures with XRootD 5 (SOFTWARE-3923) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) AI (BrianL): Release HTCondor-CE 4.2.2 AI (Carl): Release Gratia Probe 1.20.13 (SOFTWARE-3980) AI (Mat): need to find testers for the EL8 WN RPM and container (we suggested LIGO and Mat, respectively). Promotion requests should include a summary of changes in the requested packages that are relevant to OSG site admins","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200427/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200427/#support-update","text":"Alice T2 (Derek): Naming consistency with WLCG. Brown (Marian): working on Topology registration and finishing touches on remaining CMS issues Networking (Derek): Pipeline malfunctioned last week, may take surgery to recover data. SWT2 CPB (Derek): Accounting malfunction may require gratia-probe slurm surgery","title":"Support Update"},{"location":"meetings/2020/TechArea20200427/#osg-release-team","text":"3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 8 -1 8 -1 Open 0 -1 0 +0 9 -5 9 -6 In Progress 0 +0 0 +0 6 +4 6 +4 Ready for Testing 1 +1 0 +0 1 +1 2 +2 Ready for Release 1 +0 0 +0 24 -1 25 -1 Total Software Ready for Testing 3.5.16 CVMFS 2.7.2 Frontier Squid 4.11-2.1 blahp 1.18.46 GlideinWMS 3.7 Ready for Release 3.5.16 osg-ce 3.5-5 3.4.50 XRootD 4.11.3 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200427/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200427/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 100% (within rounding error) SciTokens + XCache - no progress last week. Goal for this week. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effort from Diego and Derek. Starting to create the parallel infrastructure.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200427/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200504/","text":"OSG Technology Area Meeting, 4 May 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Marco, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Carl Next week: Mat 8 (+0) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 146 +0 Open 45 -1 In Progress 12 +2 Ready for Testing 2 +1 Ready for Release OSG Software Team \u00b6 AI (BrianL, Carl, Mat): Release IGTF CA update, making sure to test InCommon certs between EL6 and EL7 hosts OSG 3.5.17 AI (Edgar): XRootD 4.12.0 RC2 ready upstream (SOFTWARE-4063) AI (Diego): Release XCache 1.3+ (SOFTWARE-4047) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) AI (BrianL): Release HTCondor-CE 4.2.2 AI (Carl): Release Gratia Probe 1.20.13 (SOFTWARE-3980) AI (Mat): Remove OSG references in HTCondor-CE view and condor_ce_info_status (SOFTWARE-3963) Reminder: Promotion requests should include a summary of changes in the requested packages that are relevant to OSG site admins Old Fermicloud VMs have old DNs, need to be rebooted for new DNs Doc focus this Thursday @ 1:30pm CDT Discussion \u00b6 AI (TimT): transition OSG Travis repos from .org to .com Support Update \u00b6 Clarkson, Old Dominion, Portland State (BrianL, Derek): engagements with new Slurm sites. Clarkson and Portland asked for examples of Slurm config \"for the OSG\", which brought up the question of whether or not we should document these recommendations. We don't want to take on the batch system support burden but this is something that sites are asking for. SWT2 (Derek): Old records are now in the GRACC, waiting for EGI numbers to be updated OSG Release Team \u00b6 3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 1 -7 1 -7 Open 0 +0 0 +0 0 -9 0 -9 In Progress 0 +0 0 +0 11 +5 11 +5 Ready for Testing 1 +0 0 +0 1 +0 2 +0 Ready for Release 1 +0 0 +0 13 -11 14 -11 Total Software Ready for Testing 3.5.16 EL8 wn client blahp 1.18.46 hosted-ce-tools 0.6 Frontier Squid 4.11-2.1 CMVFS 2.7.2 GlideinWMS 3.7 Ready for Release 3.5.16 osg-ce 3.5-5 3.4.50 XRootD 4.11.3 Data IGTF 1.106 Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 99% Paused while Marian is in transition to Europe. SciTokens + XCache - Lots of progress. Back and forth with XRootD devs. TLS is not well documented. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effort from Diego and Derek. Starting to create the parallel infrastructure. Discussion \u00b6 None this week","title":"May 4, 2020"},{"location":"meetings/2020/TechArea20200504/#osg-technology-area-meeting-4-may-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Marco, Mat, TimT","title":"OSG Technology Area Meeting,  4 May 2020"},{"location":"meetings/2020/TechArea20200504/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200504/#triage-duty","text":"This week: Carl Next week: Mat 8 (+0) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200504/#jira","text":"# of tickets \u0394 State 146 +0 Open 45 -1 In Progress 12 +2 Ready for Testing 2 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200504/#osg-software-team","text":"AI (BrianL, Carl, Mat): Release IGTF CA update, making sure to test InCommon certs between EL6 and EL7 hosts OSG 3.5.17 AI (Edgar): XRootD 4.12.0 RC2 ready upstream (SOFTWARE-4063) AI (Diego): Release XCache 1.3+ (SOFTWARE-4047) AI (Edgar): Release CCTools 7.1.0+ (SOFTWARE-4031) AI (BrianL): Release HTCondor-CE 4.2.2 AI (Carl): Release Gratia Probe 1.20.13 (SOFTWARE-3980) AI (Mat): Remove OSG references in HTCondor-CE view and condor_ce_info_status (SOFTWARE-3963) Reminder: Promotion requests should include a summary of changes in the requested packages that are relevant to OSG site admins Old Fermicloud VMs have old DNs, need to be rebooted for new DNs Doc focus this Thursday @ 1:30pm CDT","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200504/#discussion","text":"AI (TimT): transition OSG Travis repos from .org to .com","title":"Discussion"},{"location":"meetings/2020/TechArea20200504/#support-update","text":"Clarkson, Old Dominion, Portland State (BrianL, Derek): engagements with new Slurm sites. Clarkson and Portland asked for examples of Slurm config \"for the OSG\", which brought up the question of whether or not we should document these recommendations. We don't want to take on the batch system support burden but this is something that sites are asking for. SWT2 (Derek): Old records are now in the GRACC, waiting for EGI numbers to be updated","title":"Support Update"},{"location":"meetings/2020/TechArea20200504/#osg-release-team","text":"3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 1 -7 1 -7 Open 0 +0 0 +0 0 -9 0 -9 In Progress 0 +0 0 +0 11 +5 11 +5 Ready for Testing 1 +0 0 +0 1 +0 2 +0 Ready for Release 1 +0 0 +0 13 -11 14 -11 Total Software Ready for Testing 3.5.16 EL8 wn client blahp 1.18.46 hosted-ce-tools 0.6 Frontier Squid 4.11-2.1 CMVFS 2.7.2 GlideinWMS 3.7 Ready for Release 3.5.16 osg-ce 3.5-5 3.4.50 XRootD 4.11.3 Data IGTF 1.106 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200504/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200504/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 99% Paused while Marian is in transition to Europe. SciTokens + XCache - Lots of progress. Back and forth with XRootD devs. TLS is not well documented. Need to figure out the singularity container pruning. XRootD monitoring collector validation is starting. Effort from Diego and Derek. Starting to create the parallel infrastructure.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200504/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200511/","text":"OSG Technology Area Meeting, 11 May 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Mat Next week: TimT 13 (+5) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 147 +1 Open 45 +1 In Progress 13 +1 Ready for Testing 3 +1 Ready for Release OSG Software Team \u00b6 Reminder: Promotion requests should include a summary of changes in the requested packages that are relevant to OSG site admins OSG 3.5.16 AI (Mat): Release HTCondor 8.8.9 and 8.9.7 (SOFTWARE-4079, SOFTWARE-4080) AI (Edgar): Release vo-client with EIC VOMS (SOFTWARE-4097) OSG 3.5.17 AI (Edgar): XRootD 4.12.0 officially released upstream (SOFTWARE-4063) AI (Diego): Release XCache 1.3+ (SOFTWARE-4047) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) AI (Carl): Release gratia-probe 1.20.13+ (SOFTWARE-3980) AI (Mat): Remove OSG references in HTCondor-CE view and condor ce info status (SOFTWARE-3963) Discussion \u00b6 Marco has some Singularity and condor_chirp fixes and updates in GlideinWMS 3.6.3 (expected in 2-3 weeks) Support Update \u00b6 Brown (Marian): waiting on a response from Brown about registering their XRootD in Topology JLab (Edgar): actively troubleshooting issues with submit hosts authenticating with different hosts with Let's Encrypt certs LIGO (Carl, Derek): followed up on some extra VO attribtues showing up in the accounting dashboards Notre Dame (Carl): answered questions about passing along AccountingGroup via the BLAH SWT2 (Derek): had to do Slurm Gratia probe surgery for Oklahoma and UTA. We're getting tired of doing this so UNL is going to pilot using the HTCondor-CE Gratia probe at their Slurm site. OSG Release Team \u00b6 3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 2 +1 2 +1 Open 0 +0 0 +0 0 +0 0 +0 In Progress 0 +0 0 +0 8 -3 8 -3 Ready for Testing 1 +0 0 +0 2 +1 3 +1 Ready for Release 1 +0 0 +0 12 -1 13 -1 Total Software Ready for Testing 3.5.16 EL8 wn client blahp 1.18.46 hosted-ce-tools 0.6 Frontier Squid 4.11-2.1 GlideinWMS 3.7 Ready for Release 3.5.16 CMVFS 2.7.2 CCTools 7.1.5 osg-ce 3.5-5 3.4.50 XRootD 4.11.3 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (Carl): Create a follow-on ticket to fix the INDEX in the CA certificate packaging AI (Edgar): Test the latest Frontier Squid package via the fresh container OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 99% Marian can give status. SciTokens + XCache - As always, very complicated... Need to figure out the singularity container pruning. Turned on garbage collection on the CVMFS repo. Cleaned up a TON of space, no longer need to worry so much about pruning. XRootD monitoring collector validation is starting. Parallel infrastructure is 90% up and running. Slurm gratia probe considerations Discussion \u00b6 None this week","title":"May 11, 2020"},{"location":"meetings/2020/TechArea20200511/#osg-technology-area-meeting-11-may-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 11 May 2020"},{"location":"meetings/2020/TechArea20200511/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200511/#triage-duty","text":"This week: Mat Next week: TimT 13 (+5) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200511/#jira","text":"# of tickets \u0394 State 147 +1 Open 45 +1 In Progress 13 +1 Ready for Testing 3 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200511/#osg-software-team","text":"Reminder: Promotion requests should include a summary of changes in the requested packages that are relevant to OSG site admins OSG 3.5.16 AI (Mat): Release HTCondor 8.8.9 and 8.9.7 (SOFTWARE-4079, SOFTWARE-4080) AI (Edgar): Release vo-client with EIC VOMS (SOFTWARE-4097) OSG 3.5.17 AI (Edgar): XRootD 4.12.0 officially released upstream (SOFTWARE-4063) AI (Diego): Release XCache 1.3+ (SOFTWARE-4047) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) AI (Carl): Release gratia-probe 1.20.13+ (SOFTWARE-3980) AI (Mat): Remove OSG references in HTCondor-CE view and condor ce info status (SOFTWARE-3963)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200511/#discussion","text":"Marco has some Singularity and condor_chirp fixes and updates in GlideinWMS 3.6.3 (expected in 2-3 weeks)","title":"Discussion"},{"location":"meetings/2020/TechArea20200511/#support-update","text":"Brown (Marian): waiting on a response from Brown about registering their XRootD in Topology JLab (Edgar): actively troubleshooting issues with submit hosts authenticating with different hosts with Let's Encrypt certs LIGO (Carl, Derek): followed up on some extra VO attribtues showing up in the accounting dashboards Notre Dame (Carl): answered questions about passing along AccountingGroup via the BLAH SWT2 (Derek): had to do Slurm Gratia probe surgery for Oklahoma and UTA. We're getting tired of doing this so UNL is going to pilot using the HTCondor-CE Gratia probe at their Slurm site.","title":"Support Update"},{"location":"meetings/2020/TechArea20200511/#osg-release-team","text":"3.4.50 \u0394 Both \u0394 3.5.16 \u0394 Total \u0394 Status 0 +0 0 +0 2 +1 2 +1 Open 0 +0 0 +0 0 +0 0 +0 In Progress 0 +0 0 +0 8 -3 8 -3 Ready for Testing 1 +0 0 +0 2 +1 3 +1 Ready for Release 1 +0 0 +0 12 -1 13 -1 Total Software Ready for Testing 3.5.16 EL8 wn client blahp 1.18.46 hosted-ce-tools 0.6 Frontier Squid 4.11-2.1 GlideinWMS 3.7 Ready for Release 3.5.16 CMVFS 2.7.2 CCTools 7.1.5 osg-ce 3.5-5 3.4.50 XRootD 4.11.3 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200511/#discussion_1","text":"AI (Carl): Create a follow-on ticket to fix the INDEX in the CA certificate packaging AI (Edgar): Test the latest Frontier Squid package via the fresh container","title":"Discussion"},{"location":"meetings/2020/TechArea20200511/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 99% Marian can give status. SciTokens + XCache - As always, very complicated... Need to figure out the singularity container pruning. Turned on garbage collection on the CVMFS repo. Cleaned up a TON of space, no longer need to worry so much about pruning. XRootD monitoring collector validation is starting. Parallel infrastructure is 90% up and running. Slurm gratia probe considerations","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200511/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200518/","text":"OSG Technology Area Meeting, 18 May 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, TimT Announcements \u00b6 Next week's meeting canceled (Memorial Day) HTCondor Week Tuesday and Wednesday: https://agenda.hep.wisc.edu/event/1440/overview IRIS-HEP planning retreat next Tuesday - Thursday BrianL out Friday Triage Duty \u00b6 This week: TimT Next week: Diego 8 (-5) open FreshDesk tickets 0 (-1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 143 -4 Open 43 -2 In Progress 16 +3 Ready for Testing 1 -2 Ready for Release OSG Software Team \u00b6 Nightly VMU tests are delayed due to image creation failures due to lack of resources. Adding retries and limits to the number of local universe jobs Please fill out the next doc focus doodle poll OSG 3.5.17 AI (Mat): Release HTCondor 8.9.7 (SOFTWARE-4080) AI (Diego): Release XCache 1.3+ (SOFTWARE-4047) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) AI (Mat): Update de-osgify HTCondor-CE ticket with investigation notes. We can punt on condor ce info status but not on HTCondor-CE View (SOFTWARE-3963) AI (Carl): Finish OASIS DN + SSH key endpoint (SOFTWARE-3947) AI (Edgar): Build OASIS packages for EL8 (JIRA ticket incoming) AI (Carl): Finish up new CE emailer (SOFTWARE-4057) Discussion \u00b6 None this week Support Update \u00b6 EIC (Edgar): working on getting pilots into JLab with EIC and JLab admins; separately, planning on how to do two origins serving the same data (one at BNL and one at JLab) FNAL (Carl): abandoned tracking down UCLA Frontier Squid (not an OSG site, no longer a problem for CVMFS ops groups) Nebraska, SurfSARA (Edgar): troubleshooting various issues with authenticated CVMFS cache issues OSG Release Team \u00b6 3.4.51 \u0394 Both \u0394 3.5.17 \u0394 Total \u0394 Status 1 +1 0 +0 7 +5 8 +6 Open 0 +0 0 +0 10 +10 10 +10 In Progress 0 +0 3 +3 10 +2 13 +5 Ready for Testing 0 -1 0 +0 1 -1 1 -2 Ready for Release 1 +0 3 +3 28 +16 32 +19 Total Software Ready for Testing 3.5.17 HTCondor 8.8.9 XRootD 4.12.1 xrootd-lcmaps 1.7.7 gratia-probe 1.20.13 Upcoming XRootD 5.0.0 EL8 wn client blahp 1.18.46 GlideinWMS 3.7 Ready for Release 3.5.17 Frontier Squid container Hosted CE container Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 99% Marian can give status. SciTokens + XCache - Document incoming. Talking with Andy about schedules. XRootD monitoring collector validation is starting. Parallel infrastructure is 100% up and running. Slurm gratia probe considerations Guinea Pig Nebraska Discussion \u00b6 None this week","title":"May 18, 2020"},{"location":"meetings/2020/TechArea20200518/#osg-technology-area-meeting-18-may-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 18 May 2020"},{"location":"meetings/2020/TechArea20200518/#announcements","text":"Next week's meeting canceled (Memorial Day) HTCondor Week Tuesday and Wednesday: https://agenda.hep.wisc.edu/event/1440/overview IRIS-HEP planning retreat next Tuesday - Thursday BrianL out Friday","title":"Announcements"},{"location":"meetings/2020/TechArea20200518/#triage-duty","text":"This week: TimT Next week: Diego 8 (-5) open FreshDesk tickets 0 (-1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200518/#jira","text":"# of tickets \u0394 State 143 -4 Open 43 -2 In Progress 16 +3 Ready for Testing 1 -2 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200518/#osg-software-team","text":"Nightly VMU tests are delayed due to image creation failures due to lack of resources. Adding retries and limits to the number of local universe jobs Please fill out the next doc focus doodle poll OSG 3.5.17 AI (Mat): Release HTCondor 8.9.7 (SOFTWARE-4080) AI (Diego): Release XCache 1.3+ (SOFTWARE-4047) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) AI (Mat): Update de-osgify HTCondor-CE ticket with investigation notes. We can punt on condor ce info status but not on HTCondor-CE View (SOFTWARE-3963) AI (Carl): Finish OASIS DN + SSH key endpoint (SOFTWARE-3947) AI (Edgar): Build OASIS packages for EL8 (JIRA ticket incoming) AI (Carl): Finish up new CE emailer (SOFTWARE-4057)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200518/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200518/#support-update","text":"EIC (Edgar): working on getting pilots into JLab with EIC and JLab admins; separately, planning on how to do two origins serving the same data (one at BNL and one at JLab) FNAL (Carl): abandoned tracking down UCLA Frontier Squid (not an OSG site, no longer a problem for CVMFS ops groups) Nebraska, SurfSARA (Edgar): troubleshooting various issues with authenticated CVMFS cache issues","title":"Support Update"},{"location":"meetings/2020/TechArea20200518/#osg-release-team","text":"3.4.51 \u0394 Both \u0394 3.5.17 \u0394 Total \u0394 Status 1 +1 0 +0 7 +5 8 +6 Open 0 +0 0 +0 10 +10 10 +10 In Progress 0 +0 3 +3 10 +2 13 +5 Ready for Testing 0 -1 0 +0 1 -1 1 -2 Ready for Release 1 +0 3 +3 28 +16 32 +19 Total Software Ready for Testing 3.5.17 HTCondor 8.8.9 XRootD 4.12.1 xrootd-lcmaps 1.7.7 gratia-probe 1.20.13 Upcoming XRootD 5.0.0 EL8 wn client blahp 1.18.46 GlideinWMS 3.7 Ready for Release 3.5.17 Frontier Squid container Hosted CE container Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200518/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200518/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/ : 99% Marian can give status. SciTokens + XCache - Document incoming. Talking with Andy about schedules. XRootD monitoring collector validation is starting. Parallel infrastructure is 100% up and running. Slurm gratia probe considerations Guinea Pig Nebraska","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200518/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200601/","text":"OSG Technology Area Meeting, 1 June 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Derek, Diego, Edgar, Mat, Marian, Marco Mambelli, TimT Announcements \u00b6 Carl OOO Mon/Tue Triage Duty \u00b6 This week: BrianL Next week: Carl 12 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 147 -1 Open 44 +1 In Progress 9 +1 Ready for Testing 11 +0 Ready for Release OSG Software Team \u00b6 BrianL working on IRIS-HEP quarterly report this week Due to the CA expiration, Koji builds from moria hang. Workaround is to hit t followed by Enter to accept the moria certificate. OSG 3.5.17 AI (Diego): Move XCache 1.4-related tickets to RFT AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) Enterprise Linux 8 AI (Edgar): Test built XRootD packages AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072) AI (Carl): Finish OASIS DN + SSH key endpoint (SOFTWARE-3947) AI (Carl): Finish up new CE emailer (SOFTWARE-4057) Discussion \u00b6 None this week Support Update \u00b6 BNL (Edgar): Working on LIGO data frame data working, which is difficult because they get CVMFS config from EGI but cvmfs-x509-helper from OSG. CMS (Marco): helped troubleshoot an issue due to CA expiration over the weekend because of stale CAs in a CMS docker container FNAL (Derek): Worked to get accounting up and running on new cluster using HTCondor-CE probe with SLURM. OSGConnect (Derek): SciTokens CredMon fixes. Causing user submission issues, to top priority. OU (Derek): Helped Horst get a CE up and running on an old cluster. Though, Horst did most of the work. Syracuse (Edgar, Derek): submit host reporting records as pilots UFL (Marco): Troubleshooting issues finding local Singularity with SAM tests Utah (BrianL): Pilots fail to report back to the gWMS collector due to a bad X509_USER_CERT set by Bosco. This is due to a bad Bosco tarball from the CHTC at least 2 weeks ago so any Hosted CEs instantiated during this time may experience these same failures. OSG Release Team \u00b6 3.4.51 \u0394 Both \u0394 3.5.17 \u0394 Total \u0394 Status 1 +0 0 +0 5 -2 6 -2 Open 0 +0 0 +0 10 +0 10 +0 In Progress 0 +0 1 -2 6 -4 7 -6 Ready for Testing 0 +0 3 +3 7 +6 10 +9 Ready for Release 1 +0 4 +1 28 +0 33 +1 Total Software Ready for Testing 3.5.17 Upcoming: HTCondor 8.9.7 HTCondor 8.8.9 XRootD 4.12.1 xrootd-lcmaps 1.7.7 XCache 1.4.0 stashcache-client 5.6.1 Upcoming: XRootD 5.0.0 EL8 wn client Ready for Release 3.5.17 GlideinWMS 3.7 gratia-probe 1.20.13 blahp 1.18.46 Frontier Squid container Hosted CE container Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/: 99% Marian can give status. XRootD monitoring collector validation is starting. Parallel infrastructure is 100% up and running. Slurm gratia probe considerations FNAL is up and running successfully. Nebraska is next, then the world! New GRACC report for Tim sent out this morning! Investigations team is helping with IRIS-HEP Analysis cluster demo at Nebraska. BrianB and Derek are helping. Derek mostly for xcache + tokens components. Discussion \u00b6 None this week","title":"June 1, 2020"},{"location":"meetings/2020/TechArea20200601/#osg-technology-area-meeting-1-june-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Derek, Diego, Edgar, Mat, Marian, Marco Mambelli, TimT","title":"OSG Technology Area Meeting,  1 June 2020"},{"location":"meetings/2020/TechArea20200601/#announcements","text":"Carl OOO Mon/Tue","title":"Announcements"},{"location":"meetings/2020/TechArea20200601/#triage-duty","text":"This week: BrianL Next week: Carl 12 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200601/#jira","text":"# of tickets \u0394 State 147 -1 Open 44 +1 In Progress 9 +1 Ready for Testing 11 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200601/#osg-software-team","text":"BrianL working on IRIS-HEP quarterly report this week Due to the CA expiration, Koji builds from moria hang. Workaround is to hit t followed by Enter to accept the moria certificate. OSG 3.5.17 AI (Diego): Move XCache 1.4-related tickets to RFT AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) Enterprise Linux 8 AI (Edgar): Test built XRootD packages AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072) AI (Carl): Finish OASIS DN + SSH key endpoint (SOFTWARE-3947) AI (Carl): Finish up new CE emailer (SOFTWARE-4057)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200601/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200601/#support-update","text":"BNL (Edgar): Working on LIGO data frame data working, which is difficult because they get CVMFS config from EGI but cvmfs-x509-helper from OSG. CMS (Marco): helped troubleshoot an issue due to CA expiration over the weekend because of stale CAs in a CMS docker container FNAL (Derek): Worked to get accounting up and running on new cluster using HTCondor-CE probe with SLURM. OSGConnect (Derek): SciTokens CredMon fixes. Causing user submission issues, to top priority. OU (Derek): Helped Horst get a CE up and running on an old cluster. Though, Horst did most of the work. Syracuse (Edgar, Derek): submit host reporting records as pilots UFL (Marco): Troubleshooting issues finding local Singularity with SAM tests Utah (BrianL): Pilots fail to report back to the gWMS collector due to a bad X509_USER_CERT set by Bosco. This is due to a bad Bosco tarball from the CHTC at least 2 weeks ago so any Hosted CEs instantiated during this time may experience these same failures.","title":"Support Update"},{"location":"meetings/2020/TechArea20200601/#osg-release-team","text":"3.4.51 \u0394 Both \u0394 3.5.17 \u0394 Total \u0394 Status 1 +0 0 +0 5 -2 6 -2 Open 0 +0 0 +0 10 +0 10 +0 In Progress 0 +0 1 -2 6 -4 7 -6 Ready for Testing 0 +0 3 +3 7 +6 10 +9 Ready for Release 1 +0 4 +1 28 +0 33 +1 Total Software Ready for Testing 3.5.17 Upcoming: HTCondor 8.9.7 HTCondor 8.8.9 XRootD 4.12.1 xrootd-lcmaps 1.7.7 XCache 1.4.0 stashcache-client 5.6.1 Upcoming: XRootD 5.0.0 EL8 wn client Ready for Release 3.5.17 GlideinWMS 3.7 gratia-probe 1.20.13 blahp 1.18.46 Frontier Squid container Hosted CE container Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200601/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200601/#osg-investigations-team","text":"GRACC transition now monitored with gracc-transition website: https://gracc-transition.herokuapp.com/: 99% Marian can give status. XRootD monitoring collector validation is starting. Parallel infrastructure is 100% up and running. Slurm gratia probe considerations FNAL is up and running successfully. Nebraska is next, then the world! New GRACC report for Tim sent out this morning! Investigations team is helping with IRIS-HEP Analysis cluster demo at Nebraska. BrianB and Derek are helping. Derek mostly for xcache + tokens components.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200601/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200608/","text":"OSG Technology Area Meeting, 8 June 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Mat, Marian, TimT Announcements \u00b6 If you are taking Wednesday Jun 10 off for #ShutDownSTEM, please let me know and try to keep an eye on critical infrastructure or urgent items during the day Triage Duty \u00b6 This week: Carl Next week: Edgar 7 (-5) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 148 +1 Open 43 -1 In Progress 14 +5 Ready for Testing 0 -11 Ready for Release OSG Software Team \u00b6 OSG 3.5.18 AI (BrianL): Automatically remove completed jobs after 30 days (SOFTWARE-4108) AI (Diego): Build XRootD 4.12.2 (SOFTWARE-4063) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) GSI/GridFTP migration AI (Edgar): test new GFAL client available in EPEL testing with XRootD 4 and 5 AI (Edgar): Update a VO frontend to GlideinWMS 3.7 AI (Carl): OASIS manager + COManage endpoint (SOFTWARE-3947) Enterprise Linux 8 AI (Edgar): Test built XRootD packages (lower prio) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072) Discussion \u00b6 xrootd-hdfs and xrootd-lcmaps currently don't create versioned shared libs. Now that XRootD advertises its major version, it should be reflected in the plugin shared libs. AI (BrianL): create ticket for testing GFAL client for Edgar AI (BrianL): discuss Cybera CE management with Jeff and Igor AI (Diego): noticed that development label of the atlas-xcache container is old. This is expected so he should delete that label from Docker Hub and update the documentation to use fresh instead. EL8 Bosco tarballs fail to build with the new BLAHP source. We don't have a pressing need for this yet but would like this to be resolved in the HTCondor 9.0.0 release Support Update \u00b6 Bellarmine (Mat): CE wasn't accepting pilots, turned out to be an old osg-ca-certs version GLOW (Mat): GLOW cache also experienced problems due to the out-of-date osg-ca-certs. Mat will follow-up with Operations to see why check_mk tests didn't catch this JLab (Edgar): working on security questionnaires so that he can continue setting up services (also has to fill out questionnaires for BNL and FNAL) OSG Release Team \u00b6 3.4.52 \u0394 Both \u0394 3.5.18 \u0394 Total \u0394 Status 0 -1 1 +1 5 +0 6 +0 Open 0 +0 0 +0 8 -2 8 -2 In Progress 0 +0 2 +1 8 +2 10 +3 Ready for Testing 0 +0 0 -3 0 -7 0 -10 Ready for Release 0 -1 3 -1 21 -7 24 -9 Total Software Ready for Testing 3.5.18 VOMS 2.0.14-1.6 Frontier Squid 4.11-3.1 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 XCache 1.4.0 stashcache-client 5.6.1 Upcoming: XRootD 5.0.0 EL8 wn client Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): assign Frontier Squid, XCache, and xrootd-lcmaps tickets to Edgar so he can let us know if he's testing the latest versions in his container deployments HTCondor 8.9.7 will be re-released this week but we need to review Jason's update instructions to publish them ourselves and/or modify the packaging so that manual interventions aren't required Horst has tested and verified the VOMS update OSG Investigations Team \u00b6 Derek out today Want to do gracc 2 switchover soon; will wait until Derek's back and also need (another) reindex. Discussion \u00b6 None this week","title":"June 8, 2020"},{"location":"meetings/2020/TechArea20200608/#osg-technology-area-meeting-8-june-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Mat, Marian, TimT","title":"OSG Technology Area Meeting,  8 June 2020"},{"location":"meetings/2020/TechArea20200608/#announcements","text":"If you are taking Wednesday Jun 10 off for #ShutDownSTEM, please let me know and try to keep an eye on critical infrastructure or urgent items during the day","title":"Announcements"},{"location":"meetings/2020/TechArea20200608/#triage-duty","text":"This week: Carl Next week: Edgar 7 (-5) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200608/#jira","text":"# of tickets \u0394 State 148 +1 Open 43 -1 In Progress 14 +5 Ready for Testing 0 -11 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200608/#osg-software-team","text":"OSG 3.5.18 AI (BrianL): Automatically remove completed jobs after 30 days (SOFTWARE-4108) AI (Diego): Build XRootD 4.12.2 (SOFTWARE-4063) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) GSI/GridFTP migration AI (Edgar): test new GFAL client available in EPEL testing with XRootD 4 and 5 AI (Edgar): Update a VO frontend to GlideinWMS 3.7 AI (Carl): OASIS manager + COManage endpoint (SOFTWARE-3947) Enterprise Linux 8 AI (Edgar): Test built XRootD packages (lower prio) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200608/#discussion","text":"xrootd-hdfs and xrootd-lcmaps currently don't create versioned shared libs. Now that XRootD advertises its major version, it should be reflected in the plugin shared libs. AI (BrianL): create ticket for testing GFAL client for Edgar AI (BrianL): discuss Cybera CE management with Jeff and Igor AI (Diego): noticed that development label of the atlas-xcache container is old. This is expected so he should delete that label from Docker Hub and update the documentation to use fresh instead. EL8 Bosco tarballs fail to build with the new BLAHP source. We don't have a pressing need for this yet but would like this to be resolved in the HTCondor 9.0.0 release","title":"Discussion"},{"location":"meetings/2020/TechArea20200608/#support-update","text":"Bellarmine (Mat): CE wasn't accepting pilots, turned out to be an old osg-ca-certs version GLOW (Mat): GLOW cache also experienced problems due to the out-of-date osg-ca-certs. Mat will follow-up with Operations to see why check_mk tests didn't catch this JLab (Edgar): working on security questionnaires so that he can continue setting up services (also has to fill out questionnaires for BNL and FNAL)","title":"Support Update"},{"location":"meetings/2020/TechArea20200608/#osg-release-team","text":"3.4.52 \u0394 Both \u0394 3.5.18 \u0394 Total \u0394 Status 0 -1 1 +1 5 +0 6 +0 Open 0 +0 0 +0 8 -2 8 -2 In Progress 0 +0 2 +1 8 +2 10 +3 Ready for Testing 0 +0 0 -3 0 -7 0 -10 Ready for Release 0 -1 3 -1 21 -7 24 -9 Total Software Ready for Testing 3.5.18 VOMS 2.0.14-1.6 Frontier Squid 4.11-3.1 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 XCache 1.4.0 stashcache-client 5.6.1 Upcoming: XRootD 5.0.0 EL8 wn client Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200608/#discussion_1","text":"AI (TimT): assign Frontier Squid, XCache, and xrootd-lcmaps tickets to Edgar so he can let us know if he's testing the latest versions in his container deployments HTCondor 8.9.7 will be re-released this week but we need to review Jason's update instructions to publish them ourselves and/or modify the packaging so that manual interventions aren't required Horst has tested and verified the VOMS update","title":"Discussion"},{"location":"meetings/2020/TechArea20200608/#osg-investigations-team","text":"Derek out today Want to do gracc 2 switchover soon; will wait until Derek's back and also need (another) reindex.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200608/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200615/","text":"OSG Technology Area Meeting, 15 June 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Mat, BrianL, Diego, TimT, Carl, Edgar, Marian, Marco Mambelli Announcements \u00b6 Brian giving HTCondor-CE webinar at EGI; reached out to team members for help during Q&A. Doc focus this Thursday Triage Duty \u00b6 This week: Edgar Next week: Mat 9 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 150 +2 Open 42 -1 In Progress 10 -4 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.18 AI (BrianL): Release HTCondor-CE 4.3.0+ AI (Diego): Build XRootD 4.12.2 (SOFTWARE-4063) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) Waiting on review from Derek on HDFS plugin. GSI/GridFTP migration AI (Edgar): test new GFAL client available in EPEL testing with XRootD 4 and 5 There does not seem to be a new GFAL client in EPEL testing for EL 7 AI (Edgar): Update a VO frontend to GlideinWMS 3.7 AI (Carl): OASIS manager + COManage endpoint (SOFTWARE-3947) Enterprise Linux 8 AI (Edgar): Test built XRootD packages for EL8 (lower prio) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072) Discussion \u00b6 CentOS repos were broken Friday/weekend, causing false errors in VMU tests. BrianL sent team members filtered spreadsheets for the SW WBS; please prioritize tasks marked OVERDUE. GlideinWMS Marco found problem that when a grid universe job lands against an invalid grid resource, it remains idle forever, instead of going on hold. Try reproducing on 8.8 and send email to condor-users. Denis still working on token auth between frontend and collector; might be a good idea to do some pair programming with an OSG developer so we can help with HTCondor config etc. Support Update \u00b6 BrianL: helped AGLT2 with problem where home dir was on a shared file system and condor was incorrectly assuming the shared file system was mounted on the execute host as well as the submit host, and not doing file transfer. Edgar: helped LIGO with interpreting graphs. We have some bad names in there like how \"batch records\" are actually \"pilot records\". Also the meaning of \"dedicated\" vs \"opportunistic\" isn't obvious. Also Syracuse is listed as owned by LIGO which is wrong. Edgar should talk to Derek about making some of these easier to understand. Marco: GlideinWMS 3.7: using TOKEN auth results in tarballs that have some libraries from the OS. This should be fixed in 3.7.1. OSG Release Team \u00b6 3.4.53 \u0394 Both \u0394 3.5.19 \u0394 Total \u0394 Status 0 +0 0 -1 5 +0 5 -1 Open 0 +0 0 +0 10 +2 10 +2 In Progress 0 +0 0 -2 4 -4 4 -6 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 -3 19 -2 19 -5 Total Software Ready for Testing 3.5.19 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 HTCondor 8.9.7 will be re-released this week but we need to review Jason's update instructions to publish them ourselves and/or modify the packaging so that manual interventions aren't required OSG Investigations Team \u00b6 Derek was on slate training. GRACC 2 switch was performed today. Lots of investigation effort to figure out bottlenecks. Lots of communication with XRootD team on TLS + Tokens support. Discussion \u00b6 Edgar's student starts in July to do scale testing for HTTP third party copy. Considering testing authenticated CVMFS but might not be worth doing it until the SciTokens switch (since we'd just have to do it again).","title":"June 15, 2020"},{"location":"meetings/2020/TechArea20200615/#osg-technology-area-meeting-15-june-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Mat, BrianL, Diego, TimT, Carl, Edgar, Marian, Marco Mambelli","title":"OSG Technology Area Meeting, 15 June 2020"},{"location":"meetings/2020/TechArea20200615/#announcements","text":"Brian giving HTCondor-CE webinar at EGI; reached out to team members for help during Q&A. Doc focus this Thursday","title":"Announcements"},{"location":"meetings/2020/TechArea20200615/#triage-duty","text":"This week: Edgar Next week: Mat 9 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200615/#jira","text":"# of tickets \u0394 State 150 +2 Open 42 -1 In Progress 10 -4 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200615/#osg-software-team","text":"OSG 3.5.18 AI (BrianL): Release HTCondor-CE 4.3.0+ AI (Diego): Build XRootD 4.12.2 (SOFTWARE-4063) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) Waiting on review from Derek on HDFS plugin. GSI/GridFTP migration AI (Edgar): test new GFAL client available in EPEL testing with XRootD 4 and 5 There does not seem to be a new GFAL client in EPEL testing for EL 7 AI (Edgar): Update a VO frontend to GlideinWMS 3.7 AI (Carl): OASIS manager + COManage endpoint (SOFTWARE-3947) Enterprise Linux 8 AI (Edgar): Test built XRootD packages for EL8 (lower prio) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200615/#discussion","text":"CentOS repos were broken Friday/weekend, causing false errors in VMU tests. BrianL sent team members filtered spreadsheets for the SW WBS; please prioritize tasks marked OVERDUE. GlideinWMS Marco found problem that when a grid universe job lands against an invalid grid resource, it remains idle forever, instead of going on hold. Try reproducing on 8.8 and send email to condor-users. Denis still working on token auth between frontend and collector; might be a good idea to do some pair programming with an OSG developer so we can help with HTCondor config etc.","title":"Discussion"},{"location":"meetings/2020/TechArea20200615/#support-update","text":"BrianL: helped AGLT2 with problem where home dir was on a shared file system and condor was incorrectly assuming the shared file system was mounted on the execute host as well as the submit host, and not doing file transfer. Edgar: helped LIGO with interpreting graphs. We have some bad names in there like how \"batch records\" are actually \"pilot records\". Also the meaning of \"dedicated\" vs \"opportunistic\" isn't obvious. Also Syracuse is listed as owned by LIGO which is wrong. Edgar should talk to Derek about making some of these easier to understand. Marco: GlideinWMS 3.7: using TOKEN auth results in tarballs that have some libraries from the OS. This should be fixed in 3.7.1.","title":"Support Update"},{"location":"meetings/2020/TechArea20200615/#osg-release-team","text":"3.4.53 \u0394 Both \u0394 3.5.19 \u0394 Total \u0394 Status 0 +0 0 -1 5 +0 5 -1 Open 0 +0 0 +0 10 +2 10 +2 In Progress 0 +0 0 -2 4 -4 4 -6 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 -3 19 -2 19 -5 Total Software Ready for Testing 3.5.19 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200615/#discussion_1","text":"HTCondor 8.9.7 will be re-released this week but we need to review Jason's update instructions to publish them ourselves and/or modify the packaging so that manual interventions aren't required","title":"Discussion"},{"location":"meetings/2020/TechArea20200615/#osg-investigations-team","text":"Derek was on slate training. GRACC 2 switch was performed today. Lots of investigation effort to figure out bottlenecks. Lots of communication with XRootD team on TLS + Tokens support.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200615/#discussion_2","text":"Edgar's student starts in July to do scale testing for HTTP third party copy. Considering testing authenticated CVMFS but might not be worth doing it until the SciTokens switch (since we'd just have to do it again).","title":"Discussion"},{"location":"meetings/2020/TechArea20200622/","text":"OSG Technology Area Meeting, 22 June 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Mat Next week: TimT 7 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 151 +1 Open 36 -6 In Progress 18 +8 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.20 AI (Carl): Broken links on cadist web page (SOFTWARE-3874) AI (Carl): Release CCTools 7.1.6+ (SOFTWARE-4132) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) Also remove the XRootD version requirement that was causing upgrade issues. The changes can be tested together. GSI/GridFTP migration AI (Edgar): test new GFAL client available in EPEL testing with XRootD 4 and 5 The new client works with XRootD 4; still cannot test on XRootD 5rc4. Edgar is in communication with Andy to debug and fix. Two problems with XRootD: HTTPS is not recognized as a plugin and the proxy is being rejected. AI (Edgar): Update a VO frontend to GlideinWMS 3.7 Edgar updated the JLab frontend to GlideinWMS 3.7-1. Seems stable but there are other, unrelated issues at JLab. AI (Carl): OASIS manager + COManage endpoint (SOFTWARE-3947) Some back and forth with Dave Dykstra, who is experiencing authorization issues. Since the data is public, it's possible that the authorization check can be dropped. Should check that it causes no privacy issues (for example). AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Enterprise Linux 8 AI (Edgar): Test built XRootD packages AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072) AI (Carl): Add ability to tag CC* resources in Topology (SOFTWARE-4000) The tagging will be done on the Resource level, not Resource Group; Derek will have to adjust GRACC import script appropriately, though it's low priority. Discussion \u00b6 None this week. Support Update \u00b6 None this week. OSG Release Team \u00b6 3.4.53 \u0394 Both \u0394 3.5.19 \u0394 Total \u0394 Status 0 +0 0 +0 0 -5 0 -5 Open 0 +0 0 +0 0 -10 0 -10 In Progress 0 +0 1 +1 11 +7 12 +8 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 1 +1 11 -8 12 -7 Total Software Ready for Testing 3.5.19 HTCondor-CE 4.4.0 XRootD 4.12.3 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 GRACC2 transition tasks are still ongoing. XRootD Monitoring Validation is ongoing, and take significant amount of time (and development / bugfixes) CVMFS Singularity Sync is going to start using singularity to create the containers. Working with interested properties on testing. https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 Lots of communication with XRootD team on TLS + Tokens support. Discussion \u00b6 None this week","title":"June 22, 2020"},{"location":"meetings/2020/TechArea20200622/#osg-technology-area-meeting-22-june-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 22 June 2020"},{"location":"meetings/2020/TechArea20200622/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20200622/#triage-duty","text":"This week: Mat Next week: TimT 7 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200622/#jira","text":"# of tickets \u0394 State 151 +1 Open 36 -6 In Progress 18 +8 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200622/#osg-software-team","text":"OSG 3.5.20 AI (Carl): Broken links on cadist web page (SOFTWARE-3874) AI (Carl): Release CCTools 7.1.6+ (SOFTWARE-4132) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) Also remove the XRootD version requirement that was causing upgrade issues. The changes can be tested together. GSI/GridFTP migration AI (Edgar): test new GFAL client available in EPEL testing with XRootD 4 and 5 The new client works with XRootD 4; still cannot test on XRootD 5rc4. Edgar is in communication with Andy to debug and fix. Two problems with XRootD: HTTPS is not recognized as a plugin and the proxy is being rejected. AI (Edgar): Update a VO frontend to GlideinWMS 3.7 Edgar updated the JLab frontend to GlideinWMS 3.7-1. Seems stable but there are other, unrelated issues at JLab. AI (Carl): OASIS manager + COManage endpoint (SOFTWARE-3947) Some back and forth with Dave Dykstra, who is experiencing authorization issues. Since the data is public, it's possible that the authorization check can be dropped. Should check that it causes no privacy issues (for example). AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Enterprise Linux 8 AI (Edgar): Test built XRootD packages AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Mat): Get CentOS 8 images ready for VMU tests (SOFTWARE-4072) AI (Carl): Add ability to tag CC* resources in Topology (SOFTWARE-4000) The tagging will be done on the Resource level, not Resource Group; Derek will have to adjust GRACC import script appropriately, though it's low priority.","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200622/#discussion","text":"None this week.","title":"Discussion"},{"location":"meetings/2020/TechArea20200622/#support-update","text":"None this week.","title":"Support Update"},{"location":"meetings/2020/TechArea20200622/#osg-release-team","text":"3.4.53 \u0394 Both \u0394 3.5.19 \u0394 Total \u0394 Status 0 +0 0 +0 0 -5 0 -5 Open 0 +0 0 +0 0 -10 0 -10 In Progress 0 +0 1 +1 11 +7 12 +8 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 1 +1 11 -8 12 -7 Total Software Ready for Testing 3.5.19 HTCondor-CE 4.4.0 XRootD 4.12.3 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200622/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200622/#osg-investigations-team","text":"GRACC2 transition tasks are still ongoing. XRootD Monitoring Validation is ongoing, and take significant amount of time (and development / bugfixes) CVMFS Singularity Sync is going to start using singularity to create the containers. Working with interested properties on testing. https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 Lots of communication with XRootD team on TLS + Tokens support.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200622/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200629/","text":"OSG Technology Area Meeting, 29 June 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Brian, Derek, Diego, Marian, Mat, Edgar, TimT, Marco Mambelli Announcements \u00b6 Carl OOO today Edgar OOO Tue + Wed afternoons; Thu UCSD, UNL out Friday Mat out Friday Brian out next Mon and Tue Tim out for two weeks starting next Mon Triage Duty \u00b6 This week: TimT Next week: Diego 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 152 +1 Open 40 +4 In Progress 20 +2 Ready for Testing 1 +1 Ready for Release OSG Software Team \u00b6 OSG 3.5.20 AI (Carl): Broken links on cadist web page (SOFTWARE-3874) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) GSI/GridFTP migration AI (Edgar): verify the version of GFAL client you tested so we can give it karma (SOFTWARE-4120) Edgar will also test GFAL client + xrootd 5 on the same machine AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) Edgar to update ticket with areas of code that need to be updated AI (Mat): Finish doc for VM base images, separating out the effort required to building EL8 vs the rest (SOFTWARE-4072) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Carl): Add ability to tag CC* resources in Topology (SOFTWARE-4000) Discussion \u00b6 Support Update \u00b6 Edgar: - Georgia Tech StashCache using very old version of the packages; the error is about not being able to get an Authfile from topology. - Clas12 is registered as a project but not a VO, which was causing issues because they are sending batch records tagged with a \"Clas12\" VO. Since they are part of JLab, they should be under the JLab umbrella but they are using their own top-level VOMS attribute. Clas12 will be registered as a VO under the JLab VO in topology (similar to how DUNE is registered). Diego: - Helped Riccardo di Maria set up an XRootD dev environment. Riccardo was compiling XRootD himself, which resulted in a different version number for XRootD and this led to dependency resolution issues when installing the plugins. - Worked with JINR sysadmin to test HTTP transfers between UCSD and JINR. OSG Release Team \u00b6 3.4.53 \u0394 Both \u0394 3.5.19 \u0394 Total \u0394 Status 0 +0 0 +0 0 +0 0 +0 Open 0 +0 0 +0 1 +1 1 +1 In Progress 0 +0 1 +0 11 +0 12 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 1 +0 12 +1 13 +1 Total Software Ready for Testing 3.5.19 HTCondor-CE 4.4.0 XRootD 4.12.3 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 OSG Investigations Team \u00b6 GRACC2 Transitioned! Still some services have not completely transitioned. XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) Report writing is this week. CVMFS Singularity Sync is going to start using singularity to create the containers. Working with interested parties on testing. https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 Found some testing issues. Wroking with interested parties. No XRootD 5 RC5 yet for TLS testing Discussion \u00b6 None this week","title":"June 29, 2020"},{"location":"meetings/2020/TechArea20200629/#osg-technology-area-meeting-29-june-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Brian, Derek, Diego, Marian, Mat, Edgar, TimT, Marco Mambelli","title":"OSG Technology Area Meeting, 29 June 2020"},{"location":"meetings/2020/TechArea20200629/#announcements","text":"Carl OOO today Edgar OOO Tue + Wed afternoons; Thu UCSD, UNL out Friday Mat out Friday Brian out next Mon and Tue Tim out for two weeks starting next Mon","title":"Announcements"},{"location":"meetings/2020/TechArea20200629/#triage-duty","text":"This week: TimT Next week: Diego 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200629/#jira","text":"# of tickets \u0394 State 152 +1 Open 40 +4 In Progress 20 +2 Ready for Testing 1 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200629/#osg-software-team","text":"OSG 3.5.20 AI (Carl): Broken links on cadist web page (SOFTWARE-3874) AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) GSI/GridFTP migration AI (Edgar): verify the version of GFAL client you tested so we can give it karma (SOFTWARE-4120) Edgar will also test GFAL client + xrootd 5 on the same machine AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) Edgar to update ticket with areas of code that need to be updated AI (Mat): Finish doc for VM base images, separating out the effort required to building EL8 vs the rest (SOFTWARE-4072) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Carl): Add ability to tag CC* resources in Topology (SOFTWARE-4000)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200629/#discussion","text":"","title":"Discussion"},{"location":"meetings/2020/TechArea20200629/#support-update","text":"Edgar: - Georgia Tech StashCache using very old version of the packages; the error is about not being able to get an Authfile from topology. - Clas12 is registered as a project but not a VO, which was causing issues because they are sending batch records tagged with a \"Clas12\" VO. Since they are part of JLab, they should be under the JLab umbrella but they are using their own top-level VOMS attribute. Clas12 will be registered as a VO under the JLab VO in topology (similar to how DUNE is registered). Diego: - Helped Riccardo di Maria set up an XRootD dev environment. Riccardo was compiling XRootD himself, which resulted in a different version number for XRootD and this led to dependency resolution issues when installing the plugins. - Worked with JINR sysadmin to test HTTP transfers between UCSD and JINR.","title":"Support Update"},{"location":"meetings/2020/TechArea20200629/#osg-release-team","text":"3.4.53 \u0394 Both \u0394 3.5.19 \u0394 Total \u0394 Status 0 +0 0 +0 0 +0 0 +0 Open 0 +0 0 +0 1 +1 1 +1 In Progress 0 +0 1 +0 11 +0 12 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 1 +0 12 +1 13 +1 Total Software Ready for Testing 3.5.19 HTCondor-CE 4.4.0 XRootD 4.12.3 scitokens 0.7 Upcoming: HTCondor 8.9.7 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200629/#discussion_1","text":"","title":"Discussion"},{"location":"meetings/2020/TechArea20200629/#osg-investigations-team","text":"GRACC2 Transitioned! Still some services have not completely transitioned. XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) Report writing is this week. CVMFS Singularity Sync is going to start using singularity to create the containers. Working with interested parties on testing. https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 Found some testing issues. Wroking with interested parties. No XRootD 5 RC5 yet for TLS testing","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200629/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200706/","text":"OSG Technology Area Meeting, 6 July 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Carl, Derek, Diego, Marco Mambelli, Marian, Mat Announcements \u00b6 Tim out for two weeks starting today Brian out today and tomorrow Triage Duty \u00b6 This week: Diego Next week: Brian 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 155 +3 Open 45 +5 In Progress 17 -3 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.20 AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) GSI/GridFTP migration AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) Edgar to update ticket with areas of code that need to be updated AI (Mat): Create VMU test images EL8 (SOFTWARE-4072) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Carl): Add ability to tag CC* resources in Topology (SOFTWARE-4000) AI (Diego): Build gfal2-plugin-xrootd for upcoming (SOFTWARE-4160) Discussion \u00b6 None. Support Update \u00b6 None. OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.20 \u0394 Total \u0394 Status 0 +0 0 +0 5 +5 5 +0 Open 0 +0 0 +0 6 +5 6 +5 In Progress 0 +0 0 -1 11 +0 11 -1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 -1 22 +11 22 +9 Total Software Ready for Testing 3.5.20 HTCondor-CE 4.4.0 XRootD 4.12.3 scitokens-cpp 0.5.1 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Frontier-Squid 4.12-2 CVMFS 2.7.3 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 OSG Investigations Team \u00b6 GRACC2 Transition is complete. Two students are working with Derek: IRIS-HEP fellowship for \"Proactive site monitoring\": Using outlier analysis and ML to find problem sites from accounting data Other student is attempting to re-write stashcp in Go: statically compiled and allow for inclusion of libraries. With XRootD 5 rc5 candidate, update testbed with TLS support and upstream changes. XRootD validation: Beginning report writing. Discussion \u00b6 None this week","title":"July 6, 2020"},{"location":"meetings/2020/TechArea20200706/#osg-technology-area-meeting-6-july-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Carl, Derek, Diego, Marco Mambelli, Marian, Mat","title":"OSG Technology Area Meeting, 6 July 2020"},{"location":"meetings/2020/TechArea20200706/#announcements","text":"Tim out for two weeks starting today Brian out today and tomorrow","title":"Announcements"},{"location":"meetings/2020/TechArea20200706/#triage-duty","text":"This week: Diego Next week: Brian 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200706/#jira","text":"# of tickets \u0394 State 155 +3 Open 45 +5 In Progress 17 -3 Ready for Testing 1 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200706/#osg-software-team","text":"OSG 3.5.20 AI (Diego): Build XRootD plugin .so's based on XRootD version (SOFTWARE-4093) GSI/GridFTP migration AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) Edgar to update ticket with areas of code that need to be updated AI (Mat): Create VMU test images EL8 (SOFTWARE-4072) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (Carl): Add ability to tag CC* resources in Topology (SOFTWARE-4000) AI (Diego): Build gfal2-plugin-xrootd for upcoming (SOFTWARE-4160)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200706/#discussion","text":"None.","title":"Discussion"},{"location":"meetings/2020/TechArea20200706/#support-update","text":"None.","title":"Support Update"},{"location":"meetings/2020/TechArea20200706/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.20 \u0394 Total \u0394 Status 0 +0 0 +0 5 +5 5 +0 Open 0 +0 0 +0 6 +5 6 +5 In Progress 0 +0 0 -1 11 +0 11 -1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 -1 22 +11 22 +9 Total Software Ready for Testing 3.5.20 HTCondor-CE 4.4.0 XRootD 4.12.3 scitokens-cpp 0.5.1 xrootd-lcmaps 1.7.7 Upcoming: XRootD 5.0.0 Frontier-Squid 4.12-2 CVMFS 2.7.3 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200706/#discussion_1","text":"","title":"Discussion"},{"location":"meetings/2020/TechArea20200706/#osg-investigations-team","text":"GRACC2 Transition is complete. Two students are working with Derek: IRIS-HEP fellowship for \"Proactive site monitoring\": Using outlier analysis and ML to find problem sites from accounting data Other student is attempting to re-write stashcp in Go: statically compiled and allow for inclusion of libraries. With XRootD 5 rc5 candidate, update testbed with TLS support and upstream changes. XRootD validation: Beginning report writing.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200706/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200713/","text":"OSG Technology Area Meeting, 13 July 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Marian, Marco Mambelli, Mat Announcements \u00b6 Mat OOO tomorrow TimT OOO until next Monday Derek OOO next week OSG User School this week and next week Triage Duty \u00b6 This week: Edgar Next week: Carl 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 164 +9 Open 45 +5 In Progress 11 -6 Ready for Testing 10 +9 Ready for Release OSG Software Team \u00b6 OSG 3.5.20 AI (Diego): Investigate XRootD 5 VMU failures (SOFTWARE-3923) AI (Edgar): Work with XRootD developers to obtain a patch for XRootD 5 and build it in OSG Containers AI (Edgar): Review XCache default directories PR (SOFTWARE-4159) AI (Edgar): Add tcmalloc to XCache containers (SOFTWARE-4166) AI (Edgar): Promote frontier-squid container to stable (SOFTWARE-4156) AI (Carl): Transition software base and Frontier Squid to GitHub Actions (SOFTWARE-4171, SOFTWARE-4172) Enterprise Linux 8 AI (Edgar): Test OpenSSL 1.1.1 support for xrootd-lcmaps (SOFTWARE-4150) Testing via XCache not possible because Python bindings for HTCondor (for OSG) are not available yet. Edgar will test using xrootd-standalone AI (Mat): Add functioning VMU tests for EL8 (SOFTWARE-4072) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (BrianL): Design a plan with Derek/BrianB to generate pilot records in the OSG pilot container (SOFTWARE-4169) Discussion \u00b6 The task of tagging CC resources will be performed by Hosted CE operators (for Hosted CEs) or by BrianL or delegate for other resources. Actual tagging will wait until the site's CC status is public. GlideinWMS \u00b6 Developers continuing to work on Python 3 migration Marco will build test versions of GlideinWMS into the osg-contrib repos Support Update \u00b6 Edgar working with Georgia Tech for fixing their cache; will set up a screen sharing session in order to speed up communication with admins. OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.20 \u0394 Total \u0394 Status 0 +0 0 +0 6 +1 6 +1 Open 0 +0 0 +0 8 +2 8 +2 In Progress 0 +0 0 +0 4 -7 4 -7 Ready for Testing 0 +0 0 +0 9 +9 9 +9 Ready for Release 0 +0 0 +0 27 +5 27 +5 Total Software Ready for Testing 3.5.20 osg-xrootd 3.5-13 scitokens-cpp 0.5.1 Upcoming: XRootD 5.0.0 Ready for Release HTCondor-CE 4.4.0 Frontier-Squid 4.12-2 CVMFS 2.7.3 / cvmfs-config-2.7.3 / osg-oasis 16-5 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 Edgar will check if the logging changes in osg-xrootd 3.5-13 are included in his current containers. No release this week. OSG Investigations Team \u00b6 OSG Summer School is this week, Derek is participating. XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) Report writing is continuing. Several patches accepted upstream. CVMFS Singularity Sync is going to start using singularity to create the containers. Working with interested parties on testing. https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 Found some testing issues. Working with interested parties, some are slow to respond. But, Mats is happy. XRootD 5 release and built in OSG. Preparing TLS configurations for upstreaming, though bugs in xrootd5 are the current issue (watching xcache mailing list). Discussion \u00b6 None this week","title":"July 13, 2020"},{"location":"meetings/2020/TechArea20200713/#osg-technology-area-meeting-13-july-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Marian, Marco Mambelli, Mat","title":"OSG Technology Area Meeting, 13 July 2020"},{"location":"meetings/2020/TechArea20200713/#announcements","text":"Mat OOO tomorrow TimT OOO until next Monday Derek OOO next week OSG User School this week and next week","title":"Announcements"},{"location":"meetings/2020/TechArea20200713/#triage-duty","text":"This week: Edgar Next week: Carl 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200713/#jira","text":"# of tickets \u0394 State 164 +9 Open 45 +5 In Progress 11 -6 Ready for Testing 10 +9 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200713/#osg-software-team","text":"OSG 3.5.20 AI (Diego): Investigate XRootD 5 VMU failures (SOFTWARE-3923) AI (Edgar): Work with XRootD developers to obtain a patch for XRootD 5 and build it in OSG Containers AI (Edgar): Review XCache default directories PR (SOFTWARE-4159) AI (Edgar): Add tcmalloc to XCache containers (SOFTWARE-4166) AI (Edgar): Promote frontier-squid container to stable (SOFTWARE-4156) AI (Carl): Transition software base and Frontier Squid to GitHub Actions (SOFTWARE-4171, SOFTWARE-4172) Enterprise Linux 8 AI (Edgar): Test OpenSSL 1.1.1 support for xrootd-lcmaps (SOFTWARE-4150) Testing via XCache not possible because Python bindings for HTCondor (for OSG) are not available yet. Edgar will test using xrootd-standalone AI (Mat): Add functioning VMU tests for EL8 (SOFTWARE-4072) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (BrianL): Design a plan with Derek/BrianB to generate pilot records in the OSG pilot container (SOFTWARE-4169)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200713/#discussion","text":"The task of tagging CC resources will be performed by Hosted CE operators (for Hosted CEs) or by BrianL or delegate for other resources. Actual tagging will wait until the site's CC status is public.","title":"Discussion"},{"location":"meetings/2020/TechArea20200713/#glideinwms","text":"Developers continuing to work on Python 3 migration Marco will build test versions of GlideinWMS into the osg-contrib repos","title":"GlideinWMS"},{"location":"meetings/2020/TechArea20200713/#support-update","text":"Edgar working with Georgia Tech for fixing their cache; will set up a screen sharing session in order to speed up communication with admins.","title":"Support Update"},{"location":"meetings/2020/TechArea20200713/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.20 \u0394 Total \u0394 Status 0 +0 0 +0 6 +1 6 +1 Open 0 +0 0 +0 8 +2 8 +2 In Progress 0 +0 0 +0 4 -7 4 -7 Ready for Testing 0 +0 0 +0 9 +9 9 +9 Ready for Release 0 +0 0 +0 27 +5 27 +5 Total Software Ready for Testing 3.5.20 osg-xrootd 3.5-13 scitokens-cpp 0.5.1 Upcoming: XRootD 5.0.0 Ready for Release HTCondor-CE 4.4.0 Frontier-Squid 4.12-2 CVMFS 2.7.3 / cvmfs-config-2.7.3 / osg-oasis 16-5 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200713/#discussion_1","text":"Edgar will check if the logging changes in osg-xrootd 3.5-13 are included in his current containers. No release this week.","title":"Discussion"},{"location":"meetings/2020/TechArea20200713/#osg-investigations-team","text":"OSG Summer School is this week, Derek is participating. XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) Report writing is continuing. Several patches accepted upstream. CVMFS Singularity Sync is going to start using singularity to create the containers. Working with interested parties on testing. https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 Found some testing issues. Working with interested parties, some are slow to respond. But, Mats is happy. XRootD 5 release and built in OSG. Preparing TLS configurations for upstreaming, though bugs in xrootd5 are the current issue (watching xcache mailing list).","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200713/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200720/","text":"OSG Technology Area Meeting, 20 July 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Marian, Mat, TimT Announcements \u00b6 Derek OOO this week OSG User School ongoing this week Triage Duty \u00b6 This week: Carl Next week: BrianL 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 166 +2 Open 44 -1 In Progress 15 +4 Ready for Testing 11 +1 Ready for Release OSG Software Team \u00b6 OSG 3.5.21 AI (Diego): Add package NVR table to XRootD plugin tickets and mark RFT (SOFTWARE-4093, SOFTWARE-4137) Diego is ready to promote plugins but is waiting on a PR review for xrootd-cmstfc. AI (Carl): Fix broken cadist links in the initial HTML generation (SOFTWARE-3874) Containers AI (Diego): Add tcmalloc to XCache containers (SOFTWARE-4166) AI (BrianL): Add XRootD 5 based XCache image builds (SOFTWARE-4181) AI (BrianL): Add the ability to build XCache images based on XRootD hotfixes (SOFTWARE-4151) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) Testing via XCache not possible because Python bindings for HTCondor (for OSG) are not available yet. Edgar will test using xrootd-standalone AI (Mat): Add functioning VMU tests for EL8 (SOFTWARE-4072) Close to working; needs cleanup and PR review. AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (TimT): Release condor for el8 (SOFTWARE-4157) AI (BrianL, Carl): Write design doc for generating pilot records for OSG pilot containers (SOFTWARE-4169) Discussion \u00b6 Ongoing storage ticket with Brown; currently it's not OSG-related troubleshooting, so it would be better served if it's tracked by CMS coordinators. Carl working on moving building container to GitHub actions; this enables us to make updates to the software-base image and have them trigger builds for all descendent images. Edgar will be working on DOMA tasks so will not have time for software work. BrianL and Marian are interested in seeing XCache-related documentation that Edgar writes. Edgar has been running an XRootD 5 cache in Sunnyvale. No problems so far but there have been auth issues reported against XRootD 5; BrianL will find the GitHub issue so Edgar can test. Support Update \u00b6 Edgar: - #65322 -- CMU is having difficulties with GridFTP and XRootD. - Multi-core pilots at Syracuse not matching; Edgar requests help from HTCondor developers, who request additional logs from Syracuse. OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.20 \u0394 Total \u0394 Status 0 +0 0 +0 1 -5 1 -5 Open 0 +0 0 +0 5 -3 5 -3 In Progress 0 +0 0 +0 4 +0 4 +0 Ready for Testing 0 +0 0 +0 10 +1 10 +1 Ready for Release 0 +0 0 +0 20 -7 20 -7 Total Software Ready for Testing 3.5.20 ATLAS and CMS XCache containers osg-xrootd 3.5-13 Upcoming: XRootD 5.0.0 Ready for Release scitokens-cpp 0.5.1 HTCondor-CE 4.4.0 Frontier-Squid 4.12-2 CVMFS 2.7.3 / cvmfs-config-2.7.3 / osg-oasis 16-5 Data Nothing Operations osg-build 1.16.2 Frontier-Squid 4.12-2 Contrib Nothing Discussion \u00b6 Release this week. OSG Investigations Team \u00b6 Outage of personel last week, Marian was available only on Monday last week OSG Summer School is ongoing this week. XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. XRootD 5 release and built in OSG. Preparing TLS configurations for upstreaming, though bugs in xrootd5 are the current issue (watching xcache mailing list). organizing presentation on http://gitbhub.com/xrootd/xrootd-k8s-operator on next xcache meeting, IN2P3 folks involved GRACC tape backup broke last week, investigated root cause, turned out to be FNAL issue and fixed by the end of business day on last Friday (operations effort) Discussion \u00b6 None this week","title":"July 20, 2020"},{"location":"meetings/2020/TechArea20200720/#osg-technology-area-meeting-20-july-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Diego, Edgar, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 20 July 2020"},{"location":"meetings/2020/TechArea20200720/#announcements","text":"Derek OOO this week OSG User School ongoing this week","title":"Announcements"},{"location":"meetings/2020/TechArea20200720/#triage-duty","text":"This week: Carl Next week: BrianL 7 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200720/#jira","text":"# of tickets \u0394 State 166 +2 Open 44 -1 In Progress 15 +4 Ready for Testing 11 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200720/#osg-software-team","text":"OSG 3.5.21 AI (Diego): Add package NVR table to XRootD plugin tickets and mark RFT (SOFTWARE-4093, SOFTWARE-4137) Diego is ready to promote plugins but is waiting on a PR review for xrootd-cmstfc. AI (Carl): Fix broken cadist links in the initial HTML generation (SOFTWARE-3874) Containers AI (Diego): Add tcmalloc to XCache containers (SOFTWARE-4166) AI (BrianL): Add XRootD 5 based XCache image builds (SOFTWARE-4181) AI (BrianL): Add the ability to build XCache images based on XRootD hotfixes (SOFTWARE-4151) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) Testing via XCache not possible because Python bindings for HTCondor (for OSG) are not available yet. Edgar will test using xrootd-standalone AI (Mat): Add functioning VMU tests for EL8 (SOFTWARE-4072) Close to working; needs cleanup and PR review. AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (TimT): Release condor for el8 (SOFTWARE-4157) AI (BrianL, Carl): Write design doc for generating pilot records for OSG pilot containers (SOFTWARE-4169)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200720/#discussion","text":"Ongoing storage ticket with Brown; currently it's not OSG-related troubleshooting, so it would be better served if it's tracked by CMS coordinators. Carl working on moving building container to GitHub actions; this enables us to make updates to the software-base image and have them trigger builds for all descendent images. Edgar will be working on DOMA tasks so will not have time for software work. BrianL and Marian are interested in seeing XCache-related documentation that Edgar writes. Edgar has been running an XRootD 5 cache in Sunnyvale. No problems so far but there have been auth issues reported against XRootD 5; BrianL will find the GitHub issue so Edgar can test.","title":"Discussion"},{"location":"meetings/2020/TechArea20200720/#support-update","text":"Edgar: - #65322 -- CMU is having difficulties with GridFTP and XRootD. - Multi-core pilots at Syracuse not matching; Edgar requests help from HTCondor developers, who request additional logs from Syracuse.","title":"Support Update"},{"location":"meetings/2020/TechArea20200720/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.20 \u0394 Total \u0394 Status 0 +0 0 +0 1 -5 1 -5 Open 0 +0 0 +0 5 -3 5 -3 In Progress 0 +0 0 +0 4 +0 4 +0 Ready for Testing 0 +0 0 +0 10 +1 10 +1 Ready for Release 0 +0 0 +0 20 -7 20 -7 Total Software Ready for Testing 3.5.20 ATLAS and CMS XCache containers osg-xrootd 3.5-13 Upcoming: XRootD 5.0.0 Ready for Release scitokens-cpp 0.5.1 HTCondor-CE 4.4.0 Frontier-Squid 4.12-2 CVMFS 2.7.3 / cvmfs-config-2.7.3 / osg-oasis 16-5 Data Nothing Operations osg-build 1.16.2 Frontier-Squid 4.12-2 Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200720/#discussion_1","text":"Release this week.","title":"Discussion"},{"location":"meetings/2020/TechArea20200720/#osg-investigations-team","text":"Outage of personel last week, Marian was available only on Monday last week OSG Summer School is ongoing this week. XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. XRootD 5 release and built in OSG. Preparing TLS configurations for upstreaming, though bugs in xrootd5 are the current issue (watching xcache mailing list). organizing presentation on http://gitbhub.com/xrootd/xrootd-k8s-operator on next xcache meeting, IN2P3 folks involved GRACC tape backup broke last week, investigated root cause, turned out to be FNAL issue and fixed by the end of business day on last Friday (operations effort)","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200720/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200727/","text":"OSG Technology Area Meeting, 27 July 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, TimT Announcements \u00b6 BrianL OOO next week Mat OOO Monday and Friday Doc focus doodle poll sent Triage Duty \u00b6 This week: BrianL Next week: Mat 8 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 167 +1 Open 41 -3 In Progress 18 +3 Ready for Testing 4 -7 Ready for Release OSG Software Team \u00b6 OSG 3.5.21 AI (Carl): Release gratia-probe 1.20.14+, create ticket for 4af0a53 (SOFTWARE-4193) AI (Carl): Fix broken cadist links in the initial HTML generation (SOFTWARE-3874) Containers AI (BrianL): Add the ability to build XCache images based on XRootD hotfixes (SOFTWARE-4151) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) HTCondor in osg-development for EL8; Edgar can now build the XRootD metapackages and use them for testing AI (Diego): Release scitokens for EL8 (SOFTWARE-4126) AI (Diego): Kick off Frontier Squid EL8 VMU (SOFTWARE-4105) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (TimT): Release condor for el8 (SOFTWARE-4157) AI (Mat, Edgar): Change osg-test tests that are marked \"el7 only\" to \"el7 and el8\" AI (Mat, TimT): Build condor 8.9 for el8 AI (BrianL, Carl): Write design doc for generating pilot records for OSG pilot containers (SOFTWARE-4169) Discussion \u00b6 Marco: No Fermicloud EL8 template available yet, nor is there an ETA; admins planning to upgrade OpenNebula before starting work GlideinWMS release coming soon Support Update \u00b6 None this week OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.21 \u0394 Total \u0394 Status 0 +0 0 +0 5 +4 5 +4 Open 0 +0 0 +0 3 -2 3 -2 In Progress 0 +0 0 +0 17 +13 17 +13 Ready for Testing 0 +0 0 +0 4 -6 4 -6 Ready for Release 0 +0 0 +0 29 +9 29 +9 Total Software Ready for Testing 3.5.21 osg-wn-client 3.5-4 on EL8 stashcache-client 6.0.0 (EL8) osg-flock 1.1 osg-update-vos 1.4.0 (EL8) oidc-agent 3.3.3 xrootd-lcmaps (EL8) XRootD plugins - version matching VOMS 2.1.0 (EL8) osg-xrootd 3.5-13 - reduce logging CVMFS 2.7.3 / cvmfs-config-2.4-4 / osg-oasis 16-5 (EL8) Upcoming XRootD 5.0.0 Ready for Release scitokens-cpp 0.5.1 HTCondor-CE 4.4.1 osg-pki-tools 3.4.0 osg-system-profiler 1.6.0 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 Release this week. OSG Investigations Team \u00b6 Outage of personel last week, Marian was available only on Monday last week Top priority for Deigo and Derek: XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. XRootD 5 release and built in OSG. Preparing TLS configurations for upstreaming. Discussion \u00b6 None this week","title":"July 27, 2020"},{"location":"meetings/2020/TechArea20200727/#osg-technology-area-meeting-27-july-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 27 July 2020"},{"location":"meetings/2020/TechArea20200727/#announcements","text":"BrianL OOO next week Mat OOO Monday and Friday Doc focus doodle poll sent","title":"Announcements"},{"location":"meetings/2020/TechArea20200727/#triage-duty","text":"This week: BrianL Next week: Mat 8 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200727/#jira","text":"# of tickets \u0394 State 167 +1 Open 41 -3 In Progress 18 +3 Ready for Testing 4 -7 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200727/#osg-software-team","text":"OSG 3.5.21 AI (Carl): Release gratia-probe 1.20.14+, create ticket for 4af0a53 (SOFTWARE-4193) AI (Carl): Fix broken cadist links in the initial HTML generation (SOFTWARE-3874) Containers AI (BrianL): Add the ability to build XCache images based on XRootD hotfixes (SOFTWARE-4151) Enterprise Linux 8 AI (Edgar): Add OpenSSL 1.1.1 support to xrootd-lcmaps (SOFTWARE-4150) HTCondor in osg-development for EL8; Edgar can now build the XRootD metapackages and use them for testing AI (Diego): Release scitokens for EL8 (SOFTWARE-4126) AI (Diego): Kick off Frontier Squid EL8 VMU (SOFTWARE-4105) AI (Mat): Build osg-wn-client tarball (SOFTWARE-4050) AI (TimT): Release condor for el8 (SOFTWARE-4157) AI (Mat, Edgar): Change osg-test tests that are marked \"el7 only\" to \"el7 and el8\" AI (Mat, TimT): Build condor 8.9 for el8 AI (BrianL, Carl): Write design doc for generating pilot records for OSG pilot containers (SOFTWARE-4169)","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200727/#discussion","text":"Marco: No Fermicloud EL8 template available yet, nor is there an ETA; admins planning to upgrade OpenNebula before starting work GlideinWMS release coming soon","title":"Discussion"},{"location":"meetings/2020/TechArea20200727/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2020/TechArea20200727/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.21 \u0394 Total \u0394 Status 0 +0 0 +0 5 +4 5 +4 Open 0 +0 0 +0 3 -2 3 -2 In Progress 0 +0 0 +0 17 +13 17 +13 Ready for Testing 0 +0 0 +0 4 -6 4 -6 Ready for Release 0 +0 0 +0 29 +9 29 +9 Total Software Ready for Testing 3.5.21 osg-wn-client 3.5-4 on EL8 stashcache-client 6.0.0 (EL8) osg-flock 1.1 osg-update-vos 1.4.0 (EL8) oidc-agent 3.3.3 xrootd-lcmaps (EL8) XRootD plugins - version matching VOMS 2.1.0 (EL8) osg-xrootd 3.5-13 - reduce logging CVMFS 2.7.3 / cvmfs-config-2.4-4 / osg-oasis 16-5 (EL8) Upcoming XRootD 5.0.0 Ready for Release scitokens-cpp 0.5.1 HTCondor-CE 4.4.1 osg-pki-tools 3.4.0 osg-system-profiler 1.6.0 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200727/#discussion_1","text":"Release this week.","title":"Discussion"},{"location":"meetings/2020/TechArea20200727/#osg-investigations-team","text":"Outage of personel last week, Marian was available only on Monday last week Top priority for Deigo and Derek: XRootD Monitoring Validation is ongoing, and taking significant amount of time (and development / bugfixes) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. XRootD 5 release and built in OSG. Preparing TLS configurations for upstreaming.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200727/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200803/","text":"OSG Technology Area Meeting, 3 August 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Carl, Derek, Diego, Edgar, Marian, Tim Announcements \u00b6 BrianL OOO this week Mat OOO Monday Carl OOO Thursday Triage Duty \u00b6 This week: Mat Next week: Tim 7 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 166 -1 Open 41 +0 In Progress 20 +2 Ready for Testing 0 -4 Ready for Release OSG Software Team \u00b6 AI (Derek): XCache 1.5.0 breaks osg-test tests and docker-xcache CI (preventing image tag updates!), probably due to hardcoded Authfiles in the tests of both: https://github.com/opensciencegrid/docker-xcache/blob/master/tests/test_stashcache_origin.sh#L10 https://github.com/opensciencegrid/docker-xcache/blob/master/tests/test_stashcache.sh#L9 https://github.com/opensciencegrid/osg-test/blob/master/osgtest/tests/test_155_stashcache.py#L81-L100 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 Doc Focus scheduled for August 13 1:30pm CDT Discussion \u00b6 Derek: scitokens-cpp is already in EPEL 7 and 8. Do we need it in OSG 3.5? Support Update \u00b6 Edgar: Helping SDSC with some CC* grant work OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 7 +2 7 +2 Open 0 +0 0 +0 6 +3 6 +3 In Progress 0 +0 0 +0 12 -5 12 -5 Ready for Testing 0 +0 0 +0 0 -4 0 -4 Ready for Release 0 +0 0 +0 25 -4 25 -4 Total Software Ready for Testing 3.5.21 oidc-agent 3.3.3 XRootD plugins - version matching Upcoming XRootD 5.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 XRootD 5.0.0 is ready for release OSG Investigations Team \u00b6 Validation document is in \"Draft\" CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. Derek needs help with XCache test failures. StashCP Go implementation, may want some help with \"evaluating\" it as a replacement for stashcp. Discussion \u00b6 None this week","title":"August 3, 2020"},{"location":"meetings/2020/TechArea20200803/#osg-technology-area-meeting-3-august-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Carl, Derek, Diego, Edgar, Marian, Tim","title":"OSG Technology Area Meeting, 3 August 2020"},{"location":"meetings/2020/TechArea20200803/#announcements","text":"BrianL OOO this week Mat OOO Monday Carl OOO Thursday","title":"Announcements"},{"location":"meetings/2020/TechArea20200803/#triage-duty","text":"This week: Mat Next week: Tim 7 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200803/#jira","text":"# of tickets \u0394 State 166 -1 Open 41 +0 In Progress 20 +2 Ready for Testing 0 -4 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200803/#osg-software-team","text":"AI (Derek): XCache 1.5.0 breaks osg-test tests and docker-xcache CI (preventing image tag updates!), probably due to hardcoded Authfiles in the tests of both: https://github.com/opensciencegrid/docker-xcache/blob/master/tests/test_stashcache_origin.sh#L10 https://github.com/opensciencegrid/docker-xcache/blob/master/tests/test_stashcache.sh#L9 https://github.com/opensciencegrid/osg-test/blob/master/osgtest/tests/test_155_stashcache.py#L81-L100 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 Doc Focus scheduled for August 13 1:30pm CDT","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200803/#discussion","text":"Derek: scitokens-cpp is already in EPEL 7 and 8. Do we need it in OSG 3.5?","title":"Discussion"},{"location":"meetings/2020/TechArea20200803/#support-update","text":"Edgar: Helping SDSC with some CC* grant work","title":"Support Update"},{"location":"meetings/2020/TechArea20200803/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 7 +2 7 +2 Open 0 +0 0 +0 6 +3 6 +3 In Progress 0 +0 0 +0 12 -5 12 -5 Ready for Testing 0 +0 0 +0 0 -4 0 -4 Ready for Release 0 +0 0 +0 25 -4 25 -4 Total Software Ready for Testing 3.5.21 oidc-agent 3.3.3 XRootD plugins - version matching Upcoming XRootD 5.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200803/#discussion_1","text":"XRootD 5.0.0 is ready for release","title":"Discussion"},{"location":"meetings/2020/TechArea20200803/#osg-investigations-team","text":"Validation document is in \"Draft\" CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. Derek needs help with XCache test failures. StashCP Go implementation, may want some help with \"evaluating\" it as a replacement for stashcp.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200803/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200810/","text":"OSG Technology Area Meeting, 10 August 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Doc focus this Thursday starting at 13:30 CDT OSG All Hands Aug 31 - Sep 3 Release of vo-client as soon as possible today because of SLAC VOMS server cert expiration Triage Duty \u00b6 This week: TimT Next week: Diego 8 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 165 -1 Open 41 +0 In Progress 19 -1 Ready for Testing 1 +1 Ready for Release OSG Software Team \u00b6 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 AI: Carl - Release IGTF certs today. This includes EL8 builds. AI: Carl - Tracking CC* GPU jobs (in progress). AI: Mat - Update osg-test to handle StashCache and SciTokens integration. AI: Diego - Build scitokens packages for EL8. This includes scitokens-credmon for EL8, which requires Python 3 support. AI: Diego - Run VMU tests for frontier squid. Edgar tested XCache for XRootD 4 in EL8; it needed condor and blahp built for EL8 but it is successfully running. AI: Edgar - Send BrianL an rpm -qa dump to help get a list of all the packages that were touched. Edgar tested XCache 1.5.0 but found some issues; will make a PR. TimT - built HTCondor 8.9 in upcoming for EL8; will make a patch to fix permission issues that cause RPM verification to fail. BLAHP needs to built for upcoming; BrianL will investigate if there are any related tickets. Discussion \u00b6 None this week Support Update \u00b6 TimT: Received a ticket for XRootD Ceph support; will route it to BrianL. Edgar: Wesley Smith at JLab is installing the origin and has some questions about the documentation, specifically about Topology registration. OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 8 +1 8 +1 Open 0 +0 0 +0 6 +0 6 +0 In Progress 0 +0 0 +0 11 -1 11 -1 Ready for Testing 0 +0 0 +0 1 +1 1 +1 Ready for Release 0 +0 0 +0 26 +1 26 +1 Total Software Ready for Testing 3.5.22 gratia-probe-1.20.14 tcmalloc in OSG XCaches xrootd-lcmaps 1.7.8: OpenSSL 1.1.1 support XRootD plugins - version matching Upcoming XRootD 5.0.0 Ready for Release oidc-agent 3.3.3 Data VO Package v107 IGTF 1.107 Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 XRootD Validation document is in \"Draft\" (Will go out this week) (No-progress) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. StashCP Go implementation, may want some help with \"evaluating\" it as a replacement for stashcp. We have a prototype, who would like to play with it? Proactive site monitoring is progressing nicely. May present at operations meeting this week. Discussion \u00b6 None this week","title":"August 10, 2020"},{"location":"meetings/2020/TechArea20200810/#osg-technology-area-meeting-10-august-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 10 August 2020"},{"location":"meetings/2020/TechArea20200810/#announcements","text":"Doc focus this Thursday starting at 13:30 CDT OSG All Hands Aug 31 - Sep 3 Release of vo-client as soon as possible today because of SLAC VOMS server cert expiration","title":"Announcements"},{"location":"meetings/2020/TechArea20200810/#triage-duty","text":"This week: TimT Next week: Diego 8 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200810/#jira","text":"# of tickets \u0394 State 165 -1 Open 41 +0 In Progress 19 -1 Ready for Testing 1 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200810/#osg-software-team","text":"Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 AI: Carl - Release IGTF certs today. This includes EL8 builds. AI: Carl - Tracking CC* GPU jobs (in progress). AI: Mat - Update osg-test to handle StashCache and SciTokens integration. AI: Diego - Build scitokens packages for EL8. This includes scitokens-credmon for EL8, which requires Python 3 support. AI: Diego - Run VMU tests for frontier squid. Edgar tested XCache for XRootD 4 in EL8; it needed condor and blahp built for EL8 but it is successfully running. AI: Edgar - Send BrianL an rpm -qa dump to help get a list of all the packages that were touched. Edgar tested XCache 1.5.0 but found some issues; will make a PR. TimT - built HTCondor 8.9 in upcoming for EL8; will make a patch to fix permission issues that cause RPM verification to fail. BLAHP needs to built for upcoming; BrianL will investigate if there are any related tickets.","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200810/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200810/#support-update","text":"TimT: Received a ticket for XRootD Ceph support; will route it to BrianL. Edgar: Wesley Smith at JLab is installing the origin and has some questions about the documentation, specifically about Topology registration.","title":"Support Update"},{"location":"meetings/2020/TechArea20200810/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 8 +1 8 +1 Open 0 +0 0 +0 6 +0 6 +0 In Progress 0 +0 0 +0 11 -1 11 -1 Ready for Testing 0 +0 0 +0 1 +1 1 +1 Ready for Release 0 +0 0 +0 26 +1 26 +1 Total Software Ready for Testing 3.5.22 gratia-probe-1.20.14 tcmalloc in OSG XCaches xrootd-lcmaps 1.7.8: OpenSSL 1.1.1 support XRootD plugins - version matching Upcoming XRootD 5.0.0 Ready for Release oidc-agent 3.3.3 Data VO Package v107 IGTF 1.107 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200810/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200810/#osg-investigations-team","text":"XRootD Validation document is in \"Draft\" (Will go out this week) (No-progress) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. StashCP Go implementation, may want some help with \"evaluating\" it as a replacement for stashcp. We have a prototype, who would like to play with it? Proactive site monitoring is progressing nicely. May present at operations meeting this week.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200810/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200817/","text":"OSG Technology Area Meeting, 17 August 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, TimT Announcements \u00b6 OSG All Hands Aug 31 - Sep 3 Technology section: 1:30-3pm CDT Wed session 2, Sep 2 Edgar giving StashCache talk, BrianB giving overview talk Mat OOO today Triage Duty \u00b6 This week: Diego Next week: BrianL (???) 8 (+0) open FreshDesk tickets 1 (+1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 169 +4 Open 1 +1 Selected for Dev 27 -14 In Progress 6 +6 Dev Complete 20 +1 Ready for Testing 2 +1 Ready for Release OSG Software Team \u00b6 Register with the OSG COManage: https://opensciencegrid.org/register Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 AI (BrianL): Revisit Carl's plate AI (Edgar): Finish up bookkeeping for EL8 tickets; kick off tests for GlideinWMS 3.6.3 AI (Diego): Kick off builds for the XRootD 4.12.4 RC1 AI (TimT): Build HTCondor 8.8.10 for 3.4; also release GlideinWMS for 3.4 Support Update \u00b6 Vanderbilt (BrianL): Pilots being killed by the CE after 8 hours (shortly after a proxy renewal). Still investigating. Marco suggested checking with the factory + frontend to see if they've set an aggressive pilot expiration time University of Florida (BrianL): Dynamic WN env functionality broke with a blahp update to 1.18.46. Bockjoo needed to update his configuration from blah.config.rpmnew OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 10 +2 10 +2 Open 0 +0 0 +0 0 +0 0 +0 Selected for Development 0 +0 0 +0 6 +0 6 +0 In Progress 0 +0 0 +0 2 +2 2 +2 Development Complete 0 +0 0 +0 14 +3 14 +3 Ready for Testing 0 +0 0 +0 1 +0 1 +0 Ready for Release 0 +0 0 +0 33 +7 33 +7 Total Software Ready for Testing 3.5.22 HTCondor 8.8.10 gratia-probe-1.20.14 tcmalloc in OSG XCaches xrootd-lcmaps 1.7.8: OpenSSL 1.1.1 support XRootD plugins - version matching Upcoming: HTCondor 8.9.8 Upcoming: XRootD 5.0.0 Ready for Release oidc-agent 3.3.3 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 XRootD Validation document is released: (No-progress) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. StashCP Go implementation, may want some help with \"evaluating\" it as a replacement for stashcp. Added cvmfs and check for xrootd functionality. Proactive site monitoring is progressing nicely. Goal: Present this week GPUs for Folding@Home took some debugging with Mats, but as of this morning, seem to be working great. Discussion \u00b6 None this week","title":"August 17, 2020"},{"location":"meetings/2020/TechArea20200817/#osg-technology-area-meeting-17-august-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, TimT","title":"OSG Technology Area Meeting, 17 August 2020"},{"location":"meetings/2020/TechArea20200817/#announcements","text":"OSG All Hands Aug 31 - Sep 3 Technology section: 1:30-3pm CDT Wed session 2, Sep 2 Edgar giving StashCache talk, BrianB giving overview talk Mat OOO today","title":"Announcements"},{"location":"meetings/2020/TechArea20200817/#triage-duty","text":"This week: Diego Next week: BrianL (???) 8 (+0) open FreshDesk tickets 1 (+1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200817/#jira","text":"# of tickets \u0394 State 169 +4 Open 1 +1 Selected for Dev 27 -14 In Progress 6 +6 Dev Complete 20 +1 Ready for Testing 2 +1 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200817/#osg-software-team","text":"Register with the OSG COManage: https://opensciencegrid.org/register Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200817/#discussion","text":"AI (BrianL): Revisit Carl's plate AI (Edgar): Finish up bookkeeping for EL8 tickets; kick off tests for GlideinWMS 3.6.3 AI (Diego): Kick off builds for the XRootD 4.12.4 RC1 AI (TimT): Build HTCondor 8.8.10 for 3.4; also release GlideinWMS for 3.4","title":"Discussion"},{"location":"meetings/2020/TechArea20200817/#support-update","text":"Vanderbilt (BrianL): Pilots being killed by the CE after 8 hours (shortly after a proxy renewal). Still investigating. Marco suggested checking with the factory + frontend to see if they've set an aggressive pilot expiration time University of Florida (BrianL): Dynamic WN env functionality broke with a blahp update to 1.18.46. Bockjoo needed to update his configuration from blah.config.rpmnew","title":"Support Update"},{"location":"meetings/2020/TechArea20200817/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 10 +2 10 +2 Open 0 +0 0 +0 0 +0 0 +0 Selected for Development 0 +0 0 +0 6 +0 6 +0 In Progress 0 +0 0 +0 2 +2 2 +2 Development Complete 0 +0 0 +0 14 +3 14 +3 Ready for Testing 0 +0 0 +0 1 +0 1 +0 Ready for Release 0 +0 0 +0 33 +7 33 +7 Total Software Ready for Testing 3.5.22 HTCondor 8.8.10 gratia-probe-1.20.14 tcmalloc in OSG XCaches xrootd-lcmaps 1.7.8: OpenSSL 1.1.1 support XRootD plugins - version matching Upcoming: HTCondor 8.9.8 Upcoming: XRootD 5.0.0 Ready for Release oidc-agent 3.3.3 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200817/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200817/#osg-investigations-team","text":"XRootD Validation document is released: (No-progress) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. StashCP Go implementation, may want some help with \"evaluating\" it as a replacement for stashcp. Added cvmfs and check for xrootd functionality. Proactive site monitoring is progressing nicely. Goal: Present this week GPUs for Folding@Home took some debugging with Mats, but as of this morning, seem to be working great.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200817/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200824/","text":"OSG Technology Area Meeting, 24 August 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Brian L, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, Tim T Announcements \u00b6 OSG All Hands Aug 31 - Sep 4 Technology section: 1:30-3pm CDT Wed session 2, Sep 2 Edgar giving StashCache talk, BrianB giving overview talk Register ASAP! https://opensciencegrid.org/all-hands/2020/registration/ Triage Duty \u00b6 This week: BrianL Next week: Carl 7 (-1) open FreshDesk tickets 1 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 173 +4 Open 7 +6 Selected for Dev 14 -13 In Progress 7 +1 Dev Complete 32 +12 Ready for Testing 2 +0 Ready for Release OSG Software Team \u00b6 Next doc focus Sep 17 13:30 - 17:30 CDT Register with the OSG COManage: https://opensciencegrid.org/register Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 AI (Diego): Continue to build and scitokens packages for EL8. Contact Jason Patton for software help. AI (Edgar): Build scitokens-issuer for EL8; Derek to merge pull request and make a new release. AI (Edgar): Build osg-gridftp for EL8 since osg-xrootd-standalone is blocked by osg-configure. Support Update \u00b6 JLab (BrianL): Walked the admin through setting up an Origin container. Topology registration is done; Derek will work on CVMFS. JLab will have their own CVMFS endpoint at jlab.opensciencegrid.org, with per-experiment directories. Takeaway: we really need to improve the container so that it's easier to test before Topology registration. Our current policy is to require registration before installing the software; we will revisit the policy. Vanderbilt (BrianL): Pilots being killed by the CE after 8 hours (shortly after a proxy renewal). Investigating with the HTCondor team. Edgar: Working on giving UC-Irvine a hosted CE on SLATE. Also planning to set up a hosted CE for EXPANSE, but needs to do it without SLATE. Martin Kandes has complained about the install instructions for the worker node client. Brian L would like additional information; for a hosted CE, the site admin shouldn't have to install worker node client. Marco Mambelli: Planning to release glideinWMS 3.6.3; there is a known issue with a missing dependency in the spec file, which will be fixed in the next release. glideinWMS 3.7.1-rc1 has been released. Tim T: Built Bosco tarballs for EL8 per Ops request for Clemson. OSG Release Team \u00b6 3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 10 +0 10 +0 Open 0 +0 0 +0 2 +2 2 +2 Selected for Development 0 +0 0 +0 1 -5 1 -5 In Progress 0 +0 0 +0 1 -1 1 -1 Development Complete 0 +0 0 +0 16 +2 16 +2 Ready for Testing 0 +0 1 +1 5 +4 5 +4 Ready for Release 0 +0 1 +1 35 +2 36 +3 Total Software Ready for Testing 3.5.22 XCache 1.5.2 xrootd-scitokens 1.2.2 Bunch of EL8 stuff tcmalloc in OSG XCaches xrootd-lcmaps 1.7.8: OpenSSL 1.1.1 support XRootD plugins - version matching Upcoming: HTCondor 8.9.8 Upcoming: XRootD 5.0.1 Ready for Release oidc-agent 3.3.3 HTCondor 8.8.10 gratia-probe-1.20.14 blahp 1.18.47 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 (No-progress) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. StashCP Go implementation is ongoing. Proactive site monitoring is progressing nicely. Presented last week at Ops, good feedback! UNL's production cache is 5.0.1, with SciTokens enabled. Discussion \u00b6 Tim T discovered that the HTCondor Campus Factory subpackage is broken; was wondering what it was, and if it was still in use, or required for BOSCO. Derek (original author) said it was a way for campuses to set up a mini-Glidein Factory. bosco_cluster has callouts to it but they can be removed with minimal effort.","title":"August 24, 2020"},{"location":"meetings/2020/TechArea20200824/#osg-technology-area-meeting-24-august-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Brian L, Carl, Derek, Diego, Edgar, Marco Mambelli, Mat, Tim T","title":"OSG Technology Area Meeting, 24 August 2020"},{"location":"meetings/2020/TechArea20200824/#announcements","text":"OSG All Hands Aug 31 - Sep 4 Technology section: 1:30-3pm CDT Wed session 2, Sep 2 Edgar giving StashCache talk, BrianB giving overview talk Register ASAP! https://opensciencegrid.org/all-hands/2020/registration/","title":"Announcements"},{"location":"meetings/2020/TechArea20200824/#triage-duty","text":"This week: BrianL Next week: Carl 7 (-1) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200824/#jira","text":"# of tickets \u0394 State 173 +4 Open 7 +6 Selected for Dev 14 -13 In Progress 7 +1 Dev Complete 32 +12 Ready for Testing 2 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200824/#osg-software-team","text":"Next doc focus Sep 17 13:30 - 17:30 CDT Register with the OSG COManage: https://opensciencegrid.org/register Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200824/#discussion","text":"AI (Diego): Continue to build and scitokens packages for EL8. Contact Jason Patton for software help. AI (Edgar): Build scitokens-issuer for EL8; Derek to merge pull request and make a new release. AI (Edgar): Build osg-gridftp for EL8 since osg-xrootd-standalone is blocked by osg-configure.","title":"Discussion"},{"location":"meetings/2020/TechArea20200824/#support-update","text":"JLab (BrianL): Walked the admin through setting up an Origin container. Topology registration is done; Derek will work on CVMFS. JLab will have their own CVMFS endpoint at jlab.opensciencegrid.org, with per-experiment directories. Takeaway: we really need to improve the container so that it's easier to test before Topology registration. Our current policy is to require registration before installing the software; we will revisit the policy. Vanderbilt (BrianL): Pilots being killed by the CE after 8 hours (shortly after a proxy renewal). Investigating with the HTCondor team. Edgar: Working on giving UC-Irvine a hosted CE on SLATE. Also planning to set up a hosted CE for EXPANSE, but needs to do it without SLATE. Martin Kandes has complained about the install instructions for the worker node client. Brian L would like additional information; for a hosted CE, the site admin shouldn't have to install worker node client. Marco Mambelli: Planning to release glideinWMS 3.6.3; there is a known issue with a missing dependency in the spec file, which will be fixed in the next release. glideinWMS 3.7.1-rc1 has been released. Tim T: Built Bosco tarballs for EL8 per Ops request for Clemson.","title":"Support Update"},{"location":"meetings/2020/TechArea20200824/#osg-release-team","text":"3.4.54 \u0394 Both \u0394 3.5.22 \u0394 Total \u0394 Status 0 +0 0 +0 10 +0 10 +0 Open 0 +0 0 +0 2 +2 2 +2 Selected for Development 0 +0 0 +0 1 -5 1 -5 In Progress 0 +0 0 +0 1 -1 1 -1 Development Complete 0 +0 0 +0 16 +2 16 +2 Ready for Testing 0 +0 1 +1 5 +4 5 +4 Ready for Release 0 +0 1 +1 35 +2 36 +3 Total Software Ready for Testing 3.5.22 XCache 1.5.2 xrootd-scitokens 1.2.2 Bunch of EL8 stuff tcmalloc in OSG XCaches xrootd-lcmaps 1.7.8: OpenSSL 1.1.1 support XRootD plugins - version matching Upcoming: HTCondor 8.9.8 Upcoming: XRootD 5.0.1 Ready for Release oidc-agent 3.3.3 HTCondor 8.8.10 gratia-probe-1.20.14 blahp 1.18.47 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200824/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200824/#osg-investigations-team","text":"(No-progress) CVMFS Singularity Sync is going to start using singularity to create the containers. Working on testing, see github discussion: https://github.com/opensciencegrid/cvmfs-singularity-sync/issues/245 More feedback from interested parties and they seem to be happy. Will provide feedback when Derek is back from vacation. StashCP Go implementation is ongoing. Proactive site monitoring is progressing nicely. Presented last week at Ops, good feedback! UNL's production cache is 5.0.1, with SciTokens enabled.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200824/#discussion_2","text":"Tim T discovered that the HTCondor Campus Factory subpackage is broken; was wondering what it was, and if it was still in use, or required for BOSCO. Derek (original author) said it was a way for campuses to set up a mini-Glidein Factory. bosco_cluster has callouts to it but they can be removed with minimal effort.","title":"Discussion"},{"location":"meetings/2020/TechArea20200914/","text":"OSG Technology Area Meeting, 14 September 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Brian L, Derek, Diego, Edgar, Marco Mambelli, Mat, Tim T Announcements \u00b6 Next week's meeting canceled (HTCondor Week Europe) PATh grant has been awarded! Triage Duty \u00b6 This week: Mat Next week: Diego 8 (+1) open FreshDesk tickets 3 (+1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 166 +2 Open 12 -4 Selected for Dev 14 -1 In Progress 5 +1 Dev Complete 23 +4 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 Doc focus Sep 17 13:30 - 17:30 CDT Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 UCSD team members (Edgar, Diego) will be moving to the GIL project, which is primarily involved in network and software performance testing; they will continue to provide OSG Software effort until the end of October. AI (Diego): Build XRootD 5.0.2 rc1 for upcoming. Build python-scitokens. AI (Edgar): Release vo-client in time for this week's release. Review and merge documentation PR about prescribed xcache locations. Present Data Lake talk at WLCG meeting tomorrow. AI (Mat): Build osg-configure once Python 3 conversion PR is merged. Continue to work on OIDC auth for Topology. Write talks for HTCondor Week Europe. Marco Mambelli: - Working on GWMS 3.7 release candidate and GWMS 3.6.4. - Troubleshooting condor_chirp issue with Marco Mascheroni. Support Update \u00b6 Georgia State (BrianL): investigated Hosted CE SSH issues (in progress) Georgia Tech (BrianL): assisted with their self-deployed SLATE Hosted CE with Lincoln + Judith Swinburne University (BrianL): setting up a new Hosted CE for them via the CHTC Tiger k8s cluster LHCb @ MIT (Derek): Usage is still not showing up. May be related first to EGI portal problems, which caused them to restart it, which caused it to not get the topology information because wrong URL. belle2 @ BNL (Derek): Not showing up as well, may be related to EGI portal and now topology problems. CalTech (Edgar): Working with Justas to help him set up xrootd-multiuser with checksums, but running into a bug in xrootd/xrootd-multiuser that gives the wrong checksums. Running into GWMS problems after upgrading the HTCondor central manager to 8.9; will debug with Marco. CMU (Mat): gfal-ls ticket given to Wei, but waiting on debug information; Mat will ping user. Cesga (Mat): script trying to contact Topology via the old iu.edu address. Mat will help them switch over to the current address. OSG Release Team \u00b6 3.4.55 \u0394 Both \u0394 3.5.24 \u0394 Total \u0394 Status 0 +0 0 +0 11 +1 11 +1 Open 0 +0 0 +0 1 -1 1 -1 Selected for Development 0 +0 0 +0 3 +2 3 +2 In Progress 0 +0 0 +0 1 +0 1 +0 Development Complete 0 +0 0 +0 7 -9 7 -9 Ready for Testing 0 +0 0 -1 1 -4 1 -5 Ready for Release 0 +0 0 -1 24 -11 24 -12 Total Software Ready for Testing 3.5.24 hosted-ce-tools 0.8-2 stashcache-client 6.1.0 XRootD 4.12.4 CCTools 7.1.1 EL8: Frontier Squid 4.12-2.1 EL8: lcmaps 1.6.6 Upcoming XRootD 5.0.1-1.4 (xrootd4 compat packages) Ready for Release 3.5.24 CVMFS 2.7.4 Data VO Package v108 Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 CVMFS singularity building is now in production! StashCP Go implementation is ongoing. Discussion \u00b6 Planning to upgrade XCache redirectors to XRootD 5 and change the config to require cache<->redirector commuication to use TLS. This will break XRootD 4 caches; almost all caches have been moved to XRootD 5, except for ItalianGrid. Edgar will get in touch with them.","title":"September 14, 2020"},{"location":"meetings/2020/TechArea20200914/#osg-technology-area-meeting-14-september-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Brian L, Derek, Diego, Edgar, Marco Mambelli, Mat, Tim T","title":"OSG Technology Area Meeting, 14 September 2020"},{"location":"meetings/2020/TechArea20200914/#announcements","text":"Next week's meeting canceled (HTCondor Week Europe) PATh grant has been awarded!","title":"Announcements"},{"location":"meetings/2020/TechArea20200914/#triage-duty","text":"This week: Mat Next week: Diego 8 (+1) open FreshDesk tickets 3 (+1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200914/#jira","text":"# of tickets \u0394 State 166 +2 Open 12 -4 Selected for Dev 14 -1 In Progress 5 +1 Dev Complete 23 +4 Ready for Testing 1 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200914/#osg-software-team","text":"Doc focus Sep 17 13:30 - 17:30 CDT Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200914/#discussion","text":"UCSD team members (Edgar, Diego) will be moving to the GIL project, which is primarily involved in network and software performance testing; they will continue to provide OSG Software effort until the end of October. AI (Diego): Build XRootD 5.0.2 rc1 for upcoming. Build python-scitokens. AI (Edgar): Release vo-client in time for this week's release. Review and merge documentation PR about prescribed xcache locations. Present Data Lake talk at WLCG meeting tomorrow. AI (Mat): Build osg-configure once Python 3 conversion PR is merged. Continue to work on OIDC auth for Topology. Write talks for HTCondor Week Europe. Marco Mambelli: - Working on GWMS 3.7 release candidate and GWMS 3.6.4. - Troubleshooting condor_chirp issue with Marco Mascheroni.","title":"Discussion"},{"location":"meetings/2020/TechArea20200914/#support-update","text":"Georgia State (BrianL): investigated Hosted CE SSH issues (in progress) Georgia Tech (BrianL): assisted with their self-deployed SLATE Hosted CE with Lincoln + Judith Swinburne University (BrianL): setting up a new Hosted CE for them via the CHTC Tiger k8s cluster LHCb @ MIT (Derek): Usage is still not showing up. May be related first to EGI portal problems, which caused them to restart it, which caused it to not get the topology information because wrong URL. belle2 @ BNL (Derek): Not showing up as well, may be related to EGI portal and now topology problems. CalTech (Edgar): Working with Justas to help him set up xrootd-multiuser with checksums, but running into a bug in xrootd/xrootd-multiuser that gives the wrong checksums. Running into GWMS problems after upgrading the HTCondor central manager to 8.9; will debug with Marco. CMU (Mat): gfal-ls ticket given to Wei, but waiting on debug information; Mat will ping user. Cesga (Mat): script trying to contact Topology via the old iu.edu address. Mat will help them switch over to the current address.","title":"Support Update"},{"location":"meetings/2020/TechArea20200914/#osg-release-team","text":"3.4.55 \u0394 Both \u0394 3.5.24 \u0394 Total \u0394 Status 0 +0 0 +0 11 +1 11 +1 Open 0 +0 0 +0 1 -1 1 -1 Selected for Development 0 +0 0 +0 3 +2 3 +2 In Progress 0 +0 0 +0 1 +0 1 +0 Development Complete 0 +0 0 +0 7 -9 7 -9 Ready for Testing 0 +0 0 -1 1 -4 1 -5 Ready for Release 0 +0 0 -1 24 -11 24 -12 Total Software Ready for Testing 3.5.24 hosted-ce-tools 0.8-2 stashcache-client 6.1.0 XRootD 4.12.4 CCTools 7.1.1 EL8: Frontier Squid 4.12-2.1 EL8: lcmaps 1.6.6 Upcoming XRootD 5.0.1-1.4 (xrootd4 compat packages) Ready for Release 3.5.24 CVMFS 2.7.4 Data VO Package v108 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200914/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200914/#osg-investigations-team","text":"CVMFS singularity building is now in production! StashCP Go implementation is ongoing.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20200914/#discussion_2","text":"Planning to upgrade XCache redirectors to XRootD 5 and change the config to require cache<->redirector commuication to use TLS. This will break XRootD 4 caches; almost all caches have been moved to XRootD 5, except for ItalianGrid. Edgar will get in touch with them.","title":"Discussion"},{"location":"meetings/2020/TechArea20200928/","text":"OSG Technology Area Meeting, 28 September 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Carl, Diego, Edgar, Marco Mambelli, Mat, Tim T Announcements \u00b6 None this week. Triage Duty \u00b6 This week: Tim T Carl to send out email for the next rotation. 7 (-1) open FreshDesk tickets 3 (+0) open GGUS tickets JIRA \u00b6 # of tickets \u0394 State 166 +0 Open 15 +3 Selected for Dev 15 +1 In Progress 4 -1 Dev Complete 17 -6 Ready for Testing 6 +5 Ready for Release OSG Software Team \u00b6 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 None. Support Update \u00b6 Edgar: StashCache at PIC upgraded to the upcoming-fresh version but it's broken for them. Edgar is troubleshooting; will reach out to XRootD developers for assistance. The symptom is an SSL permission denied, but the error only shows up in XRootD 5 and goes away when they downgrade. GlideinWMS News \u00b6 Marco Mascheroni testing 3.6.4 in the ITB. (This will be in OSG 3.4 and OSG 3.5.) 3.9 now in osg-contrib (this includes Python 3 support). Continuing work on 3.7; integrating some work from the recent tokens hackathon. OSG Release Team \u00b6 3.4.55 \u0394 Both \u0394 3.5.25 \u0394 Total \u0394 Status 0 +0 0 +0 10 -1 10 -1 Open 0 +0 0 +0 3 +2 3 +2 Selected for Development 0 +0 0 +0 1 -2 1 -2 In Progress 0 +0 0 +0 0 -1 0 -1 Development Complete 0 +0 1 +1 4 -3 5 -2 Ready for Testing 1 +1 0 +0 0 -1 1 +0 Ready for Release 1 +1 1 +1 18 -6 20 -4 Total Software Ready for Testing Both GlideinWMS 3.6.4 3.5.25 blahp 1.18.48 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.4.55 Singularity 3.6.3 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 Next week we have the stashcp-go presentation. Tackling some GRACC technical debt (RabbitMQ library changed a lot between versions) IRIS-HEP Fellows presentation today Converted perfsonar ingesters over to K8s Much work on perfsonar collector. Now using multi-processing, and a thread pool (DNS lookup are slow!) Consulting on the gratia probe for containers","title":"September 28, 2020"},{"location":"meetings/2020/TechArea20200928/#osg-technology-area-meeting-28-september-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: Carl, Diego, Edgar, Marco Mambelli, Mat, Tim T","title":"OSG Technology Area Meeting, 28 September 2020"},{"location":"meetings/2020/TechArea20200928/#announcements","text":"None this week.","title":"Announcements"},{"location":"meetings/2020/TechArea20200928/#triage-duty","text":"This week: Tim T Carl to send out email for the next rotation. 7 (-1) open FreshDesk tickets 3 (+0) open GGUS tickets","title":"Triage Duty"},{"location":"meetings/2020/TechArea20200928/#jira","text":"# of tickets \u0394 State 166 +0 Open 15 +3 Selected for Dev 15 +1 In Progress 4 -1 Dev Complete 17 -6 Ready for Testing 6 +5 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20200928/#osg-software-team","text":"Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20200928/#discussion","text":"None.","title":"Discussion"},{"location":"meetings/2020/TechArea20200928/#support-update","text":"Edgar: StashCache at PIC upgraded to the upcoming-fresh version but it's broken for them. Edgar is troubleshooting; will reach out to XRootD developers for assistance. The symptom is an SSL permission denied, but the error only shows up in XRootD 5 and goes away when they downgrade.","title":"Support Update"},{"location":"meetings/2020/TechArea20200928/#glideinwms-news","text":"Marco Mascheroni testing 3.6.4 in the ITB. (This will be in OSG 3.4 and OSG 3.5.) 3.9 now in osg-contrib (this includes Python 3 support). Continuing work on 3.7; integrating some work from the recent tokens hackathon.","title":"GlideinWMS News"},{"location":"meetings/2020/TechArea20200928/#osg-release-team","text":"3.4.55 \u0394 Both \u0394 3.5.25 \u0394 Total \u0394 Status 0 +0 0 +0 10 -1 10 -1 Open 0 +0 0 +0 3 +2 3 +2 Selected for Development 0 +0 0 +0 1 -2 1 -2 In Progress 0 +0 0 +0 0 -1 0 -1 Development Complete 0 +0 1 +1 4 -3 5 -2 Ready for Testing 1 +1 0 +0 0 -1 1 +0 Ready for Release 1 +1 1 +1 18 -6 20 -4 Total Software Ready for Testing Both GlideinWMS 3.6.4 3.5.25 blahp 1.18.48 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.4.55 Singularity 3.6.3 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20200928/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20200928/#osg-investigations-team","text":"Next week we have the stashcp-go presentation. Tackling some GRACC technical debt (RabbitMQ library changed a lot between versions) IRIS-HEP Fellows presentation today Converted perfsonar ingesters over to K8s Much work on perfsonar collector. Now using multi-processing, and a thread pool (DNS lookup are slow!) Consulting on the gratia probe for containers","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201005/","text":"OSG Technology Area Meeting, 5 October 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 CC spin-up meeting for the 2020 CC recipients later this month -- requests for materials will be high-priority. Triage Duty \u00b6 This week: BrianL Next week: Carl 9 (+2) open FreshDesk tickets 0 (-3) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 173 +7 Open 15 +0 Selected for Dev 14 -1 In Progress 6 +2 Dev Complete 17 +0 Ready for Testing 6 +0 Ready for Release OSG Software Team \u00b6 Doc focus Oct 22 13:30 - 17:30 CDT Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 AI (Edgar): merge https://opensciencegrid.atlassian.net/browse/SOFTWARE-4203 Does XRootD 4.12.5 fix issues found with XRootD 4.12.4? No; the error seems to affect TPC in the entire 4.12.X series. For some reason, nightly VMU tests (which test TPC) have not detected the issue. AI (Edgar/Diego): Investigate why VMU tests do not catch this issue. AI (Edgar/Diego): Report problem to XRootD developers as a GitHub issue. Discussion \u00b6 Diego: PR for Python 3 support for SciTokens was merged. AI (Diego): Rebuild XRootD plugins for XRootD 5 (except XRootD-HDFS). AI (Edgar): Build osg-xrootd and x509-scitokens-issuer for EL8, since they are no longer blocked by osg-configure. (This is lower priority than XRootD issues mentioned above.) AI (BrianL): Coordinate improvement of cache federation registration process. AI (Mat): Investigate stale URLs in technology docs. TimT: Encountering build failures for HTCondor on EL8 -- these appear to be random (i.e. rebuilds succeed). HTCondor-CE tests with HTCondor 8.9.9 are brittle and randomly fail to run. BrianL will investigate. GlideinWMS \u00b6 Will release 3.6.5, which includes a fix for a bind-mount issue encountered by Marco Mascheroni. Support Update \u00b6 Univeristy of Connecticut (BrianL): investigating Blahp segfault with Flightworthy JLab (Derek): Origin host is crashing. Not necessarily the OSG provided container. Edgar: Continuing to debug issues with XRootD 5 in the CNAF StashCache -- maybe caused by authfile generation. Also testing HTCondor 8.9.9 tarballs in the LIGO ITB. OSG Release Team \u00b6 3.4.55 \u0394 Both \u0394 3.5.25 \u0394 Total \u0394 Status 0 +0 1 +1 10 +0 11 +1 Open 0 +0 0 +0 4 +1 4 +1 Selected for Development 0 +0 0 +0 1 +0 1 +0 In Progress 0 +0 0 +0 0 +0 0 +0 Development Complete 0 +0 0 -1 4 +0 4 -1 Ready for Testing 1 +0 0 +0 1 +1 2 +1 Ready for Release 1 +0 1 +0 20 +2 22 +2 Total Software Ready for Testing 3.5.25 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.25 blahp 1.18.48 3.4.55 Singularity 3.6.3 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 StashCP Go presentation planned for next week. Redirectors with TLS turned on test is planned for today. Lets see what breaks! Discussion \u00b6 None this week","title":"October 5, 2020"},{"location":"meetings/2020/TechArea20201005/#osg-technology-area-meeting-5-october-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting,  5 October 2020"},{"location":"meetings/2020/TechArea20201005/#announcements","text":"CC spin-up meeting for the 2020 CC recipients later this month -- requests for materials will be high-priority.","title":"Announcements"},{"location":"meetings/2020/TechArea20201005/#triage-duty","text":"This week: BrianL Next week: Carl 9 (+2) open FreshDesk tickets 0 (-3) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201005/#jira","text":"# of tickets \u0394 State 173 +7 Open 15 +0 Selected for Dev 14 -1 In Progress 6 +2 Dev Complete 17 +0 Ready for Testing 6 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201005/#osg-software-team","text":"Doc focus Oct 22 13:30 - 17:30 CDT Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 AI (Edgar): merge https://opensciencegrid.atlassian.net/browse/SOFTWARE-4203 Does XRootD 4.12.5 fix issues found with XRootD 4.12.4? No; the error seems to affect TPC in the entire 4.12.X series. For some reason, nightly VMU tests (which test TPC) have not detected the issue. AI (Edgar/Diego): Investigate why VMU tests do not catch this issue. AI (Edgar/Diego): Report problem to XRootD developers as a GitHub issue.","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201005/#discussion","text":"Diego: PR for Python 3 support for SciTokens was merged. AI (Diego): Rebuild XRootD plugins for XRootD 5 (except XRootD-HDFS). AI (Edgar): Build osg-xrootd and x509-scitokens-issuer for EL8, since they are no longer blocked by osg-configure. (This is lower priority than XRootD issues mentioned above.) AI (BrianL): Coordinate improvement of cache federation registration process. AI (Mat): Investigate stale URLs in technology docs. TimT: Encountering build failures for HTCondor on EL8 -- these appear to be random (i.e. rebuilds succeed). HTCondor-CE tests with HTCondor 8.9.9 are brittle and randomly fail to run. BrianL will investigate.","title":"Discussion"},{"location":"meetings/2020/TechArea20201005/#glideinwms","text":"Will release 3.6.5, which includes a fix for a bind-mount issue encountered by Marco Mascheroni.","title":"GlideinWMS"},{"location":"meetings/2020/TechArea20201005/#support-update","text":"Univeristy of Connecticut (BrianL): investigating Blahp segfault with Flightworthy JLab (Derek): Origin host is crashing. Not necessarily the OSG provided container. Edgar: Continuing to debug issues with XRootD 5 in the CNAF StashCache -- maybe caused by authfile generation. Also testing HTCondor 8.9.9 tarballs in the LIGO ITB.","title":"Support Update"},{"location":"meetings/2020/TechArea20201005/#osg-release-team","text":"3.4.55 \u0394 Both \u0394 3.5.25 \u0394 Total \u0394 Status 0 +0 1 +1 10 +0 11 +1 Open 0 +0 0 +0 4 +1 4 +1 Selected for Development 0 +0 0 +0 1 +0 1 +0 In Progress 0 +0 0 +0 0 +0 0 +0 Development Complete 0 +0 0 -1 4 +0 4 -1 Ready for Testing 1 +0 0 +0 1 +1 2 +1 Ready for Release 1 +0 1 +0 20 +2 22 +2 Total Software Ready for Testing 3.5.25 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.25 blahp 1.18.48 3.4.55 Singularity 3.6.3 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201005/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201005/#osg-investigations-team","text":"StashCP Go presentation planned for next week. Redirectors with TLS turned on test is planned for today. Lets see what breaks!","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201005/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201012/","text":"OSG Technology Area Meeting, 12 October 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marian, Mat, Salman Djingueinabaye, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Carl Next week: Edgar 7 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 157 -16 Open 16 +1 Selected for Dev 18 +4 In Progress 12 +12 Dev Complete 17 +0 Ready for Testing 0 +0 Ready for Release StashCP in Go Presentation \u00b6 WIP source ; slides Due to a number of benefits of Golang as opposed to Python, stashcp is being reimplemented in Golang. This is primarily performance (since it's built for concurrency) and ease of installation (since it's a statically linked binary.) Some features that have yet to be implemented are: finding the \"best\" cache stashcp_single Timeline of release is \"weeks, not months.\" Good documentation and well-commented code is a high priority. OSG Software Team \u00b6 Doc focus Oct 22 canceled due to OSG CC* Workshop Oct 22-23 Oct 29 is a good cadidate date for a reschedule. CVMFS + EL6 nightly failures currently under investigation with upstream Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 OSG-Display (the software) is deployed by a Git checkout that is picked up by an Apache server. John Thiltges is working on moving it to Kubernetes. AI (Carl): Deploy repo generation changes to repo-itb. AI (Diego): Build python-scitokens for EL7 and xrootd 5 and plugins for EL8. AI (Edgar): Debug why XRootD fails to start in EL8 VMU tests. In time crunch to get EXPANSE going. They require hosted CEs and use EL8 head nodes. All the software should be ready. AI (Mat): Implement token auth for topology. AI (Mat): Update the state of WLCG VO proxy support ticket (SOFTWARE-4113). Support Update \u00b6 Univeristy of Connecticut (BrianL): investigating Blahp segfault with Flightworthy JLab (Derek): Origin host is crashing. Not necessarily the OSG provided container. CNAF (Edgar): Continuing to debug issues with XRootD 5 in the CNAF StashCache \u2013 maybe caused by authfile generation. Also testing HTCondor 8.9.9 tarballs in the LIGO ITB. OSG Release Team \u00b6 3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 -1 9 -1 9 -2 Open 0 +0 0 +0 5 +1 5 +1 Selected for Development 0 +0 0 +0 1 +0 1 +0 In Progress 0 +0 0 +0 0 +0 0 +0 Development Complete 0 +0 0 +0 5 +1 5 +1 Ready for Testing 0 -1 0 +0 0 -1 0 -2 Ready for Release 0 -1 0 -1 20 +0 20 -2 Total Software Ready for Testing 3.5.26 scitokens-credmon 0.8.1 XRootD 4.12.5-rc1 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week OSG Investigations Team \u00b6 StashCP Go presentation! TLS on redirectors is done. No reports of breakage. Elasticsearch on Kubernetes! Discussion \u00b6 None this week","title":"October 12, 2020"},{"location":"meetings/2020/TechArea20201012/#osg-technology-area-meeting-12-october-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marian, Mat, Salman Djingueinabaye, TimT","title":"OSG Technology Area Meeting, 12 October 2020"},{"location":"meetings/2020/TechArea20201012/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20201012/#triage-duty","text":"This week: Carl Next week: Edgar 7 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201012/#jira","text":"# of tickets \u0394 State 157 -16 Open 16 +1 Selected for Dev 18 +4 In Progress 12 +12 Dev Complete 17 +0 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201012/#stashcp-in-go-presentation","text":"WIP source ; slides Due to a number of benefits of Golang as opposed to Python, stashcp is being reimplemented in Golang. This is primarily performance (since it's built for concurrency) and ease of installation (since it's a statically linked binary.) Some features that have yet to be implemented are: finding the \"best\" cache stashcp_single Timeline of release is \"weeks, not months.\" Good documentation and well-commented code is a high priority.","title":"StashCP in Go Presentation"},{"location":"meetings/2020/TechArea20201012/#osg-software-team","text":"Doc focus Oct 22 canceled due to OSG CC* Workshop Oct 22-23 Oct 29 is a good cadidate date for a reschedule. CVMFS + EL6 nightly failures currently under investigation with upstream Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201012/#discussion","text":"OSG-Display (the software) is deployed by a Git checkout that is picked up by an Apache server. John Thiltges is working on moving it to Kubernetes. AI (Carl): Deploy repo generation changes to repo-itb. AI (Diego): Build python-scitokens for EL7 and xrootd 5 and plugins for EL8. AI (Edgar): Debug why XRootD fails to start in EL8 VMU tests. In time crunch to get EXPANSE going. They require hosted CEs and use EL8 head nodes. All the software should be ready. AI (Mat): Implement token auth for topology. AI (Mat): Update the state of WLCG VO proxy support ticket (SOFTWARE-4113).","title":"Discussion"},{"location":"meetings/2020/TechArea20201012/#support-update","text":"Univeristy of Connecticut (BrianL): investigating Blahp segfault with Flightworthy JLab (Derek): Origin host is crashing. Not necessarily the OSG provided container. CNAF (Edgar): Continuing to debug issues with XRootD 5 in the CNAF StashCache \u2013 maybe caused by authfile generation. Also testing HTCondor 8.9.9 tarballs in the LIGO ITB.","title":"Support Update"},{"location":"meetings/2020/TechArea20201012/#osg-release-team","text":"3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 -1 9 -1 9 -2 Open 0 +0 0 +0 5 +1 5 +1 Selected for Development 0 +0 0 +0 1 +0 1 +0 In Progress 0 +0 0 +0 0 +0 0 +0 Development Complete 0 +0 0 +0 5 +1 5 +1 Ready for Testing 0 -1 0 +0 0 -1 0 -2 Ready for Release 0 -1 0 -1 20 +0 20 -2 Total Software Ready for Testing 3.5.26 scitokens-credmon 0.8.1 XRootD 4.12.5-rc1 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201012/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201012/#osg-investigations-team","text":"StashCP Go presentation! TLS on redirectors is done. No reports of breakage. Elasticsearch on Kubernetes!","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201012/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201019/","text":"OSG Technology Area Meeting, 19 October 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Oct 22-23 Workshop: Supporting Campus Researchers with dHTC and the OSG Triage Duty \u00b6 This week: Edgar Next week: Diego 8 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 169 +12 Open 15 -1 Selected for Dev 20 +2 In Progress 11 -1 Dev Complete 21 +4 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Doc focus Oct 29 1:30pm CVMFS + EL6 nightly failures still under investigation with upstream Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 There will be upcoming changes to Freshdesk SLAs and policies; exact details to come later. XRootD 4.12.5 release is out. Derek: LIGO dataframe access with SciTokens is at a roadblock because LIGO shares an origin with CMS; LIGO wants TLS enabled but CMS is not ready for it. LIGO will move to their own origin server. AI (Diego): Continue building XRootD 5 plugins for EL8, and updating xrootd-multiuser. AI (Edgar): Push xrootd-standalone and x509-scitokens-issuer over the finish line AI (Mat): Document building xrootd-compat packages; build Ubuntu containers. GlideinWMS: 3.7.1 work continuing. 3.6.5 released recently and has been stable in production. Jeff having trouble restricting disk usage on a site; Marco will debug and seek help from HTCondor developers. Support Update \u00b6 Expanse (Edgar, BrianL): Tracked down some EL8 Bosco incompatibilities. These fixes need to be included in Bosco override files until they're fixed upstream. JLab (Derek): JLab Origin much more stable this week. Continuing to aggressively monitor, but so far so good. OSG Connect (Derek): StashCP issue when the writeback address is a directory and not a file. Curl doesn't give an error message, it just gives a non-zero exit code. So the error from stashcp is cryptic. Will investigate solution. OSG Investigations Team \u00b6 Elasticsearch on Kubernetes! Elasticsearch upgrade upcoming on OSG GRACC coming the end of this month. Discussion \u00b6 None this week OSG Release Team \u00b6 3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 +0 11 +2 11 +2 Open 0 +0 0 +0 5 +0 5 +0 Selected for Development 0 +0 0 +0 0 -1 0 -1 In Progress 0 +0 0 +0 1 +1 1 +1 Development Complete 0 +0 0 +0 6 +1 6 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 23 +0 23 +3 Total Software Ready for Testing 3.5.26 scitokens-credmon 0.8.1 python-scitokens 1.2.4-3 (Python 3 implementation) XRootD 4.12.5-rc1 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"October 19, 2020"},{"location":"meetings/2020/TechArea20201019/#osg-technology-area-meeting-19-october-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Diego, Edgar, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 19 October 2020"},{"location":"meetings/2020/TechArea20201019/#announcements","text":"Oct 22-23 Workshop: Supporting Campus Researchers with dHTC and the OSG","title":"Announcements"},{"location":"meetings/2020/TechArea20201019/#triage-duty","text":"This week: Edgar Next week: Diego 8 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201019/#jira","text":"# of tickets \u0394 State 169 +12 Open 15 -1 Selected for Dev 20 +2 In Progress 11 -1 Dev Complete 21 +4 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201019/#osg-software-team","text":"Doc focus Oct 29 1:30pm CVMFS + EL6 nightly failures still under investigation with upstream Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201019/#discussion","text":"There will be upcoming changes to Freshdesk SLAs and policies; exact details to come later. XRootD 4.12.5 release is out. Derek: LIGO dataframe access with SciTokens is at a roadblock because LIGO shares an origin with CMS; LIGO wants TLS enabled but CMS is not ready for it. LIGO will move to their own origin server. AI (Diego): Continue building XRootD 5 plugins for EL8, and updating xrootd-multiuser. AI (Edgar): Push xrootd-standalone and x509-scitokens-issuer over the finish line AI (Mat): Document building xrootd-compat packages; build Ubuntu containers. GlideinWMS: 3.7.1 work continuing. 3.6.5 released recently and has been stable in production. Jeff having trouble restricting disk usage on a site; Marco will debug and seek help from HTCondor developers.","title":"Discussion"},{"location":"meetings/2020/TechArea20201019/#support-update","text":"Expanse (Edgar, BrianL): Tracked down some EL8 Bosco incompatibilities. These fixes need to be included in Bosco override files until they're fixed upstream. JLab (Derek): JLab Origin much more stable this week. Continuing to aggressively monitor, but so far so good. OSG Connect (Derek): StashCP issue when the writeback address is a directory and not a file. Curl doesn't give an error message, it just gives a non-zero exit code. So the error from stashcp is cryptic. Will investigate solution.","title":"Support Update"},{"location":"meetings/2020/TechArea20201019/#osg-investigations-team","text":"Elasticsearch on Kubernetes! Elasticsearch upgrade upcoming on OSG GRACC coming the end of this month.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201019/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201019/#osg-release-team","text":"3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 +0 11 +2 11 +2 Open 0 +0 0 +0 5 +0 5 +0 Selected for Development 0 +0 0 +0 0 -1 0 -1 In Progress 0 +0 0 +0 1 +1 1 +1 Development Complete 0 +0 0 +0 6 +1 6 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 23 +0 23 +3 Total Software Ready for Testing 3.5.26 scitokens-credmon 0.8.1 python-scitokens 1.2.4-3 (Python 3 implementation) XRootD 4.12.5-rc1 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201019/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201026/","text":"OSG Technology Area Meeting, 26 October 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Diego, Edgar, Marco Mambell, Marian, Mat, TimT Announcements \u00b6 This is Diego and Edgar's last week on the Software and Release team! Triage Duty \u00b6 This week: Diego Next week: TimT 11 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 154 -15 Open 16 +1 Selected for Dev 18 -2 In Progress 12 +1 Dev Complete 23 +2 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Doc focus this Thursday Oct 29 1:30pm Kubernetes hackathon tomorrow Oct 27 1:00pm CVMFS + EL6 nightly failures due to SELinux issue and newly changed OSG CVMFS config; workaround in place Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 Our VIRGO contact is the VIRGO Computing Coordinator Stefano Bagnasco (bagnasco@to.infn.it). IRIS-HEP Analysis Systems workshop today and tomorrow. AI (Diego): diagnose XRootD 5 on EL8 issues. AI (Edgar): debug why xrootd-multiuser plugin keeps XRootD server from starting. debug why binary used to generate macaroons is core dumping; contact Zach Miller for assistance. AI (Mat): help Mark Coatsworth with EL8/Python3 support for HTCondor-CE. Multiple issues with BOSCO/Hosted-CEs: Job persistence hasn't been implemented for Hosted-CE containers yet, which means restarts kill jobs. This makes testing and config updates somewhat harmful. A potential solution is using a PersistendVolumeClaim but that's not easy on SLATE. Bosco keeps persistent state in /tmp ; Expanse had their submit node set up with DNS round-robin which means state was sometimes there, sometimes not. Edgar added a manual workaround. Support Update \u00b6 Expanse (Edgar, BrianL): CMS user not being set up properly and PATH being overriden: PRs in to fix both JLab (Edgar): Figured out origin port re-use issue: problem with the site config OSG Investigations Team \u00b6 Elasticsearch on Kubernetes! OASIS upgrade last week (supports SSH logins via authorized keys registered in COmanage!). OSG GRACC upgrade coming this week, v7.8.2 -> v7.9.2. Discussion \u00b6 None this week OSG Release Team \u00b6 3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 5 +0 5 +0 Selected for Development 0 +0 0 +0 1 +1 1 +1 In Progress 0 +0 0 +0 0 -1 0 -1 Development Complete 0 +0 0 +0 8 +2 8 +2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 25 +2 25 +2 Total Software Ready for Testing 3.5.26 HTCondor 8.8.11 CVMFS 2.7.5 scitokens-credmon 0.8.1 python-scitokens 1.2.4-3 (Python 3 implementation) XRootD 4.12.5-rc1 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"October 26, 2020"},{"location":"meetings/2020/TechArea20201026/#osg-technology-area-meeting-26-october-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Diego, Edgar, Marco Mambell, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 26 October 2020"},{"location":"meetings/2020/TechArea20201026/#announcements","text":"This is Diego and Edgar's last week on the Software and Release team!","title":"Announcements"},{"location":"meetings/2020/TechArea20201026/#triage-duty","text":"This week: Diego Next week: TimT 11 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201026/#jira","text":"# of tickets \u0394 State 154 -15 Open 16 +1 Selected for Dev 18 -2 In Progress 12 +1 Dev Complete 23 +2 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201026/#osg-software-team","text":"Doc focus this Thursday Oct 29 1:30pm Kubernetes hackathon tomorrow Oct 27 1:00pm CVMFS + EL6 nightly failures due to SELinux issue and newly changed OSG CVMFS config; workaround in place Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201026/#discussion","text":"Our VIRGO contact is the VIRGO Computing Coordinator Stefano Bagnasco (bagnasco@to.infn.it). IRIS-HEP Analysis Systems workshop today and tomorrow. AI (Diego): diagnose XRootD 5 on EL8 issues. AI (Edgar): debug why xrootd-multiuser plugin keeps XRootD server from starting. debug why binary used to generate macaroons is core dumping; contact Zach Miller for assistance. AI (Mat): help Mark Coatsworth with EL8/Python3 support for HTCondor-CE. Multiple issues with BOSCO/Hosted-CEs: Job persistence hasn't been implemented for Hosted-CE containers yet, which means restarts kill jobs. This makes testing and config updates somewhat harmful. A potential solution is using a PersistendVolumeClaim but that's not easy on SLATE. Bosco keeps persistent state in /tmp ; Expanse had their submit node set up with DNS round-robin which means state was sometimes there, sometimes not. Edgar added a manual workaround.","title":"Discussion"},{"location":"meetings/2020/TechArea20201026/#support-update","text":"Expanse (Edgar, BrianL): CMS user not being set up properly and PATH being overriden: PRs in to fix both JLab (Edgar): Figured out origin port re-use issue: problem with the site config","title":"Support Update"},{"location":"meetings/2020/TechArea20201026/#osg-investigations-team","text":"Elasticsearch on Kubernetes! OASIS upgrade last week (supports SSH logins via authorized keys registered in COmanage!). OSG GRACC upgrade coming this week, v7.8.2 -> v7.9.2.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201026/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201026/#osg-release-team","text":"3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 5 +0 5 +0 Selected for Development 0 +0 0 +0 1 +1 1 +1 In Progress 0 +0 0 +0 0 -1 0 -1 Development Complete 0 +0 0 +0 8 +2 8 +2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 25 +2 25 +2 Total Software Ready for Testing 3.5.26 HTCondor 8.8.11 CVMFS 2.7.5 scitokens-credmon 0.8.1 python-scitokens 1.2.4-3 (Python 3 implementation) XRootD 4.12.5-rc1 EL8: lcmaps 1.6.6 EL8: osg-configure 3.10 EL8: xrootd-multiuser 0.4.4 Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201026/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201102/","text":"OSG Technology Area Meeting, 2 November 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Marian, Marco Mambelli, TimT Announcements \u00b6 Travis CI has a new pricing model ( https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing ) that affects us: The OSG org has 1000 minutes off the bat and we can apply for OSS minutes All new container builds should be set up using GitHub actions We are discussing consolidating this meeting with 9am Monday morning stand-ups Triage Duty \u00b6 This week: TimT Next week: Mat 7 (-4) open FreshDesk tickets 1 (+1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 137 -14 Open 17 +1 Selected for Dev 21 +3 In Progress 12 +0 Dev Complete 28 +5 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 WN client installs and StashCache tests fail in the release due to EPEL gfal requiring XRootD 5 Workaround: yum install osg-wn-client --enablerepo=osg-upcoming We'll need to build gfal2-plugin-xrootd for OSG 3.5 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 AI (TimT): give BrianL HTCondor yum repo URLs to include in the OSG nightly tests Support Update \u00b6 CMS (Marian, Derek): Running into issues with XRootD 5 and GSI/VOMS authN; perhaps related to an xrootd-lcmaps config issue that John Thiltges ran into FNAL (Derek): CVMFS sync stopped working and they switched to another one and has been resolved JLab (Carl): still waiting on JLab to sort out DNS and firewall issues before we can verify their CE OSG Investigations Team \u00b6 Elasticsearch on Kubernetes! Need to add logstash XRootD 5 on the LIGO origin (Thanks John) xrootd-scitokens requires some work requested from Andy about renaming things to be consistent with XRootD. OSG GRACC upgrade coming this week, v7.8.2 -> v7.9.2. Discussion \u00b6 None this week OSG Release Team \u00b6 3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 3 -2 3 -2 Selected for Development 0 +0 0 +0 0 -1 0 -1 In Progress 0 +0 0 +0 0 +0 0 +0 Development Complete 0 +0 0 +0 11 +3 11 +3 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 25 +0 25 +0 Total Software Ready for Testing 3.5.26 HTCondor 8.8.11 CVMFS 2.7.5 XRootD 4.12.5 osg-flock 1.2-2 scitokens-credmon 0.8.1 python-scitokens 1.2.4-3 (Python 3 implementation) Upcoming: HTCondor 8.9.9 Upcoming: XRootD 5.0.2 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"November 2, 2020"},{"location":"meetings/2020/TechArea20201102/#osg-technology-area-meeting-2-november-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Marian, Marco Mambelli, TimT","title":"OSG Technology Area Meeting,  2 November 2020"},{"location":"meetings/2020/TechArea20201102/#announcements","text":"Travis CI has a new pricing model ( https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing ) that affects us: The OSG org has 1000 minutes off the bat and we can apply for OSS minutes All new container builds should be set up using GitHub actions We are discussing consolidating this meeting with 9am Monday morning stand-ups","title":"Announcements"},{"location":"meetings/2020/TechArea20201102/#triage-duty","text":"This week: TimT Next week: Mat 7 (-4) open FreshDesk tickets 1 (+1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201102/#jira","text":"# of tickets \u0394 State 137 -14 Open 17 +1 Selected for Dev 21 +3 In Progress 12 +0 Dev Complete 28 +5 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201102/#osg-software-team","text":"WN client installs and StashCache tests fail in the release due to EPEL gfal requiring XRootD 5 Workaround: yum install osg-wn-client --enablerepo=osg-upcoming We'll need to build gfal2-plugin-xrootd for OSG 3.5 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201102/#discussion","text":"AI (TimT): give BrianL HTCondor yum repo URLs to include in the OSG nightly tests","title":"Discussion"},{"location":"meetings/2020/TechArea20201102/#support-update","text":"CMS (Marian, Derek): Running into issues with XRootD 5 and GSI/VOMS authN; perhaps related to an xrootd-lcmaps config issue that John Thiltges ran into FNAL (Derek): CVMFS sync stopped working and they switched to another one and has been resolved JLab (Carl): still waiting on JLab to sort out DNS and firewall issues before we can verify their CE","title":"Support Update"},{"location":"meetings/2020/TechArea20201102/#osg-investigations-team","text":"Elasticsearch on Kubernetes! Need to add logstash XRootD 5 on the LIGO origin (Thanks John) xrootd-scitokens requires some work requested from Andy about renaming things to be consistent with XRootD. OSG GRACC upgrade coming this week, v7.8.2 -> v7.9.2.","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201102/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201102/#osg-release-team","text":"3.4.56 \u0394 Both \u0394 3.5.26 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 3 -2 3 -2 Selected for Development 0 +0 0 +0 0 -1 0 -1 In Progress 0 +0 0 +0 0 +0 0 +0 Development Complete 0 +0 0 +0 11 +3 11 +3 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 25 +0 25 +0 Total Software Ready for Testing 3.5.26 HTCondor 8.8.11 CVMFS 2.7.5 XRootD 4.12.5 osg-flock 1.2-2 scitokens-credmon 0.8.1 python-scitokens 1.2.4-3 (Python 3 implementation) Upcoming: HTCondor 8.9.9 Upcoming: XRootD 5.0.2 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.26 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201102/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201109/","text":"OSG Technology Area Meeting, 9 November 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Mat, TimT Announcements \u00b6 We are discussing consolidating this meeting with 9am Monday morning stand-ups Triage Duty \u00b6 This week: Mat Next week: BrianL 11 (+4) open FreshDesk tickets 1 (+1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 146 +14 Open 16 +1 Selected for Dev 20 +3 In Progress 14 +0 Dev Complete 28 +5 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66 Discussion \u00b6 Considering releasing XRootD for EL8 AI (Mat): Finish releasing osg-build into devops-production. AI (Mat): Add additional features to OSG-Configure (see tickets) AI (TimT): Write release policy for OSG 3.6 (high priority -- we want to send it out for review soon) AI (Derek): Assist LIGO. Potential Kubernetes Hackathon tomorrow. Shreyas Bharat may join the hackathon to work on factory items. GlideinWMS 3.7.1 has been released and is in osg-upcoming-development. Support Update \u00b6 Derek: continued assisting AMNH with their hosted CE. Mat: assisting Vlad at IceCube for setting up their StashCache Origin. OSG Investigations Team \u00b6 Elasticsearch on Kubernetes! May not use logstash, more to follow XRootD 5 on the LIGO origin, now on Derek to configure for TLS and do all the ligo things . xrootd-scitokens - round 2. OSG GRACC upgraded: v7.8.2 -> v7.9.2. Investigated possible status sites, best option may be Cachet Discussion \u00b6 None this week OSG Release Team \u00b6 3.4.57 \u0394 Both \u0394 3.5.27 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 3 +0 3 +0 Selected for Development 0 +0 0 +0 0 +0 0 +0 In Progress 0 +0 0 +0 1 +1 1 +1 Development Complete 0 +0 0 +0 7 -4 7 -4 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 22 -3 22 -3 Total Software Ready for Testing 3.5.27 XRootD 4.12.5 Upcoming: HTCondor 8.9.9 EL8: bunch of stuff (still waiting for HTCondor-CE) xrootd-cmstfc 1.5.2-6 (contrib in upcoming) Ready for Release 3.5.27 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"November 9, 2020"},{"location":"meetings/2020/TechArea20201109/#osg-technology-area-meeting-9-november-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting,  9 November 2020"},{"location":"meetings/2020/TechArea20201109/#announcements","text":"We are discussing consolidating this meeting with 9am Monday morning stand-ups","title":"Announcements"},{"location":"meetings/2020/TechArea20201109/#triage-duty","text":"This week: Mat Next week: BrianL 11 (+4) open FreshDesk tickets 1 (+1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201109/#jira","text":"# of tickets \u0394 State 146 +14 Open 16 +1 Selected for Dev 20 +3 In Progress 14 +0 Dev Complete 28 +5 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201109/#osg-software-team","text":"Tech team priorities this week: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19&quickFilter=66","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201109/#discussion","text":"Considering releasing XRootD for EL8 AI (Mat): Finish releasing osg-build into devops-production. AI (Mat): Add additional features to OSG-Configure (see tickets) AI (TimT): Write release policy for OSG 3.6 (high priority -- we want to send it out for review soon) AI (Derek): Assist LIGO. Potential Kubernetes Hackathon tomorrow. Shreyas Bharat may join the hackathon to work on factory items. GlideinWMS 3.7.1 has been released and is in osg-upcoming-development.","title":"Discussion"},{"location":"meetings/2020/TechArea20201109/#support-update","text":"Derek: continued assisting AMNH with their hosted CE. Mat: assisting Vlad at IceCube for setting up their StashCache Origin.","title":"Support Update"},{"location":"meetings/2020/TechArea20201109/#osg-investigations-team","text":"Elasticsearch on Kubernetes! May not use logstash, more to follow XRootD 5 on the LIGO origin, now on Derek to configure for TLS and do all the ligo things . xrootd-scitokens - round 2. OSG GRACC upgraded: v7.8.2 -> v7.9.2. Investigated possible status sites, best option may be Cachet","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201109/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201109/#osg-release-team","text":"3.4.57 \u0394 Both \u0394 3.5.27 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 3 +0 3 +0 Selected for Development 0 +0 0 +0 0 +0 0 +0 In Progress 0 +0 0 +0 1 +1 1 +1 Development Complete 0 +0 0 +0 7 -4 7 -4 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 22 -3 22 -3 Total Software Ready for Testing 3.5.27 XRootD 4.12.5 Upcoming: HTCondor 8.9.9 EL8: bunch of stuff (still waiting for HTCondor-CE) xrootd-cmstfc 1.5.2-6 (contrib in upcoming) Ready for Release 3.5.27 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201109/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201116/","text":"OSG Technology Area Meeting, 16 November 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianB, BrianL, Carl, Junheng, Marco Mambelli, Mat, TimT Announcements \u00b6 Tech Area meeting merged into Monday morning 9am CST stand-ups! Please provide any feedback to BrianL BrianL OOO next week, Mat and BrianB to act as back-up Triage Duty \u00b6 This week: BrianL Next week: Carl 4 (-7) open FreshDesk tickets 0 (-1) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 141 -5 Open 15 -1 Selected for Dev 22 +2 In Progress 16 +2 Dev Complete 22 -2 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Container dev guide updated for GHA New docs for upgrading MkDocs repos to GHA Discussion \u00b6 AI (Junheng): work on osg-notify bug-fix AI (Mat): OSG-Configure tasks promised to the GlideinWMS team for the end of November. GlideinWMS Mat found a GlideinWMS bug when working on Ubuntu support; Marco to review and merge, which should get us further along since the affected script is pulled from the master branch 3.7.1 got promoted to production. Working on merging the changes to the Python 3 version. UCSD factories are both running the 3.7 series. CERN factory still running 3.6 series. 3.7.2 expected to handle missing GSI infrastructure. Support Update \u00b6 IceCube (Mat) - playing whack-a-mole with Stash Origin issues (docs have already been improved as a result). Currently investigating permission issues that are likely in the XRootD configuration layer. OSG Investigations Team \u00b6 BrianB has made quite a bit of progress on the OS pool registry: Almost has an end-to-end proof of concept working in the osgdev namespace on Tiger Put together a development container so that work can be handed off Discussion \u00b6 None this week OSG Release Team \u00b6 3.4.58 \u0394 Both \u0394 3.5.28 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 3 +0 3 +0 Selected for Development 0 +0 0 +0 2 +2 2 +2 In Progress 0 +0 0 +0 1 +0 1 +0 Development Complete 0 +0 0 +0 5 -2 5 -2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 22 +0 22 +0 Total Software Ready for Testing 3.5.28 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): Build HTCondor 8.8 and 8.9 in OSG & run VMU tests Talk to Horst about testing XRootD 4 Difficult to find to find willing testers for XRootD 4 since XCache servers are all using XRootD 5 on the other hand, non-XCache servers are reluctant to upgrade; talk to Dave Mason for help. Look at EL 6 retirement spreadsheet Move cronjobs from ingwe to moria","title":"November 16, 2020"},{"location":"meetings/2020/TechArea20201116/#osg-technology-area-meeting-16-november-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianB, BrianL, Carl, Junheng, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 16 November 2020"},{"location":"meetings/2020/TechArea20201116/#announcements","text":"Tech Area meeting merged into Monday morning 9am CST stand-ups! Please provide any feedback to BrianL BrianL OOO next week, Mat and BrianB to act as back-up","title":"Announcements"},{"location":"meetings/2020/TechArea20201116/#triage-duty","text":"This week: BrianL Next week: Carl 4 (-7) open FreshDesk tickets 0 (-1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201116/#jira","text":"# of tickets \u0394 State 141 -5 Open 15 -1 Selected for Dev 22 +2 In Progress 16 +2 Dev Complete 22 -2 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201116/#osg-software-team","text":"Container dev guide updated for GHA New docs for upgrading MkDocs repos to GHA","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201116/#discussion","text":"AI (Junheng): work on osg-notify bug-fix AI (Mat): OSG-Configure tasks promised to the GlideinWMS team for the end of November. GlideinWMS Mat found a GlideinWMS bug when working on Ubuntu support; Marco to review and merge, which should get us further along since the affected script is pulled from the master branch 3.7.1 got promoted to production. Working on merging the changes to the Python 3 version. UCSD factories are both running the 3.7 series. CERN factory still running 3.6 series. 3.7.2 expected to handle missing GSI infrastructure.","title":"Discussion"},{"location":"meetings/2020/TechArea20201116/#support-update","text":"IceCube (Mat) - playing whack-a-mole with Stash Origin issues (docs have already been improved as a result). Currently investigating permission issues that are likely in the XRootD configuration layer.","title":"Support Update"},{"location":"meetings/2020/TechArea20201116/#osg-investigations-team","text":"BrianB has made quite a bit of progress on the OS pool registry: Almost has an end-to-end proof of concept working in the osgdev namespace on Tiger Put together a development container so that work can be handed off","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201116/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201116/#osg-release-team","text":"3.4.58 \u0394 Both \u0394 3.5.28 \u0394 Total \u0394 Status 0 +0 0 +0 11 +0 11 +0 Open 0 +0 0 +0 3 +0 3 +0 Selected for Development 0 +0 0 +0 2 +2 2 +2 In Progress 0 +0 0 +0 1 +0 1 +0 Development Complete 0 +0 0 +0 5 -2 5 -2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 22 +0 22 +0 Total Software Ready for Testing 3.5.28 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201116/#discussion_2","text":"AI (TimT): Build HTCondor 8.8 and 8.9 in OSG & run VMU tests Talk to Horst about testing XRootD 4 Difficult to find to find willing testers for XRootD 4 since XCache servers are all using XRootD 5 on the other hand, non-XCache servers are reluctant to upgrade; talk to Dave Mason for help. Look at EL 6 retirement spreadsheet Move cronjobs from ingwe to moria","title":"Discussion"},{"location":"meetings/2020/TechArea20201123/","text":"OSG Technology Area Meeting, 23 November 2020 \u00b6 Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianB, Carl, Junheng, Marco Mambelli, Mat, TimT Announcements \u00b6 BrianL out all week; Mat out Wednesday and Friday. (TODO numbers) Triage Duty \u00b6 This week: Carl Next week: Mat 8 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 146 +5 Open 13 -2 Selected for Dev 23 +1 In Progress 17 +1 Dev Complete 16 -6 Ready for Testing 7 +7 Ready for Release OSG Software Team \u00b6 Container dev guide updated for GHA New docs for upgrading MkDocs repos to GHA Discussion \u00b6 AI (Carl): Continue working on Gratia probes. Move cron jobs from ingwe to moria. AI (Junheng): OSG-Notify and packages emailer cronjob close to being merged. AI (Mat): OSG-Configure tasks promised to the GlideinWMS team for the end of November. Test, finish Ubuntu Submit host and inform Old Dominion University of status. Work on Open Pool Negotiator. Kubernetes documentation for the OSG Worker Node. GlideinWMS: Integrate IDTOKEN fixes for 3.7.2. Update Glidein-in-Vacuum and add it to the main release (instead of having it be a separate project). Currently, frontend user needs to be added to sudoers for token generation; working on a way to remove that requirement. GLOW frontend upgraded to 3.7.1; no major problems found. Fermicloud will shut off all EL6 VMs and remove images; Marco will continue to maintain some Docker/Singularity images (since they are still used by experiments). Support Update \u00b6 GlideinWMS: the factory was using 3.7.0rc9 let to some errors due to compatibility issues with the 3.6 series. OSG Investigations Team \u00b6 Discussion \u00b6 None this week OSG Release Team \u00b6 3.4.58 \u0394 Both \u0394 3.5.28 \u0394 Total \u0394 Status 0 +0 0 +0 12 +2 12 +2 Open 0 +0 0 +0 3 +0 3 +0 Selected for Development 0 +0 0 +0 1 -1 1 -1 In Progress 0 +0 0 +0 2 +1 2 +1 Development Complete 0 +0 0 +0 5 +0 5 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 24 +2 24 +2 Total Software Ready for Testing 3.5.28 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"November 23, 2020"},{"location":"meetings/2020/TechArea20201123/#osg-technology-area-meeting-23-november-2020","text":"Coordinates: Conference: +1 312-626-6799, PIN: 718 161 330, https://cern.zoom.us/j/718161330 (password sent separately) Attending: BrianB, Carl, Junheng, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 23 November 2020"},{"location":"meetings/2020/TechArea20201123/#announcements","text":"BrianL out all week; Mat out Wednesday and Friday. (TODO numbers)","title":"Announcements"},{"location":"meetings/2020/TechArea20201123/#triage-duty","text":"This week: Carl Next week: Mat 8 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201123/#jira","text":"# of tickets \u0394 State 146 +5 Open 13 -2 Selected for Dev 23 +1 In Progress 17 +1 Dev Complete 16 -6 Ready for Testing 7 +7 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201123/#osg-software-team","text":"Container dev guide updated for GHA New docs for upgrading MkDocs repos to GHA","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201123/#discussion","text":"AI (Carl): Continue working on Gratia probes. Move cron jobs from ingwe to moria. AI (Junheng): OSG-Notify and packages emailer cronjob close to being merged. AI (Mat): OSG-Configure tasks promised to the GlideinWMS team for the end of November. Test, finish Ubuntu Submit host and inform Old Dominion University of status. Work on Open Pool Negotiator. Kubernetes documentation for the OSG Worker Node. GlideinWMS: Integrate IDTOKEN fixes for 3.7.2. Update Glidein-in-Vacuum and add it to the main release (instead of having it be a separate project). Currently, frontend user needs to be added to sudoers for token generation; working on a way to remove that requirement. GLOW frontend upgraded to 3.7.1; no major problems found. Fermicloud will shut off all EL6 VMs and remove images; Marco will continue to maintain some Docker/Singularity images (since they are still used by experiments).","title":"Discussion"},{"location":"meetings/2020/TechArea20201123/#support-update","text":"GlideinWMS: the factory was using 3.7.0rc9 let to some errors due to compatibility issues with the 3.6 series.","title":"Support Update"},{"location":"meetings/2020/TechArea20201123/#osg-investigations-team","text":"","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201123/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201123/#osg-release-team","text":"3.4.58 \u0394 Both \u0394 3.5.28 \u0394 Total \u0394 Status 0 +0 0 +0 12 +2 12 +2 Open 0 +0 0 +0 3 +0 3 +0 Selected for Development 0 +0 0 +0 1 -1 1 -1 In Progress 0 +0 0 +0 2 +1 2 +1 Development Complete 0 +0 0 +0 5 +0 5 +0 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 0 +0 0 +0 24 +2 24 +2 Total Software Ready for Testing 3.5.28 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201123/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201130/","text":"OSG Technology Area Meeting, 30 November 2020 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Junheng, Marco Mambelli, Mat, TimT Announcements \u00b6 Second Kubernetes-HEP meetup Dec 1 and 2: https://indico.cern.ch/event/968726/ Triage Duty \u00b6 This week: Mat Next week: Tim 7 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 141 -5 Open 15 -1 Selected for Dev 22 +2 In Progress 16 +2 Dev Complete 22 -2 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 HTCondor-CE + PBS EPEL testing nightlies job submissions are failing Software base image builds are failing due to \"invalid tag\" (maybe leading space?): https://github.com/opensciencegrid/docker-software-base/runs/1437033352?check_suite_focus=true#step:7:16 Discussion \u00b6 AI (TimT): will investigate HTCondor-CE + PBS EPEL testing failures; may require BLAHP fixes AI (Marco): Contact Mats Rynge for TOKEN support for the ITB FE. AI (Carl): Multi site support for pilot probe GHA for per-commit builds for gratia-probe Support Update \u00b6 None this week OSG Investigations Team \u00b6 No updates Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.28 \u0394 Status 8 -4 Open 3 +0 Selected for Development 2 +1 In Progress 5 +3 Development Complete 5 +0 Ready for Testing 0 +0 Ready for Release 23 +0 Total Software Ready for Testing 3.5.28 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 No release expected this week Waiting for Dave Mason to get people to test XRootD 4.","title":"November 30, 2020"},{"location":"meetings/2020/TechArea20201130/#osg-technology-area-meeting-30-november-2020","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Junheng, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 30 November 2020"},{"location":"meetings/2020/TechArea20201130/#announcements","text":"Second Kubernetes-HEP meetup Dec 1 and 2: https://indico.cern.ch/event/968726/","title":"Announcements"},{"location":"meetings/2020/TechArea20201130/#triage-duty","text":"This week: Mat Next week: Tim 7 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201130/#jira","text":"# of tickets \u0394 State 141 -5 Open 15 -1 Selected for Dev 22 +2 In Progress 16 +2 Dev Complete 22 -2 Ready for Testing 0 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201130/#osg-software-team","text":"HTCondor-CE + PBS EPEL testing nightlies job submissions are failing Software base image builds are failing due to \"invalid tag\" (maybe leading space?): https://github.com/opensciencegrid/docker-software-base/runs/1437033352?check_suite_focus=true#step:7:16","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201130/#discussion","text":"AI (TimT): will investigate HTCondor-CE + PBS EPEL testing failures; may require BLAHP fixes AI (Marco): Contact Mats Rynge for TOKEN support for the ITB FE. AI (Carl): Multi site support for pilot probe GHA for per-commit builds for gratia-probe","title":"Discussion"},{"location":"meetings/2020/TechArea20201130/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2020/TechArea20201130/#osg-investigations-team","text":"No updates","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201130/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201130/#osg-release-team","text":"3.5.28 \u0394 Status 8 -4 Open 3 +0 Selected for Development 2 +1 In Progress 5 +3 Development Complete 5 +0 Ready for Testing 0 +0 Ready for Release 23 +0 Total Software Ready for Testing 3.5.28 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201130/#discussion_2","text":"No release expected this week Waiting for Dave Mason to get people to test XRootD 4.","title":"Discussion"},{"location":"meetings/2020/TechArea20201207/","text":"OSG Technology Area Meeting, 7 December 2020 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianB, BrianL, Junheng, Marco Mambelli, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Tim Next week: BrianL (?) 10 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 144 +0 Open 12 -1 Selected for Dev 26 +2 In Progress 18 -1 Dev Complete 22 +6 Ready for Testing 7 +7 Ready for Release OSG Software Team \u00b6 EL8 builds appear to automatically add package requirements for shebang lines. Beware /usr/bin/env python3 ! Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 Discussion \u00b6 Marco: GWMS 3.7.2 released, includes bugfixes for IDTOKEN support; in upcoming-testing.AI (Mat): Submit bug report for XRootD 5.1.0rc1 problem detected in VMU tests. AI (Mat): Mail GridCF list about Travis CI's policy changes. AI (Mat): Ask Marco Mascheroni if he's happy with the new Pilot sections for OSG Configure. AI (Mat): Continue work on OSG flocking negotiator. AI (BrianL): Investigate webapp frameworks and EL 8 compatibility for HTCondor CE View. AI (Junheng): Investigate registry logout error. AI (TimT): Add PowerPC support to EPEL HTCondor packages. VPN access now required to log in to Fermicloud head node (fcluigpvm01.fnal.gov). 2FA required to access Fermi VPN. Steve Timm's suggested solution is to create a (persistent) VM for creating other VMs if that's not possible. Marco will send instructions on how to get access to Fermi VPN. Support Update \u00b6 IceCube (Mat, Derek): Stash Origin now appears to work after creating dummy SciTokens information in Topology. UCL stash origin needed the same fix but needs additional debugging; Derek is providing assistance. JLab (BrianL): blahp status queries time out trying to populate the Slurm job status cache. Opened a ticket with the the HTCondor team: https://opensciencegrid.atlassian.net/browse/HTCONDOR-104 OSG Investigations Team \u00b6 No updates Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.28 \u0394 Status 7 -1 Open 2 -1 Selected for Development 4 +2 In Progress 5 +0 Development Complete 9 +4 Ready for Testing 0 +0 Ready for Release 27 +4 Total Software Ready for Testing 3.5.28 HTCondor 8.8.12 Upcoming: HTCondor 8.9.10 hosted-ce-tools 0.9 htgettoken 1.0 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Containers opensciencegrid/atlas-xcache:fresh opensciencegrid/cms-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI(TimT): promote osg-build to devops Release expected this week Waiting for Dave Mason to get people to test XRootD 4.","title":"December 7, 2020"},{"location":"meetings/2020/TechArea20201207/#osg-technology-area-meeting-7-december-2020","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianB, BrianL, Junheng, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting,  7 December 2020"},{"location":"meetings/2020/TechArea20201207/#announcements","text":"","title":"Announcements"},{"location":"meetings/2020/TechArea20201207/#triage-duty","text":"This week: Tim Next week: BrianL (?) 10 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201207/#jira","text":"# of tickets \u0394 State 144 +0 Open 12 -1 Selected for Dev 26 +2 In Progress 18 -1 Dev Complete 22 +6 Ready for Testing 7 +7 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201207/#osg-software-team","text":"EL8 builds appear to automatically add package requirements for shebang lines. Beware /usr/bin/env python3 ! Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201207/#discussion","text":"Marco: GWMS 3.7.2 released, includes bugfixes for IDTOKEN support; in upcoming-testing.AI (Mat): Submit bug report for XRootD 5.1.0rc1 problem detected in VMU tests. AI (Mat): Mail GridCF list about Travis CI's policy changes. AI (Mat): Ask Marco Mascheroni if he's happy with the new Pilot sections for OSG Configure. AI (Mat): Continue work on OSG flocking negotiator. AI (BrianL): Investigate webapp frameworks and EL 8 compatibility for HTCondor CE View. AI (Junheng): Investigate registry logout error. AI (TimT): Add PowerPC support to EPEL HTCondor packages. VPN access now required to log in to Fermicloud head node (fcluigpvm01.fnal.gov). 2FA required to access Fermi VPN. Steve Timm's suggested solution is to create a (persistent) VM for creating other VMs if that's not possible. Marco will send instructions on how to get access to Fermi VPN.","title":"Discussion"},{"location":"meetings/2020/TechArea20201207/#support-update","text":"IceCube (Mat, Derek): Stash Origin now appears to work after creating dummy SciTokens information in Topology. UCL stash origin needed the same fix but needs additional debugging; Derek is providing assistance. JLab (BrianL): blahp status queries time out trying to populate the Slurm job status cache. Opened a ticket with the the HTCondor team: https://opensciencegrid.atlassian.net/browse/HTCONDOR-104","title":"Support Update"},{"location":"meetings/2020/TechArea20201207/#osg-investigations-team","text":"No updates","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201207/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201207/#osg-release-team","text":"3.5.28 \u0394 Status 7 -1 Open 2 -1 Selected for Development 4 +2 In Progress 5 +0 Development Complete 9 +4 Ready for Testing 0 +0 Ready for Release 27 +4 Total Software Ready for Testing 3.5.28 HTCondor 8.8.12 Upcoming: HTCondor 8.9.10 hosted-ce-tools 0.9 htgettoken 1.0 XRootD 4.12.5 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.28 Nothing yet Containers opensciencegrid/atlas-xcache:fresh opensciencegrid/cms-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201207/#discussion_2","text":"AI(TimT): promote osg-build to devops Release expected this week Waiting for Dave Mason to get people to test XRootD 4.","title":"Discussion"},{"location":"meetings/2020/TechArea20201214/","text":"OSG Technology Area Meeting, 14 December 2020 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Junheng, Marco Mambelli, Marian, Mat, Tim C, Tim T Announcements \u00b6 Outages through the end of the year: Mat starting Dec 21 Carl starting Dec 23 BrianL starting Dec 24 Potentially moving this meeting to handle ATLAS Tech Coordination Board conflicts Triage Duty \u00b6 This week: Carl Next week: BrianL 13 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 145 +1 Open 12 +0 Selected for Dev 25 -1 In Progress 16 -2 Dev Complete 17 -5 Ready for Testing 7 +0 Ready for Release OSG Software Team \u00b6 EL8 builds appear to automatically add package requirements for shebang lines. Beware /usr/bin/env python3 ! Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 Discussion \u00b6 AI (Carl): New IGTF CA release; update XRootD to 4.12.6. AI (Carl): Investigate bug in generating the CA certs website (lower priority since we can fix it manually) AI (Junheng): Fix location for registry PR; apply changes from review of 'outdated packages' Marco: Working on adding GitHub Actions and plans to use artifacts instead of caches since the former is longer lived AI (Mat): Ensure GridCF can make a GCT release AI (TimT): Prepare for new CA release. AI (TimT): Automate BOSCO and tarball updates; create tarballs for PPC architecture.Announcements: Support Update \u00b6 CMS (Marian): European CMS still mostly on XRootD 4 due to AAA dependency; still discussing migration plans. Miron (Carl): Continue investigating issues with Compute Canada sites erroneously showing up in the CC* dashboard UCL (Mat): Help UCL test authenticated stash origin. Discuss with Derek and Brian B about what kind of authentication is desired. OSG Investigations Team \u00b6 Focus on migrating more GRACC services to Tiger Establish documentation for the GRACC rolling update and fresh install Added and deployed SciToken helper support to OASIS Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.29 \u0394 Status 10 +3 Open 2 +0 Selected for Development 5 +1 In Progress 5 +0 Development Complete 4 -5 Ready for Testing 0 +0 Ready for Release 26 -1 Total Software Ready for Testing 3.5.29 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data IGTF 1.108 Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"December 14, 2020"},{"location":"meetings/2020/TechArea20201214/#osg-technology-area-meeting-14-december-2020","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Junheng, Marco Mambelli, Marian, Mat, Tim C, Tim T","title":"OSG Technology Area Meeting, 14 December 2020"},{"location":"meetings/2020/TechArea20201214/#announcements","text":"Outages through the end of the year: Mat starting Dec 21 Carl starting Dec 23 BrianL starting Dec 24 Potentially moving this meeting to handle ATLAS Tech Coordination Board conflicts","title":"Announcements"},{"location":"meetings/2020/TechArea20201214/#triage-duty","text":"This week: Carl Next week: BrianL 13 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201214/#jira","text":"# of tickets \u0394 State 145 +1 Open 12 +0 Selected for Dev 25 -1 In Progress 16 -2 Dev Complete 17 -5 Ready for Testing 7 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201214/#osg-software-team","text":"EL8 builds appear to automatically add package requirements for shebang lines. Beware /usr/bin/env python3 ! Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201214/#discussion","text":"AI (Carl): New IGTF CA release; update XRootD to 4.12.6. AI (Carl): Investigate bug in generating the CA certs website (lower priority since we can fix it manually) AI (Junheng): Fix location for registry PR; apply changes from review of 'outdated packages' Marco: Working on adding GitHub Actions and plans to use artifacts instead of caches since the former is longer lived AI (Mat): Ensure GridCF can make a GCT release AI (TimT): Prepare for new CA release. AI (TimT): Automate BOSCO and tarball updates; create tarballs for PPC architecture.Announcements:","title":"Discussion"},{"location":"meetings/2020/TechArea20201214/#support-update","text":"CMS (Marian): European CMS still mostly on XRootD 4 due to AAA dependency; still discussing migration plans. Miron (Carl): Continue investigating issues with Compute Canada sites erroneously showing up in the CC* dashboard UCL (Mat): Help UCL test authenticated stash origin. Discuss with Derek and Brian B about what kind of authentication is desired.","title":"Support Update"},{"location":"meetings/2020/TechArea20201214/#osg-investigations-team","text":"Focus on migrating more GRACC services to Tiger Establish documentation for the GRACC rolling update and fresh install Added and deployed SciToken helper support to OASIS","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201214/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201214/#osg-release-team","text":"3.5.29 \u0394 Status 10 +3 Open 2 +0 Selected for Development 5 +1 In Progress 5 +0 Development Complete 4 -5 Ready for Testing 0 +0 Ready for Release 26 -1 Total Software Ready for Testing 3.5.29 EL8: bunch of stuff (still waiting for HTCondor-CE) Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data IGTF 1.108 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201214/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201221/","text":"OSG Technology Area Meeting, 21 December 2020 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianB, BrianL, Carl, Irene, Junheng, Marco, Marian, TimT Announcements \u00b6 Outages through the end of the year: Mat starting Dec 21 Carl starting Dec 23 BrianL starting Dec 24 Potentially moving this meeting to handle ATLAS Tech Coordination Board conflicts Cancelling next week's meeting, to resume on Jan 4 Triage Duty \u00b6 This week: BrianL Next week: TimT 15 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket JIRA \u00b6 # of tickets \u0394 State 133 -12 Open 12 +0 Selected for Dev 31 +6 In Progress 17 +1 Dev Complete 18 +1 Ready for Testing 7 +0 Ready for Release OSG Software Team \u00b6 Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 Discussion \u00b6 AI (BrianL): Move new site onboarding engagement Freshdesk tickets to the Operations group Support Update \u00b6 IceCube (BrianL): completing request to require Singularity for IceCube pilots; continuing a discussion with David to see how we should manage the shared IceCube/GLOW pilots MIT (BrianL): troubleshooting GPU jobs not matching, turned out to be due to an old version of HTCondor OSG Investigations Team \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January XCache(s): deployed new Wisconsin cache to osg-config repo XRootD data transfer monitor close to complete (testing and validation) GRACC (continued progress): migrating more GRACC services to Tiger documentation for the GRACC rolling update and fresh install Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.29 \u0394 Status 4 +6 Open 1 -1 Selected for Development 6 +1 In Progress 5 +0 Development Complete 4 +0 Ready for Testing 0 +0 Ready for Release 20 -6 Total Software Ready for Testing 3.5.29 EL8: various things, needs review Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale container tickets","title":"December 21, 2020"},{"location":"meetings/2020/TechArea20201221/#osg-technology-area-meeting-21-december-2020","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianB, BrianL, Carl, Irene, Junheng, Marco, Marian, TimT","title":"OSG Technology Area Meeting, 21 December 2020"},{"location":"meetings/2020/TechArea20201221/#announcements","text":"Outages through the end of the year: Mat starting Dec 21 Carl starting Dec 23 BrianL starting Dec 24 Potentially moving this meeting to handle ATLAS Tech Coordination Board conflicts Cancelling next week's meeting, to resume on Jan 4","title":"Announcements"},{"location":"meetings/2020/TechArea20201221/#triage-duty","text":"This week: BrianL Next week: TimT 15 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2020/TechArea20201221/#jira","text":"# of tickets \u0394 State 133 -12 Open 12 +0 Selected for Dev 31 +6 In Progress 17 +1 Dev Complete 18 +1 Ready for Testing 7 +0 Ready for Release","title":"JIRA"},{"location":"meetings/2020/TechArea20201221/#osg-software-team","text":"Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19","title":"OSG Software Team"},{"location":"meetings/2020/TechArea20201221/#discussion","text":"AI (BrianL): Move new site onboarding engagement Freshdesk tickets to the Operations group","title":"Discussion"},{"location":"meetings/2020/TechArea20201221/#support-update","text":"IceCube (BrianL): completing request to require Singularity for IceCube pilots; continuing a discussion with David to see how we should manage the shared IceCube/GLOW pilots MIT (BrianL): troubleshooting GPU jobs not matching, turned out to be due to an old version of HTCondor","title":"Support Update"},{"location":"meetings/2020/TechArea20201221/#osg-investigations-team","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January XCache(s): deployed new Wisconsin cache to osg-config repo XRootD data transfer monitor close to complete (testing and validation) GRACC (continued progress): migrating more GRACC services to Tiger documentation for the GRACC rolling update and fresh install","title":"OSG Investigations Team"},{"location":"meetings/2020/TechArea20201221/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2020/TechArea20201221/#osg-release-team","text":"3.5.29 \u0394 Status 4 +6 Open 1 -1 Selected for Development 6 +1 In Progress 5 +0 Development Complete 4 +0 Ready for Testing 0 +0 Ready for Release 20 -6 Total Software Ready for Testing 3.5.29 EL8: various things, needs review Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2020/TechArea20201221/#discussion_2","text":"AI (TimT): clean up stale container tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210104/","text":"OSG Technology Area Meeting, 4 January 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian B, Brian L, Carl, Derek, Marian, Mat, Tim T Announcements \u00b6 Moving this meeting to Tuesdays after standup starting next week (Jan 12) Triage Duty \u00b6 This week: BrianL Next week: Mat 12 (-3) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 135 +2 Open 12 +0 Selected for Dev 29 +0 In Progress 15 +0 Dev Complete 23 +0 Ready for Testing 7 +0 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Switching to a rolling releases within a release series Separate upcoming repositories for 3.5 and 3.6 Docker tags switching to release/testing, tracking the RPM repos Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19 Discussion \u00b6 AI (Carl): test partial records for Condor Gratia probe AI (Carl): GHA for per-commit builds for Gratia probes Support Update \u00b6 None this week OSG Investigations Team \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. Will catch up on status at later standup. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install Next rolling update date? APEL Reporting - Should we update to the new AMS. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.29 \u0394 Status 6 +2 Open 0 -1 Selected for Development 6 +0 In Progress 5 +0 Development Complete 5 +1 Ready for Testing 0 +0 Ready for Release 22 +2 Total Software Ready for Testing 3.5.29 GlideinWMS 3.7.2 Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale container tickets","title":"January 4, 2021"},{"location":"meetings/2021/TechArea20210104/#osg-technology-area-meeting-4-january-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian B, Brian L, Carl, Derek, Marian, Mat, Tim T","title":"OSG Technology Area Meeting,  4 January 2021"},{"location":"meetings/2021/TechArea20210104/#announcements","text":"Moving this meeting to Tuesdays after standup starting next week (Jan 12)","title":"Announcements"},{"location":"meetings/2021/TechArea20210104/#triage-duty","text":"This week: BrianL Next week: Mat 12 (-3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210104/#jira","text":"# of tickets \u0394 State 135 +2 Open 12 +0 Selected for Dev 29 +0 In Progress 15 +0 Dev Complete 23 +0 Ready for Testing 7 +0 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210104/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Switching to a rolling releases within a release series Separate upcoming repositories for 3.5 and 3.6 Docker tags switching to release/testing, tracking the RPM repos Tech area plates: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=19","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210104/#discussion","text":"AI (Carl): test partial records for Condor Gratia probe AI (Carl): GHA for per-commit builds for Gratia probes","title":"Discussion"},{"location":"meetings/2021/TechArea20210104/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2021/TechArea20210104/#osg-investigations-team","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. Will catch up on status at later standup. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install Next rolling update date? APEL Reporting - Should we update to the new AMS.","title":"OSG Investigations Team"},{"location":"meetings/2021/TechArea20210104/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210104/#osg-release-team","text":"3.5.29 \u0394 Status 6 +2 Open 0 -1 Selected for Development 6 +0 In Progress 5 +0 Development Complete 5 +1 Ready for Testing 0 +0 Ready for Release 22 +2 Total Software Ready for Testing 3.5.29 GlideinWMS 3.7.2 Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210104/#discussion_2","text":"AI (TimT): clean up stale container tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210112/","text":"OSG Technology Area Meeting, 12 January 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian B, Brian L, Carl, Marco Mambelli, Marian, Mat, Tim T Announcements \u00b6 Kubernetes hackathon today UCSD, UNL, UW-Madison all OOO for MLK day next Monday Triage Duty \u00b6 Freshdesk priority increased for Software team This week: Mat Next week: Carl 12 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 135 +2 Open 12 +0 Selected for Dev 29 +0 In Progress 15 +0 Dev Complete 23 +0 Ready for Testing 7 +0 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI TimT/BrianL: Release/container policy docs Koji infrastructure setup tasks TimT noticed XRootD TPC test failures in the nightlies: Edgar added a test for multi-stream TPC that is known to be an issue and we're waiting on an upstream fix Discussion \u00b6 Marco: Testing Python 3 version of GWMS 3.9.1 (rc3); also making the periodic setup script working under Singularity. Had some difficulty splitting out HTTPD parts into a separate RPM, but fixed now. Dennis working on contacting schedds with SciTokens. Support Update \u00b6 IceCube (BrianL): having authentication/certs issues with the CHTC GWMS pool; suspecting old versions of EL6/OSG/Condor. NDSU (BrianL): will be contributing their resources via a private cloud (Lancium) and a custom scheduler; BrianL helping with registration details, and we Carl verified that we're seeing accounting records from them in Kibana. UCSD (Carl): Assist HPC cluster admins with Gratia probe issues OSG Investigations Team \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install next rolling update scheduled for the end of the month APEL Reporting - still investigating whether should we update to the new AMS Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.29 \u0394 Status 5 -1 Open 0 +0 Selected for Development 5 -1 In Progress 3 -2 Development Complete 11 +6 Ready for Testing 0 +0 Ready for Release 24 +2 Total Software Ready for Testing 3.5.29 htgettoken 1.1 osg-configure 3.11.0 GlideinWMS 3.7.2 Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale container tickets","title":"January 12, 2021"},{"location":"meetings/2021/TechArea20210112/#osg-technology-area-meeting-12-january-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian B, Brian L, Carl, Marco Mambelli, Marian, Mat, Tim T","title":"OSG Technology Area Meeting, 12 January 2021"},{"location":"meetings/2021/TechArea20210112/#announcements","text":"Kubernetes hackathon today UCSD, UNL, UW-Madison all OOO for MLK day next Monday","title":"Announcements"},{"location":"meetings/2021/TechArea20210112/#triage-duty","text":"Freshdesk priority increased for Software team This week: Mat Next week: Carl 12 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210112/#jira","text":"# of tickets \u0394 State 135 +2 Open 12 +0 Selected for Dev 29 +0 In Progress 15 +0 Dev Complete 23 +0 Ready for Testing 7 +0 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210112/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI TimT/BrianL: Release/container policy docs Koji infrastructure setup tasks TimT noticed XRootD TPC test failures in the nightlies: Edgar added a test for multi-stream TPC that is known to be an issue and we're waiting on an upstream fix","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210112/#discussion","text":"Marco: Testing Python 3 version of GWMS 3.9.1 (rc3); also making the periodic setup script working under Singularity. Had some difficulty splitting out HTTPD parts into a separate RPM, but fixed now. Dennis working on contacting schedds with SciTokens.","title":"Discussion"},{"location":"meetings/2021/TechArea20210112/#support-update","text":"IceCube (BrianL): having authentication/certs issues with the CHTC GWMS pool; suspecting old versions of EL6/OSG/Condor. NDSU (BrianL): will be contributing their resources via a private cloud (Lancium) and a custom scheduler; BrianL helping with registration details, and we Carl verified that we're seeing accounting records from them in Kibana. UCSD (Carl): Assist HPC cluster admins with Gratia probe issues","title":"Support Update"},{"location":"meetings/2021/TechArea20210112/#osg-investigations-team","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install next rolling update scheduled for the end of the month APEL Reporting - still investigating whether should we update to the new AMS","title":"OSG Investigations Team"},{"location":"meetings/2021/TechArea20210112/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210112/#osg-release-team","text":"3.5.29 \u0394 Status 5 -1 Open 0 +0 Selected for Development 5 -1 In Progress 3 -2 Development Complete 11 +6 Ready for Testing 0 +0 Ready for Release 24 +2 Total Software Ready for Testing 3.5.29 htgettoken 1.1 osg-configure 3.11.0 GlideinWMS 3.7.2 Ready for Release 3.5.29 Nothing yet Containers To Be Tested opensciencegrid/atlas-xcache:fresh opensciencegrid/frontier-squid:fresh opensciencegrid/hosted-ce:fresh opensciencegrid/stash-cache:fresh opensciencegrid/stash-origin:fresh Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210112/#discussion_2","text":"AI (TimT): clean up stale container tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210119/","text":"OSG Technology Area Meeting, 19 January 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Marco Mambelli, Marian, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Carl Next week: Mat 10 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 133 -2 Open 17 +2 Selected for Dev 30 +1 In Progress 16 -3 Dev Complete 29 +4 Ready for Testing 8 +1 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI (TimT/BrianL): Release/container policy docs AI (Mat): Add support to osg-build for 3.5-upcoming AI (Carl): Set up 3.6 and 3.6-upcoming SVN branches; begin putting together 3.6 Koji tags and repos AI (Mat): Review Derek's multiuser PR AI (Carl): XRootD 5.1.0 RC5 is ready to be built and tested OSG and GLOW VO certificates expire on Feb 23 Discussion \u00b6 AI (Brian): IGTF has a new release Marco was wondering about the status of GlideinWMS 3.7.2: external testing has passed and it is ready to be released Support Update \u00b6 None this week OSG Investigations Team \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install next rolling update scheduled for the end of the month APEL Reporting - still investigating whether should we update to the new AMS Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.29 \u0394 Status 5 +0 Open 1 +1 Selected for Development 7 +2 In Progress 1 -1 Development Complete 11 +6 Ready for Testing 1 +1 Ready for Release 32 +8 Total Software Ready for Testing 3.5.29 Upcoming: HTCondor 8.9.11 htgettoken 1.1 osg-configure 3.11.0 Ready for Release 3.5.29 GlideinWMS 3.7.2 (EL7 Only) Data IGTF 1.109 Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale container tickets","title":"January 19, 2021"},{"location":"meetings/2021/TechArea20210119/#osg-technology-area-meeting-19-january-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Marco Mambelli, Marian, TimT","title":"OSG Technology Area Meeting, 19 January 2021"},{"location":"meetings/2021/TechArea20210119/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210119/#triage-duty","text":"This week: Carl Next week: Mat 10 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210119/#jira","text":"# of tickets \u0394 State 133 -2 Open 17 +2 Selected for Dev 30 +1 In Progress 16 -3 Dev Complete 29 +4 Ready for Testing 8 +1 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210119/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI (TimT/BrianL): Release/container policy docs AI (Mat): Add support to osg-build for 3.5-upcoming AI (Carl): Set up 3.6 and 3.6-upcoming SVN branches; begin putting together 3.6 Koji tags and repos AI (Mat): Review Derek's multiuser PR AI (Carl): XRootD 5.1.0 RC5 is ready to be built and tested OSG and GLOW VO certificates expire on Feb 23","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210119/#discussion","text":"AI (Brian): IGTF has a new release Marco was wondering about the status of GlideinWMS 3.7.2: external testing has passed and it is ready to be released","title":"Discussion"},{"location":"meetings/2021/TechArea20210119/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2021/TechArea20210119/#osg-investigations-team","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install next rolling update scheduled for the end of the month APEL Reporting - still investigating whether should we update to the new AMS","title":"OSG Investigations Team"},{"location":"meetings/2021/TechArea20210119/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210119/#osg-release-team","text":"3.5.29 \u0394 Status 5 +0 Open 1 +1 Selected for Development 7 +2 In Progress 1 -1 Development Complete 11 +6 Ready for Testing 1 +1 Ready for Release 32 +8 Total Software Ready for Testing 3.5.29 Upcoming: HTCondor 8.9.11 htgettoken 1.1 osg-configure 3.11.0 Ready for Release 3.5.29 GlideinWMS 3.7.2 (EL7 Only) Data IGTF 1.109 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210119/#discussion_2","text":"AI (TimT): clean up stale container tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210126/","text":"OSG Technology Area Meeting, 26 January 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Mat, Tim T Announcements \u00b6 Triage Duty \u00b6 This week: Mat Next week: TimT 4 (-6) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 134 +1 Open 15 -2 Selected for Dev 30 +0 In Progress 21 +5 Dev Complete 21 -8 Ready for Testing 8 +0 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI (TimT): Rolling release policy doc AI (TimT): Send reminder announcement for OSG 3.6 AI (Mat): Add support to osg-build for 3.5-upcoming OSG 3.5.30 AI (Carl): Add missing LE root cert (SOFTWARE-4436) AI (Mat): Review Derek's multiuser PR ( https://github.com/opensciencegrid/xrootd-multiuser/pull/17 ) AI (Carl): Release gratia-probe (SOFTWARE-4348) AI (Carl): Uppdate SciTokens library to 1.3.1 (SOFTWARE-4439) OSG and GLOW VO certificates expire on Feb 23 Discussion \u00b6 AI (Brian): Debug crashes in new Python 3 version of HTCondor-CE AI (Brian): Update XCache configuration to work with XRootD 5.1 Marco is testing a full GWMS system without X.509 Support Update \u00b6 Carl: Gratia Probe issues noticed by Marty Kandes (fixed) Marco: GlideinWMS issues brought up by user support OSG Investigations Team \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install next rolling update scheduled for the end of the month APEL Reporting - still investigating whether should we update to the new AMS Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.30 \u0394 Status 8 +3 Open 2 +1 Selected for Development 10 +3 In Progress 4 +3 Development Complete 6 -5 Ready for Testing 1 +0 Ready for Release 31 +5 Total Software Ready for Testing 3.5.30 Upcoming: HTCondor 8.9.11 Ready for Release 3.5.30 XRootD 4.12.6 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale container tickets","title":"January 26, 2021"},{"location":"meetings/2021/TechArea20210126/#osg-technology-area-meeting-26-january-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Mat, Tim T","title":"OSG Technology Area Meeting, 26 January 2021"},{"location":"meetings/2021/TechArea20210126/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210126/#triage-duty","text":"This week: Mat Next week: TimT 4 (-6) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210126/#jira","text":"# of tickets \u0394 State 134 +1 Open 15 -2 Selected for Dev 30 +0 In Progress 21 +5 Dev Complete 21 -8 Ready for Testing 8 +0 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210126/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI (TimT): Rolling release policy doc AI (TimT): Send reminder announcement for OSG 3.6 AI (Mat): Add support to osg-build for 3.5-upcoming OSG 3.5.30 AI (Carl): Add missing LE root cert (SOFTWARE-4436) AI (Mat): Review Derek's multiuser PR ( https://github.com/opensciencegrid/xrootd-multiuser/pull/17 ) AI (Carl): Release gratia-probe (SOFTWARE-4348) AI (Carl): Uppdate SciTokens library to 1.3.1 (SOFTWARE-4439) OSG and GLOW VO certificates expire on Feb 23","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210126/#discussion","text":"AI (Brian): Debug crashes in new Python 3 version of HTCondor-CE AI (Brian): Update XCache configuration to work with XRootD 5.1 Marco is testing a full GWMS system without X.509","title":"Discussion"},{"location":"meetings/2021/TechArea20210126/#support-update","text":"Carl: Gratia Probe issues noticed by Marty Kandes (fixed) Marco: GlideinWMS issues brought up by user support","title":"Support Update"},{"location":"meetings/2021/TechArea20210126/#osg-investigations-team","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: testing close to complete, deploy in January. GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install next rolling update scheduled for the end of the month APEL Reporting - still investigating whether should we update to the new AMS","title":"OSG Investigations Team"},{"location":"meetings/2021/TechArea20210126/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210126/#osg-release-team","text":"3.5.30 \u0394 Status 8 +3 Open 2 +1 Selected for Development 10 +3 In Progress 4 +3 Development Complete 6 -5 Ready for Testing 1 +0 Ready for Release 31 +5 Total Software Ready for Testing 3.5.30 Upcoming: HTCondor 8.9.11 Ready for Release 3.5.30 XRootD 4.12.6 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210126/#discussion_2","text":"AI (TimT): clean up stale container tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210202/","text":"OSG Technology Area Meeting, 2 February 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Marian, Tim T Announcements \u00b6 dHTC campus workshop Feb 8-9 OSG All Hands March 1-5 Triage Duty \u00b6 This week: TimT Next week: ??? 5 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 130 -1 Open 15 +0 Selected for Dev 32 +2 In Progress 13 -8 Dev Complete 37 +16 Ready for Testing 8 +0 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI (TimT): Send reminder announcement for OSG 3.6 AI (Mat): Add support to osg-build for 3.5-upcoming/3.6 AI (Mat): Token issuer packaging Release-specific devops tags voted unnecessary Time to start building! Spreadsheet incoming Still need to add token tests Dev work still needed for gratia-probe, osg-configure, and HTCondor-CE OSG 3.5.31 AI (Carl): Convert SGE Gratia probe to be Python 2/3 compatible AI (Carl): Fix repo-update-cadist link generation bug. OSG and GLOW VO certificates expire on Feb 23 AI (Mat): Help UW infrastructure team with the renewal process. Discussion \u00b6 Marco attending the CVMFS workshop; gave a presentation on cvmfs-exec yesterday. Carl will shadow Marian during the GRACC upgrade. Support Update \u00b6 Brian L: Call with Villanova about setting up a submit node dedicated to OSG. Marco: Adding a fix to the Singularity wrapper that was requested by Mats Rynge. Mat: Debugging LCMAPS for UFlorida. OSG DevOps \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: In production on tiger. Let us know if you see problems! GRACC (continued progress): GRACC Request is on tiger now. migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install Rolling update is starting this week. APEL Reporting - still investigating whether should we update to the new AMS Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.31 \u0394 Status 8 +0 Open 2 +0 Selected for Development 4 -6 In Progress 2 -2 Development Complete 18 +12 Ready for Testing 5 +4 Ready for Release 39 +8 Total Software Ready for Testing 3.5.31 gratia-probe 1.22.3 osg-flock 1.3 scitokens Python library 1.3.1 Ready for Release 3.5.31 CVMFS 2.8.0 osg-release 3.5-5 XRootD 4.12.6 lcmaps for EL8 Data osg-ca-certs 1.94 Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale container tickets","title":"February 2, 2021"},{"location":"meetings/2021/TechArea20210202/#osg-technology-area-meeting-2-february-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Marian, Tim T","title":"OSG Technology Area Meeting,  2 February 2021"},{"location":"meetings/2021/TechArea20210202/#announcements","text":"dHTC campus workshop Feb 8-9 OSG All Hands March 1-5","title":"Announcements"},{"location":"meetings/2021/TechArea20210202/#triage-duty","text":"This week: TimT Next week: ??? 5 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210202/#jira","text":"# of tickets \u0394 State 130 -1 Open 15 +0 Selected for Dev 32 +2 In Progress 13 -8 Dev Complete 37 +16 Ready for Testing 8 +0 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210202/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) AI (TimT): Send reminder announcement for OSG 3.6 AI (Mat): Add support to osg-build for 3.5-upcoming/3.6 AI (Mat): Token issuer packaging Release-specific devops tags voted unnecessary Time to start building! Spreadsheet incoming Still need to add token tests Dev work still needed for gratia-probe, osg-configure, and HTCondor-CE OSG 3.5.31 AI (Carl): Convert SGE Gratia probe to be Python 2/3 compatible AI (Carl): Fix repo-update-cadist link generation bug. OSG and GLOW VO certificates expire on Feb 23 AI (Mat): Help UW infrastructure team with the renewal process.","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210202/#discussion","text":"Marco attending the CVMFS workshop; gave a presentation on cvmfs-exec yesterday. Carl will shadow Marian during the GRACC upgrade.","title":"Discussion"},{"location":"meetings/2021/TechArea20210202/#support-update","text":"Brian L: Call with Villanova about setting up a submit node dedicated to OSG. Marco: Adding a fix to the Singularity wrapper that was requested by Mats Rynge. Mat: Debugging LCMAPS for UFlorida.","title":"Support Update"},{"location":"meetings/2021/TechArea20210202/#osg-devops","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page Topology: In production on tiger. Let us know if you see problems! GRACC (continued progress): GRACC Request is on tiger now. migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install Rolling update is starting this week. APEL Reporting - still investigating whether should we update to the new AMS","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210202/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210202/#osg-release-team","text":"3.5.31 \u0394 Status 8 +0 Open 2 +0 Selected for Development 4 -6 In Progress 2 -2 Development Complete 18 +12 Ready for Testing 5 +4 Ready for Release 39 +8 Total Software Ready for Testing 3.5.31 gratia-probe 1.22.3 osg-flock 1.3 scitokens Python library 1.3.1 Ready for Release 3.5.31 CVMFS 2.8.0 osg-release 3.5-5 XRootD 4.12.6 lcmaps for EL8 Data osg-ca-certs 1.94 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210202/#discussion_2","text":"AI (TimT): clean up stale container tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210209/","text":"OSG Technology Area Meeting, 9 February 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco Mambelli, Marian, Mat, Tim T Announcements \u00b6 dHTC campus workshop today! OSG All Hands March 1-5 Mat, BrianL out this Friday Triage Duty \u00b6 This week: Carl Next week: BrianL 3 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 138 +8 Open 12 -3 Selected for Dev 34 +2 In Progress 15 +2 Dev Complete 34 -3 Ready for Testing 1 -7 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Package build tasks ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4475 ) AI (Carl): Consolidate Gratia probes ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4467 ) AI (Mat): Release osg-configure 4.0.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4468 ) AI (Carl, Mat): Make upcoming \u2190\u2192 3.5-upcoming switch (tomorrow 2/10) OSG 3.5.32 AI (Mat): Token issuer packaging AI (Carl): Release Python 3 compatible gratia probe Doc Focus Feb 25 Discussion \u00b6 Doc focus will concentrate on 3.6 documentation; those who can make it should use the whole day GlideinWMS 3.9.1 will be released later today Support Update \u00b6 Carl: Support ticket for batch vs payload core hour discrepancy (needs further investigation and will be tracked in JIRA instead) Helping Daniel Caunt at Harvard with Topology registration Working with Lincoln B to help UIUC work around CE problems caused by deletion of state at boot time Derek: Working with Purdue to try and resolve missing Gratia data caused by their SLURM database going down and the CE not creating history entries on job removal; BrianL says the latter may be by design These kinds of issues should stop happening once we move to the HTCondor-CE probe instead of the batch system probes OSG DevOps \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install Rolling update is starting this week. APEL Reporting - still investigating whether should we update to the new AMS Gratia probe update for queue time metric XRootD accounting information (from Frank): Table of working set, read, and re-read for monthly, quarterly, and year. Map of StashCache origins and caches. Discussing implementation details with Tim. XRootD Monitoring collector changes from validation. So far, just monitoring updates, no functionality changes. Will deploy as necessary. Discussion with John about persistent state Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.32 \u0394 Status 8 +0 Open 2 +0 Selected for Development 4 +0 In Progress 2 +0 Development Complete 17 -1 Ready for Testing 0 -5 Ready for Release 33 -6 Total Software Ready for Testing gratia-probe 1.22.3 (partially) osg-ce 3.5-6 xcache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale RFT tickets","title":"February 9, 2021"},{"location":"meetings/2021/TechArea20210209/#osg-technology-area-meeting-9-february-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco Mambelli, Marian, Mat, Tim T","title":"OSG Technology Area Meeting,  9 February 2021"},{"location":"meetings/2021/TechArea20210209/#announcements","text":"dHTC campus workshop today! OSG All Hands March 1-5 Mat, BrianL out this Friday","title":"Announcements"},{"location":"meetings/2021/TechArea20210209/#triage-duty","text":"This week: Carl Next week: BrianL 3 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210209/#jira","text":"# of tickets \u0394 State 138 +8 Open 12 -3 Selected for Dev 34 +2 In Progress 15 +2 Dev Complete 34 -3 Ready for Testing 1 -7 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210209/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Package build tasks ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4475 ) AI (Carl): Consolidate Gratia probes ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4467 ) AI (Mat): Release osg-configure 4.0.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4468 ) AI (Carl, Mat): Make upcoming \u2190\u2192 3.5-upcoming switch (tomorrow 2/10) OSG 3.5.32 AI (Mat): Token issuer packaging AI (Carl): Release Python 3 compatible gratia probe Doc Focus Feb 25","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210209/#discussion","text":"Doc focus will concentrate on 3.6 documentation; those who can make it should use the whole day GlideinWMS 3.9.1 will be released later today","title":"Discussion"},{"location":"meetings/2021/TechArea20210209/#support-update","text":"Carl: Support ticket for batch vs payload core hour discrepancy (needs further investigation and will be tracked in JIRA instead) Helping Daniel Caunt at Harvard with Topology registration Working with Lincoln B to help UIUC work around CE problems caused by deletion of state at boot time Derek: Working with Purdue to try and resolve missing Gratia data caused by their SLURM database going down and the CE not creating history entries on job removal; BrianL says the latter may be by design These kinds of issues should stop happening once we move to the HTCondor-CE probe instead of the batch system probes","title":"Support Update"},{"location":"meetings/2021/TechArea20210209/#osg-devops","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page GRACC (continued progress): migrating more GRACC services to Tiger (Prometheus) documentation for the GRACC rolling update and fresh install Rolling update is starting this week. APEL Reporting - still investigating whether should we update to the new AMS Gratia probe update for queue time metric XRootD accounting information (from Frank): Table of working set, read, and re-read for monthly, quarterly, and year. Map of StashCache origins and caches. Discussing implementation details with Tim. XRootD Monitoring collector changes from validation. So far, just monitoring updates, no functionality changes. Will deploy as necessary. Discussion with John about persistent state","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210209/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210209/#osg-release-team","text":"3.5.32 \u0394 Status 8 +0 Open 2 +0 Selected for Development 4 +0 In Progress 2 +0 Development Complete 17 -1 Ready for Testing 0 -5 Ready for Release 33 -6 Total Software Ready for Testing gratia-probe 1.22.3 (partially) osg-ce 3.5-6 xcache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210209/#discussion_2","text":"AI (TimT): clean up stale RFT tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210216/","text":"OSG Technology Area Meeting, 16 February 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco Mambelli, Marian, Mat, Tim T Announcements \u00b6 OSG All Hands March 1-5 Triage Duty \u00b6 This week: BrianL Next week: Mat 2 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 134 -4 Open 16 +4 Selected for Dev 31 -3 In Progress 14 -1 Dev Complete 39 +5 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Package build tasks ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4475 ) New column added for EL8 success/failure AI (Carl): Consolidate Gratia probes ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4467 ) AI (Mat): Release osg-configure 4.0.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4468 ) AI (GlideinWMS devs): Build GlideinWMS for 3.6 and 3.6-upcoming OSG 3.5.32 AI (Carl): Release Python 3 compatible gratia probe Doc Focus Feb 25 (all day if possible) Discussion \u00b6 Container backfill: GRACC can handle the new 'Execution Endpoint' service. GlideinWMS 3.9.1 is out; HTTP service has been split out of the default RPM to make containerization easier. Q (Marian): How does the factory know how much disk space is available for a slot? A (Marco): Uses what HTCondor reports (which is dynamically measured). Open HTCondor ticket (HTCONDOR-174) for adding a way to set a disk quota for a slot. HTCondor 8.9.12 will not be ready for 3.6 so we will ship 8.9.11. Support Update \u00b6 SIUE (Southern Illinois University Edwardsville) (BrianL): discussing CE support for Ubuntu CU Boulder (BrianL, Carl, Derek): some 0 CPU usage records with non-zero walltimes OSG DevOps \u00b6 OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page GRACC (continued progress): documentation for the GRACC rolling update and fresh install APEL Reporting - still investigating whether should we update to the new AMS Gratia probe update for queue time metric XRootD accounting information (from Frank): Table of working set, read, and re-read for monthly, quarterly, and year. Map of StashCache origins and caches. Discussing implementation details with Tim. Discussion of the Zoom attendees script Derek wrote. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.32 \u0394 Status 7 -1 Open 3 +1 Selected for Development 3 -1 In Progress 1 -1 Development Complete 22 +5 Ready for Testing 0 +0 Ready for Release 36 +3 Total Software Ready for Testing gratia-probe 1.22.3 osg-ce 3.5-6 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale RFT tickets","title":"February 16, 2021"},{"location":"meetings/2021/TechArea20210216/#osg-technology-area-meeting-16-february-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco Mambelli, Marian, Mat, Tim T","title":"OSG Technology Area Meeting, 16 February 2021"},{"location":"meetings/2021/TechArea20210216/#announcements","text":"OSG All Hands March 1-5","title":"Announcements"},{"location":"meetings/2021/TechArea20210216/#triage-duty","text":"This week: BrianL Next week: Mat 2 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210216/#jira","text":"# of tickets \u0394 State 134 -4 Open 16 +4 Selected for Dev 31 -3 In Progress 14 -1 Dev Complete 39 +5 Ready for Testing 1 +0 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210216/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Package build tasks ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4475 ) New column added for EL8 success/failure AI (Carl): Consolidate Gratia probes ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4467 ) AI (Mat): Release osg-configure 4.0.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4468 ) AI (GlideinWMS devs): Build GlideinWMS for 3.6 and 3.6-upcoming OSG 3.5.32 AI (Carl): Release Python 3 compatible gratia probe Doc Focus Feb 25 (all day if possible)","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210216/#discussion","text":"Container backfill: GRACC can handle the new 'Execution Endpoint' service. GlideinWMS 3.9.1 is out; HTTP service has been split out of the default RPM to make containerization easier. Q (Marian): How does the factory know how much disk space is available for a slot? A (Marco): Uses what HTCondor reports (which is dynamically measured). Open HTCondor ticket (HTCONDOR-174) for adding a way to set a disk quota for a slot. HTCondor 8.9.12 will not be ready for 3.6 so we will ship 8.9.11.","title":"Discussion"},{"location":"meetings/2021/TechArea20210216/#support-update","text":"SIUE (Southern Illinois University Edwardsville) (BrianL): discussing CE support for Ubuntu CU Boulder (BrianL, Carl, Derek): some 0 CPU usage records with non-zero walltimes","title":"Support Update"},{"location":"meetings/2021/TechArea20210216/#osg-devops","text":"OSG Status page: Developing script to synchronize OSG contact list to subscribe the status page GRACC (continued progress): documentation for the GRACC rolling update and fresh install APEL Reporting - still investigating whether should we update to the new AMS Gratia probe update for queue time metric XRootD accounting information (from Frank): Table of working set, read, and re-read for monthly, quarterly, and year. Map of StashCache origins and caches. Discussing implementation details with Tim. Discussion of the Zoom attendees script Derek wrote.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210216/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210216/#osg-release-team","text":"3.5.32 \u0394 Status 7 -1 Open 3 +1 Selected for Development 3 -1 In Progress 1 -1 Development Complete 22 +5 Ready for Testing 0 +0 Ready for Release 36 +3 Total Software Ready for Testing gratia-probe 1.22.3 osg-ce 3.5-6 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210216/#discussion_2","text":"AI (TimT): clean up stale RFT tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210223/","text":"OSG Technology Area Meeting, 23 February 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco Mambelli, Marian, Mat, Tim T Announcements \u00b6 OSG All Hands March 1-5 Triage Duty \u00b6 This week: Mat Next week: TimT 2 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket Jira \u00b6 # of tickets \u0394 State 132 -2 Open 18 +2 Selected for Dev 34 +3 In Progress 12 -2 Dev Complete 45 +6 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Package build tasks ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4475 ) AI (BrianL): Update osg-test to use scitokens AI (Carl): Consolidate Gratia probes ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4467 ) AI (Carl): Freshen the GPG key ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-3275 ) AI (Mat): Release osg-configure 4.0.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4468 ) AI (Mat): osg-ca-certs-updater build for EL7 AI (GlideinWMS devs): Build GlideinWMS for 3.6 and 3.6-upcoming Punt on osg-obsoletes and osg-next for the initial release Doc Focus Feb 25 (all day if possible) Carl: Document changes in Gratia Probe 2 and provide upgrade instructions Carl: Add material admonitions to the deprecated 3.5 documents All: Fill in upgrade instructions for OSG 3.6 components Discussion \u00b6 In the HTCondor-CE Gratia Probe ProbeConfig, the data folder should match the per-job history dir. Support Update \u00b6 SIUE (Southern Illinois University Edwardsville) (BrianL): got successful Ubuntu 20 pilots with patches to HTCondor Purdue (Carl, Derek): Custom Gratia probe to fill in gap in usage without the DN information. OSG DevOps \u00b6 OSG Status page: Moving synchronization to Tiger Gratia probe update for queue time metric XRootD accounting information (from Frank): Table of working set, read, and re-read for monthly, quarterly, and year. Map of StashCache origins and caches, deployed on topology-itb. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.32 \u0394 Status 7 +0 Open 2 -1 Selected for Development 2 -1 In Progress 1 +0 Development Complete 24 +2 Ready for Testing 0 +0 Ready for Release 36 +0 Total Software Ready for Testing gratia-probe 1.22.3 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.1 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 AI (TimT): clean up stale RFT tickets","title":"February 23, 2021"},{"location":"meetings/2021/TechArea20210223/#osg-technology-area-meeting-23-february-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco Mambelli, Marian, Mat, Tim T","title":"OSG Technology Area Meeting, 23 February 2021"},{"location":"meetings/2021/TechArea20210223/#announcements","text":"OSG All Hands March 1-5","title":"Announcements"},{"location":"meetings/2021/TechArea20210223/#triage-duty","text":"This week: Mat Next week: TimT 2 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210223/#jira","text":"# of tickets \u0394 State 132 -2 Open 18 +2 Selected for Dev 34 +3 In Progress 12 -2 Dev Complete 45 +6 Ready for Testing 1 +0 Ready for Release","title":"Jira"},{"location":"meetings/2021/TechArea20210223/#osg-software-team","text":"OSG 3.6 deadline at the end of February ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4282 ) Package build tasks ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4475 ) AI (BrianL): Update osg-test to use scitokens AI (Carl): Consolidate Gratia probes ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4467 ) AI (Carl): Freshen the GPG key ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-3275 ) AI (Mat): Release osg-configure 4.0.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4468 ) AI (Mat): osg-ca-certs-updater build for EL7 AI (GlideinWMS devs): Build GlideinWMS for 3.6 and 3.6-upcoming Punt on osg-obsoletes and osg-next for the initial release Doc Focus Feb 25 (all day if possible) Carl: Document changes in Gratia Probe 2 and provide upgrade instructions Carl: Add material admonitions to the deprecated 3.5 documents All: Fill in upgrade instructions for OSG 3.6 components","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210223/#discussion","text":"In the HTCondor-CE Gratia Probe ProbeConfig, the data folder should match the per-job history dir.","title":"Discussion"},{"location":"meetings/2021/TechArea20210223/#support-update","text":"SIUE (Southern Illinois University Edwardsville) (BrianL): got successful Ubuntu 20 pilots with patches to HTCondor Purdue (Carl, Derek): Custom Gratia probe to fill in gap in usage without the DN information.","title":"Support Update"},{"location":"meetings/2021/TechArea20210223/#osg-devops","text":"OSG Status page: Moving synchronization to Tiger Gratia probe update for queue time metric XRootD accounting information (from Frank): Table of working set, read, and re-read for monthly, quarterly, and year. Map of StashCache origins and caches, deployed on topology-itb.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210223/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210223/#osg-release-team","text":"3.5.32 \u0394 Status 7 +0 Open 2 -1 Selected for Development 2 -1 In Progress 1 +0 Development Complete 24 +2 Ready for Testing 0 +0 Ready for Release 36 +0 Total Software Ready for Testing gratia-probe 1.22.3 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.1 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210223/#discussion_2","text":"AI (TimT): clean up stale RFT tickets","title":"Discussion"},{"location":"meetings/2021/TechArea20210302/","text":"OSG Technology Area Meeting, 2 March 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Derek, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Mat OOO next week BrianL OOO next Monday Triage Duty \u00b6 This week: TimT Next week: Carl (?) 4 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 131 -1 Open 14 -4 Selected for Dev 28 -6 In Progress 5 -7 Dev Complete 51 +6 Ready for Testing 10 +9 Ready for Release OSG Software Team \u00b6 OSG 3.6 next AI (Carl): Release XRootD in OSG 3.6 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4494 ) AI (BrianL): Issues with the blahp AI (Mat): Investigate GlideinWMS Globus dependencies (GlideinWMS 3.9 built into 3.6 upcoming development) OSG 3.5.32 AI (Carl): Release XRootD 5.1.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4356 ) Discussion \u00b6 GlideinWMS 3.7.3 expected next week; will not include cvmfsexec integration but HTCondor version comparison bugs should be fixed. New Docker version 20.10.4 caused hung jobs all over CHTC. TimT dealing with the fallout -- others should avoid upgrading. Debian build files have been merged into scitokens-cpp; Derek should tag a new release. HTCondor 8.9.12 in progress; developers working on updating the default security configuration. Many EL8 tickets in Ready for Testing will be moved back to Open to update package versions. Support Update \u00b6 Mat: Misconfigured CVMFS/Squid at Wisconsin; Mat will register CHTC Squid in Topology; CHTC infrastructure will take care of more involved config changes. Derek: Debugging Folding@Home issues at Syracuse; likely requires Folding@Home configuration change to deal with consumer GPUs at Syracuse. Derek/Carl: Continuing to debug Purdue accounting discrepancy -- urgent because the WLCG is finalizing monthly accounting info soon. Marian: Assisting IGWN users at Georgia Tech with getting jobs running from their submit host. (https://support.opensciencegrid.org/a/tickets/66744) Marian: Debugging OASIS issues with jobs running at CRUSH. (https://support.opensciencegrid.org/a/tickets/66839) OSG DevOps \u00b6 OSG Status page: Moving synchronization to Tiger (on-going) DONE: Gratia probe update for queue time metric XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. DONE: Map of StashCache origins and caches, deployed and done! Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.32 \u0394 Status 9 +2 Open 12 +10 Selected for Development 4 +2 In Progress 1 +0 Development Complete 14 -10 Ready for Testing 0 +0 Ready for Release 40 +4 Total Software Ready for Testing gratia-probe 1.23.2 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.1 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Upcoming: XCache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"March 2, 2021"},{"location":"meetings/2021/TechArea20210302/#osg-technology-area-meeting-2-march-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Derek, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting,  2 March 2021"},{"location":"meetings/2021/TechArea20210302/#announcements","text":"Mat OOO next week BrianL OOO next Monday","title":"Announcements"},{"location":"meetings/2021/TechArea20210302/#triage-duty","text":"This week: TimT Next week: Carl (?) 4 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210302/#jira-as-of-monday","text":"# of tickets \u0394 State 131 -1 Open 14 -4 Selected for Dev 28 -6 In Progress 5 -7 Dev Complete 51 +6 Ready for Testing 10 +9 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210302/#osg-software-team","text":"OSG 3.6 next AI (Carl): Release XRootD in OSG 3.6 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4494 ) AI (BrianL): Issues with the blahp AI (Mat): Investigate GlideinWMS Globus dependencies (GlideinWMS 3.9 built into 3.6 upcoming development) OSG 3.5.32 AI (Carl): Release XRootD 5.1.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4356 )","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210302/#discussion","text":"GlideinWMS 3.7.3 expected next week; will not include cvmfsexec integration but HTCondor version comparison bugs should be fixed. New Docker version 20.10.4 caused hung jobs all over CHTC. TimT dealing with the fallout -- others should avoid upgrading. Debian build files have been merged into scitokens-cpp; Derek should tag a new release. HTCondor 8.9.12 in progress; developers working on updating the default security configuration. Many EL8 tickets in Ready for Testing will be moved back to Open to update package versions.","title":"Discussion"},{"location":"meetings/2021/TechArea20210302/#support-update","text":"Mat: Misconfigured CVMFS/Squid at Wisconsin; Mat will register CHTC Squid in Topology; CHTC infrastructure will take care of more involved config changes. Derek: Debugging Folding@Home issues at Syracuse; likely requires Folding@Home configuration change to deal with consumer GPUs at Syracuse. Derek/Carl: Continuing to debug Purdue accounting discrepancy -- urgent because the WLCG is finalizing monthly accounting info soon. Marian: Assisting IGWN users at Georgia Tech with getting jobs running from their submit host. (https://support.opensciencegrid.org/a/tickets/66744) Marian: Debugging OASIS issues with jobs running at CRUSH. (https://support.opensciencegrid.org/a/tickets/66839)","title":"Support Update"},{"location":"meetings/2021/TechArea20210302/#osg-devops","text":"OSG Status page: Moving synchronization to Tiger (on-going) DONE: Gratia probe update for queue time metric XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. DONE: Map of StashCache origins and caches, deployed and done!","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210302/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210302/#osg-release-team","text":"3.5.32 \u0394 Status 9 +2 Open 12 +10 Selected for Development 4 +2 In Progress 1 +0 Development Complete 14 -10 Ready for Testing 0 +0 Ready for Release 40 +4 Total Software Ready for Testing gratia-probe 1.23.2 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.1 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Upcoming: XCache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210302/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210309/","text":"OSG Technology Area Meeting, 9 March 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Marian, TimT Announcements \u00b6 Mat OOO this week Triage Duty \u00b6 This week: Carl Next week: BrianL 7 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 133 +2 Open 23 +9 Selected for Dev 28 +0 In Progress 5 +0 Dev Complete 20 -31 Ready for Testing 1 -9 Ready for Release OSG Software Team \u00b6 Kubernetes Hackathon today 2-6pm Central OSG 3.6 next AI (Carl): Release XRootD in OSG 3.6 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4494 ) AI (BrianL): Issues with the blahp AI (Mat): Investigate GlideinWMS Globus dependencies (GlideinWMS 3.9 built into 3.6 upcoming development) OSG 3.5.32 AI (Carl): Gratia probe 1.23.2 with fixe to QueueTime collection AI (Carl): Release XRootD 5.1.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4356 ) Discussion \u00b6 We only need to build xrootd-hdfs build for 3.5 EL7 upcoming, can be ignored for 3.6 and 3.5 EL8 upcoming Support Update \u00b6 AGLT2 (BrianL): helped them downgrade to OSG 3.5 after an upgrade to 3.6. In addition to downgrading RPMs, they had to uncomment the line in /etc/grid-security/gsi-authz.conf to re-enable LCMAPS Purdue (BrianL): ran into issues with the new supervisord backfill container not having rootly permissions Purdue (Carl, Derek): made custom Gratia probe to generate missed February records OSG DevOps \u00b6 OSG Status page: Moving synchronization to Tiger (pull request submitted) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. PATh metrics writing is ongoing for user \"wait time\" Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.32 \u0394 Status 10 +1 Open 12 +0 Selected for Development 4 +0 In Progress 1 +0 Development Complete 14 +0 Ready for Testing 0 +0 Ready for Release 41 +1 Total Software Ready for Testing gratia-probe 1.23.2 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.2 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Upcoming: XCache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"March 9, 2021"},{"location":"meetings/2021/TechArea20210309/#osg-technology-area-meeting-9-march-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Marian, TimT","title":"OSG Technology Area Meeting,  9 March 2021"},{"location":"meetings/2021/TechArea20210309/#announcements","text":"Mat OOO this week","title":"Announcements"},{"location":"meetings/2021/TechArea20210309/#triage-duty","text":"This week: Carl Next week: BrianL 7 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210309/#jira-as-of-monday","text":"# of tickets \u0394 State 133 +2 Open 23 +9 Selected for Dev 28 +0 In Progress 5 +0 Dev Complete 20 -31 Ready for Testing 1 -9 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210309/#osg-software-team","text":"Kubernetes Hackathon today 2-6pm Central OSG 3.6 next AI (Carl): Release XRootD in OSG 3.6 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4494 ) AI (BrianL): Issues with the blahp AI (Mat): Investigate GlideinWMS Globus dependencies (GlideinWMS 3.9 built into 3.6 upcoming development) OSG 3.5.32 AI (Carl): Gratia probe 1.23.2 with fixe to QueueTime collection AI (Carl): Release XRootD 5.1.0 ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4356 )","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210309/#discussion","text":"We only need to build xrootd-hdfs build for 3.5 EL7 upcoming, can be ignored for 3.6 and 3.5 EL8 upcoming","title":"Discussion"},{"location":"meetings/2021/TechArea20210309/#support-update","text":"AGLT2 (BrianL): helped them downgrade to OSG 3.5 after an upgrade to 3.6. In addition to downgrading RPMs, they had to uncomment the line in /etc/grid-security/gsi-authz.conf to re-enable LCMAPS Purdue (BrianL): ran into issues with the new supervisord backfill container not having rootly permissions Purdue (Carl, Derek): made custom Gratia probe to generate missed February records","title":"Support Update"},{"location":"meetings/2021/TechArea20210309/#osg-devops","text":"OSG Status page: Moving synchronization to Tiger (pull request submitted) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. PATh metrics writing is ongoing for user \"wait time\"","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210309/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210309/#osg-release-team","text":"3.5.32 \u0394 Status 10 +1 Open 12 +0 Selected for Development 4 +0 In Progress 1 +0 Development Complete 14 +0 Ready for Testing 0 +0 Ready for Release 41 +1 Total Software Ready for Testing gratia-probe 1.23.2 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.2 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Upcoming: XCache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210309/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210323/","text":"OSG Technology Area Meeting, 23 March 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco, Marian, Mat, TimT Announcements \u00b6 Kubernetes Hackathon today 1-5pm TimT OOO starting Mar 26, returning Apr 6 Triage Duty \u00b6 This week: TimT Next week: Mat 11 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 136 +4 Open 12 -2 Selected for Dev 27 -7 In Progress 9 +4 Dev Complete 39 +9 Ready for Testing 1 +0 Ready for Release OSG Software Team \u00b6 AI (Carl, with help from Mat): Enable networking in Koji builds Kubernetes Hackathon AI (Mat): put together Hosted CE submitting to the CHTC Slurm cluster AI (Carl): create koji builder pod in production namespace AI (BrianL): deploy ITB central collector Discussion \u00b6 The new version of HTCondor-CE 5 should be pulled from testing due to bugs found. AI (Marco): Add check to frontend to make sure the VOMS signing certificate is valid. Support Update \u00b6 SDSC Expanse (BrianL): Released production tarballs are broken for the OSG case but there is a workaround for Hosted CEs Marian: Public links to Freshdesk tickets don't work for some people; the workaround for them is to use incognito mode. Freshdesk refuses to fix the issue so for now we have to remind people to use incognito mode. Purdue records (Derek, Carl): Gratia probe seemed to be sending records for local usage, not just OSG. Carl will investigate and provide a software fix. LBL (Carl): Continuing to help with Squid registration; some of their Squids are internal and should not be registered. OSG DevOps \u00b6 OSG Status page: Moving synchronization to Tiger, merged. XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. PATh metrics: Waittime has gone through a few iterations. Pull request ready for review: https://github.com/path-cc/metric-tools/pull/22 Discussion \u00b6 gracc-status RPM can be dropped from OSG devops repo, but gracc-archive RPM should be kept. OSG Release Team \u00b6 3.5.32 \u0394 Status 10 +1 Open 12 +0 Selected for Development 4 +0 In Progress 1 +0 Development Complete 14 +0 Ready for Testing 0 +0 Ready for Release 41 +1 Total Software Ready for Testing gratia-probe 1.23.2 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.2 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Upcoming: XCache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"March 23, 2021"},{"location":"meetings/2021/TechArea20210323/#osg-technology-area-meeting-23-march-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 23 March 2021"},{"location":"meetings/2021/TechArea20210323/#announcements","text":"Kubernetes Hackathon today 1-5pm TimT OOO starting Mar 26, returning Apr 6","title":"Announcements"},{"location":"meetings/2021/TechArea20210323/#triage-duty","text":"This week: TimT Next week: Mat 11 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210323/#jira-as-of-monday","text":"# of tickets \u0394 State 136 +4 Open 12 -2 Selected for Dev 27 -7 In Progress 9 +4 Dev Complete 39 +9 Ready for Testing 1 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210323/#osg-software-team","text":"AI (Carl, with help from Mat): Enable networking in Koji builds Kubernetes Hackathon AI (Mat): put together Hosted CE submitting to the CHTC Slurm cluster AI (Carl): create koji builder pod in production namespace AI (BrianL): deploy ITB central collector","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210323/#discussion","text":"The new version of HTCondor-CE 5 should be pulled from testing due to bugs found. AI (Marco): Add check to frontend to make sure the VOMS signing certificate is valid.","title":"Discussion"},{"location":"meetings/2021/TechArea20210323/#support-update","text":"SDSC Expanse (BrianL): Released production tarballs are broken for the OSG case but there is a workaround for Hosted CEs Marian: Public links to Freshdesk tickets don't work for some people; the workaround for them is to use incognito mode. Freshdesk refuses to fix the issue so for now we have to remind people to use incognito mode. Purdue records (Derek, Carl): Gratia probe seemed to be sending records for local usage, not just OSG. Carl will investigate and provide a software fix. LBL (Carl): Continuing to help with Squid registration; some of their Squids are internal and should not be registered.","title":"Support Update"},{"location":"meetings/2021/TechArea20210323/#osg-devops","text":"OSG Status page: Moving synchronization to Tiger, merged. XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. PATh metrics: Waittime has gone through a few iterations. Pull request ready for review: https://github.com/path-cc/metric-tools/pull/22","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210323/#discussion_1","text":"gracc-status RPM can be dropped from OSG devops repo, but gracc-archive RPM should be kept.","title":"Discussion"},{"location":"meetings/2021/TechArea20210323/#osg-release-team","text":"3.5.32 \u0394 Status 10 +1 Open 12 +0 Selected for Development 4 +0 In Progress 1 +0 Development Complete 14 +0 Ready for Testing 0 +0 Ready for Release 41 +1 Total Software Ready for Testing gratia-probe 1.23.2 osg-ce 3.5-6 osg-scitokens-mapfile 1 cmvfs-gateway 1.2.0 HTCondor-CE 4.5.0 vault 1.6.2 htvault-config 0.5 Upcoming: HTCondor-CE 5.0.0 Upcoming: XCache 2.0.0 Ready for Release Nothing Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210323/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210330/","text":"OSG Technology Area Meeting, 30 March 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Jason Patton, Marco, Marian, Mat Announcements \u00b6 IRIS-HEP full team retreat Apr 27-30 canceled TimT OOO, returning Apr 6 Triage Duty \u00b6 This week: Mat Next week: BrianL (?) 7 (-4) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 139 +3 Open 15 +3 Selected for Dev 27 +0 In Progress 8 -1 Dev Complete 29 -10 Ready for Testing 9 +8 Ready for Release OSG Software Team \u00b6 OSG 3.5.33/3.6 xrootd-multiuser is broken for XRootD 5. Should we delay the release? osg-xrootd needs to be updated to fix its use of ofs.authlib Anything else we should document in the update notes? AI (Carl): Rebuild condor RPM AI (Mat): Add multiple config directories to HTCondor packaging AI (Carl, with help from Mat): Enable networking in Koji builds AI (Mat): Finish adding CVMFS to the OSG backfill container Discussion \u00b6 kojibuilder2 (new K8s builder in the production namespace) not reporting to the koji hub. GlideinWMS: 3.7.3 release candidate is in testing. New 3.9 release needed to fix the following bugs: https://cdcvs.fnal.gov/redmine/issues/25620, https://cdcvs.fnal.gov/redmine/issues/25619 String encoding issue at glideFactoryLib.py, Update LDAP module for Python 3, both affect only AWS submission, not regular grid submission. Support Update \u00b6 Chameleon Cloud (BrianL): investigating an issue where the OSG validation script is failing so the container isn't running jobs Purdue (Carl, Derek): Derek successfully removed the errant local records for Purdue; Carl will ask Purdue to re-run the custom Gratia probe he provided to them. AMNH (Derek): Assisting them with SLURM configuration. Might be worthwhile to write a 'recommended SLURM configuration' document, even if it's not widely publicized. OzSTAR (Marian): Assisting them with stash cache setup. OSG DevOps \u00b6 XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 Need to send ready for testing email today Aiming to release XRootD 5 this week, at least in 3.5 upcoming Discussion \u00b6 None this week","title":"March 30, 2021"},{"location":"meetings/2021/TechArea20210330/#osg-technology-area-meeting-30-march-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Jason Patton, Marco, Marian, Mat","title":"OSG Technology Area Meeting, 30 March 2021"},{"location":"meetings/2021/TechArea20210330/#announcements","text":"IRIS-HEP full team retreat Apr 27-30 canceled TimT OOO, returning Apr 6","title":"Announcements"},{"location":"meetings/2021/TechArea20210330/#triage-duty","text":"This week: Mat Next week: BrianL (?) 7 (-4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210330/#jira-as-of-monday","text":"# of tickets \u0394 State 139 +3 Open 15 +3 Selected for Dev 27 +0 In Progress 8 -1 Dev Complete 29 -10 Ready for Testing 9 +8 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210330/#osg-software-team","text":"OSG 3.5.33/3.6 xrootd-multiuser is broken for XRootD 5. Should we delay the release? osg-xrootd needs to be updated to fix its use of ofs.authlib Anything else we should document in the update notes? AI (Carl): Rebuild condor RPM AI (Mat): Add multiple config directories to HTCondor packaging AI (Carl, with help from Mat): Enable networking in Koji builds AI (Mat): Finish adding CVMFS to the OSG backfill container","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210330/#discussion","text":"kojibuilder2 (new K8s builder in the production namespace) not reporting to the koji hub. GlideinWMS: 3.7.3 release candidate is in testing. New 3.9 release needed to fix the following bugs: https://cdcvs.fnal.gov/redmine/issues/25620, https://cdcvs.fnal.gov/redmine/issues/25619 String encoding issue at glideFactoryLib.py, Update LDAP module for Python 3, both affect only AWS submission, not regular grid submission.","title":"Discussion"},{"location":"meetings/2021/TechArea20210330/#support-update","text":"Chameleon Cloud (BrianL): investigating an issue where the OSG validation script is failing so the container isn't running jobs Purdue (Carl, Derek): Derek successfully removed the errant local records for Purdue; Carl will ask Purdue to re-run the custom Gratia probe he provided to them. AMNH (Derek): Assisting them with SLURM configuration. Might be worthwhile to write a 'recommended SLURM configuration' document, even if it's not widely publicized. OzSTAR (Marian): Assisting them with stash cache setup.","title":"Support Update"},{"location":"meetings/2021/TechArea20210330/#osg-devops","text":"XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210330/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210330/#osg-release-team","text":"Need to send ready for testing email today Aiming to release XRootD 5 this week, at least in 3.5 upcoming","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210330/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210406/","text":"OSG Technology Area Meeting, 6 April 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: BrianL Next week: Carl 9 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 138 -1 Open 15 +0 Selected for Dev 26 -1 In Progress 12 +3 Dev Complete 26 -3 Ready for Testing 0 -9 Ready for Release OSG Software Team \u00b6 Kubernetes hackathon today at 1pm, same coordinates AI (Carl): Fix kojibuilder2, test prescribed token location container AI (Mat): CHTC \"Canary\" SLURM CE OSG 3.5.33/3.6 AI (BrianL): Build blahp 2.0.0 Discussion \u00b6 AI (BrianL): Review XRootD software support policy. HTCondor 8.9.13 has been tested but we are likely to skip it since 9.0.0 is imminent and we're waiting on upgrade instructions from the developers. Support Update \u00b6 Carl: Continuing to work with Purdue on accounting; waiting for logs. Mat: Helping ICTS-TIFR (LIGO site in India) with Topology registartion. OSG DevOps \u00b6 XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 Need to send ready for testing email today Aiming to release XRootD 5 this week, at least in 3.5 upcoming Discussion \u00b6 None this week","title":"April 6, 2021"},{"location":"meetings/2021/TechArea20210406/#osg-technology-area-meeting-6-april-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Mat, TimT","title":"OSG Technology Area Meeting,  6 April 2021"},{"location":"meetings/2021/TechArea20210406/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210406/#triage-duty","text":"This week: BrianL Next week: Carl 9 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210406/#jira-as-of-monday","text":"# of tickets \u0394 State 138 -1 Open 15 +0 Selected for Dev 26 -1 In Progress 12 +3 Dev Complete 26 -3 Ready for Testing 0 -9 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210406/#osg-software-team","text":"Kubernetes hackathon today at 1pm, same coordinates AI (Carl): Fix kojibuilder2, test prescribed token location container AI (Mat): CHTC \"Canary\" SLURM CE OSG 3.5.33/3.6 AI (BrianL): Build blahp 2.0.0","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210406/#discussion","text":"AI (BrianL): Review XRootD software support policy. HTCondor 8.9.13 has been tested but we are likely to skip it since 9.0.0 is imminent and we're waiting on upgrade instructions from the developers.","title":"Discussion"},{"location":"meetings/2021/TechArea20210406/#support-update","text":"Carl: Continuing to work with Purdue on accounting; waiting for logs. Mat: Helping ICTS-TIFR (LIGO site in India) with Topology registartion.","title":"Support Update"},{"location":"meetings/2021/TechArea20210406/#osg-devops","text":"XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210406/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210406/#osg-release-team","text":"Need to send ready for testing email today Aiming to release XRootD 5 this week, at least in 3.5 upcoming","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210406/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210413/","text":"OSG Technology Area Meeting, 13 April 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Mat, Tim T Announcements \u00b6 BrianL out this Thu/Fri Marian on extended leave Triage Duty \u00b6 This week: Carl Next week: Mat 9 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 143 +5 Open 14 -1 Selected for Dev 27 +1 In Progress 12 +0 Dev Complete 28 +2 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 OSG 3.5.33/3.6 AI (Carl): Promote Frontier Squid to testing AI (Carl): Rebuild Blahp 2.0.1 in OSG 3.6 AI (Mat): Push GlideinWMS 3.7.3 to testing when it's ready, coordinate with Mats and Jeff Dost AI (Mat): Build HTCondor-CE 5.1.0 once released upstream AI (Carl): Kick off VMU tests for htvault-config and htgettoken AI (Mat): Debug Tiger Slurm Hosted CE failure to start Discussion \u00b6 None this week Support Update \u00b6 SIUE (BrianL): they're trying out a self-hosted CE in front of their Ubuntu 20 cluster University of Tennessee Chattanooga (BrianL): multi-VO Hosted CEs don't work because HTCondor-CE sets HOME from the CE by default. Fixed in to-be-released versions of HTCondor-CE Lancium (Mat): debug low contributions after updating to the latest backfill container image OSG DevOps \u00b6 XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 Need to send ready for testing email today Aiming to release XRootD 5 this week, at least in 3.5 upcoming Discussion \u00b6 None this week","title":"April 13, 2021"},{"location":"meetings/2021/TechArea20210413/#osg-technology-area-meeting-13-april-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Mat, Tim T","title":"OSG Technology Area Meeting, 13 April 2021"},{"location":"meetings/2021/TechArea20210413/#announcements","text":"BrianL out this Thu/Fri Marian on extended leave","title":"Announcements"},{"location":"meetings/2021/TechArea20210413/#triage-duty","text":"This week: Carl Next week: Mat 9 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210413/#jira-as-of-monday","text":"# of tickets \u0394 State 143 +5 Open 14 -1 Selected for Dev 27 +1 In Progress 12 +0 Dev Complete 28 +2 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210413/#osg-software-team","text":"OSG 3.5.33/3.6 AI (Carl): Promote Frontier Squid to testing AI (Carl): Rebuild Blahp 2.0.1 in OSG 3.6 AI (Mat): Push GlideinWMS 3.7.3 to testing when it's ready, coordinate with Mats and Jeff Dost AI (Mat): Build HTCondor-CE 5.1.0 once released upstream AI (Carl): Kick off VMU tests for htvault-config and htgettoken AI (Mat): Debug Tiger Slurm Hosted CE failure to start","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210413/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210413/#support-update","text":"SIUE (BrianL): they're trying out a self-hosted CE in front of their Ubuntu 20 cluster University of Tennessee Chattanooga (BrianL): multi-VO Hosted CEs don't work because HTCondor-CE sets HOME from the CE by default. Fixed in to-be-released versions of HTCondor-CE Lancium (Mat): debug low contributions after updating to the latest backfill container image","title":"Support Update"},{"location":"meetings/2021/TechArea20210413/#osg-devops","text":"XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210413/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210413/#osg-release-team","text":"Need to send ready for testing email today Aiming to release XRootD 5 this week, at least in 3.5 upcoming","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210413/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210420/","text":"OSG Technology Area Meeting, 20 April 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Marian, Mat, Tim T Announcements \u00b6 Mat out Friday and next Monday Triage Duty \u00b6 This week: Mat Next week: Tim 11 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 143 +0 Open 18 +4 Selected for Dev 28 +1 In Progress 10 -2 Dev Complete 17 -11 Ready for Testing 14 +14 Ready for Release OSG Software Team \u00b6 Need highlights of accomplishments since Jan 13 for AC meeting Kubernetes hackathon this afternoon AI (Brian): Test latest Bosco tarballs AI (Mat): Debug Tiger Slurm Hosted CE failure to start AI (Carl): Test Hosted CE SciTokens changes Doc focus this Thursday starting at 1:30pm OSG 3.5.33/3.6 AI (Brian): Kick off HTCondor-CE/HTCondor VMU tests AI (Mat): Push GlideinWMS 3.7.3 to testing when it's ready, coordinate with Mats and Jeff Dost AI (Carl): Kick off VMU tests for htvault-config Discussion \u00b6 None this week Support Update \u00b6 Purdue (Carl): discuss with Derek if it's acceptable to interpolate missing data; note that the switch from batch system probes to the HTCondor-CE probe in OSG 3.6 should prevent issues like this in the future. Lancium (Mat): debug low contributions after updating to the latest backfill container image OSG Release Team \u00b6 3.5.34 \u0394 Status 10 +0 Open 5 +0 Selected for Development 3 +0 In Progress 5 +0 Development Complete 8 +0 Ready for Testing 14 +0 Ready for Release 45 +0 Total Software Ready for Testing frontier-squid-4.13-5.1 HTCondor 8.8.13 vault 1.7.0 osg-xrootd for EL8 osg-gridftp for EL8 Upcoming: xrootd-hdfs 2.2.0 Ready for Release CVMFS 2.8.1 gratia-probe 1.23.2 Data vo-client 111 Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"April 20, 2021"},{"location":"meetings/2021/TechArea20210420/#osg-technology-area-meeting-20-april-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Marco Mambelli, Marian, Mat, Tim T","title":"OSG Technology Area Meeting, 20 April 2021"},{"location":"meetings/2021/TechArea20210420/#announcements","text":"Mat out Friday and next Monday","title":"Announcements"},{"location":"meetings/2021/TechArea20210420/#triage-duty","text":"This week: Mat Next week: Tim 11 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210420/#jira-as-of-monday","text":"# of tickets \u0394 State 143 +0 Open 18 +4 Selected for Dev 28 +1 In Progress 10 -2 Dev Complete 17 -11 Ready for Testing 14 +14 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210420/#osg-software-team","text":"Need highlights of accomplishments since Jan 13 for AC meeting Kubernetes hackathon this afternoon AI (Brian): Test latest Bosco tarballs AI (Mat): Debug Tiger Slurm Hosted CE failure to start AI (Carl): Test Hosted CE SciTokens changes Doc focus this Thursday starting at 1:30pm OSG 3.5.33/3.6 AI (Brian): Kick off HTCondor-CE/HTCondor VMU tests AI (Mat): Push GlideinWMS 3.7.3 to testing when it's ready, coordinate with Mats and Jeff Dost AI (Carl): Kick off VMU tests for htvault-config","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210420/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210420/#support-update","text":"Purdue (Carl): discuss with Derek if it's acceptable to interpolate missing data; note that the switch from batch system probes to the HTCondor-CE probe in OSG 3.6 should prevent issues like this in the future. Lancium (Mat): debug low contributions after updating to the latest backfill container image","title":"Support Update"},{"location":"meetings/2021/TechArea20210420/#osg-release-team","text":"3.5.34 \u0394 Status 10 +0 Open 5 +0 Selected for Development 3 +0 In Progress 5 +0 Development Complete 8 +0 Ready for Testing 14 +0 Ready for Release 45 +0 Total Software Ready for Testing frontier-squid-4.13-5.1 HTCondor 8.8.13 vault 1.7.0 osg-xrootd for EL8 osg-gridftp for EL8 Upcoming: xrootd-hdfs 2.2.0 Ready for Release CVMFS 2.8.1 gratia-probe 1.23.2 Data vo-client 111 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210420/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210504/","text":"OSG Technology Area Meeting, 4 May 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Mat, Tim T Announcements \u00b6 Triage Duty \u00b6 This week: Brian Next week: Carl 5 (-6) open FreshDesk tickets 1 (+1) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 147 +6 Open 11 -1 Selected for Dev 23 -4 In Progress 16 +4 Dev Complete 24 +3 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Kubernetes hackathon this afternoon AI (Brian): Test Hosted CE PVCs AI (Mat): Update Ubuntu WN containers and automate pushes to the OSG Harbor instance AI (Carl): Fixup production Koji builder OSG 3.5.35/3.5.36/3.6 AI (Carl): Build new XCache for upcoming/3.6 (SOFTWARE-4476) Time to get to work on verifying EL8 packages (SOFTWARE-3308) Discussion \u00b6 hosted-ce35 not reporting in - Carl to investigate since it's running the Python 3 version of the Gratia probe. Support Update \u00b6 BrianL, Mat - Lancium was seeing multiple issues for backfill containers; one of the issues was having newlines in the token, which caused HTCondor to report failure to parse. Will ask developers how HTCondor parses tokens. Carl - Purdue's gap records will be filled in from the previous day. OSG Release Team \u00b6 3.5.35 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 -1 0 +0 3 +3 12 +2 Open 2 +0 2 -1 1 +1 5 +0 Selected for Development 0 +0 2 +1 3 +1 5 +2 In Progress 2 +0 3 +0 0 +0 5 +0 Development Complete 7 +6 12 +6 1 +0 20 +12 Ready for Testing 0 -13 0 -1 0 +0 0 -14 Ready for Release 20 -8 19 +5 8 +5 47 +2 Total Software Ready for Testing voms 2.0.16 (EL7), voms 2.1.0-rc1 (EL8) frontier-squid 4.13-5.2 HTCondor 8.8.13 HTCondor-CE 4.5.2 Vault-1.7.1 Htgettoken 1.2 and htvault-config 0.7 Osg-scitokens-mapfile 3 EL8 osg-xrootd Osg-gridftp XRootD 5 XCache SciTokens Cilogon-openid-ca-cert Upcoming GlideinWMS 3.7.3 Upcoming + 3.6 HTCondor 9.0.0-1.5 HTCondor-CE 5.1.0 blahp 2.0.2 Ready for Release Nothing yet Data IGTF 1.110 vo-client 112 Operations Nothing Contrib Nothing Discussion \u00b6 HTCondor 9.0.0 bug: AES encryption + x509 proxy refresh crashes the starter. Brian L will discuss it with developers to see if it affects the OSG infrastructure. This may be fixed in 9.0.1 (expected next week); if not, we will mention it as a known issue in the release notes.","title":"May 4, 2021"},{"location":"meetings/2021/TechArea20210504/#osg-technology-area-meeting-4-may-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Mat, Tim T","title":"OSG Technology Area Meeting,  4 May 2021"},{"location":"meetings/2021/TechArea20210504/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210504/#triage-duty","text":"This week: Brian Next week: Carl 5 (-6) open FreshDesk tickets 1 (+1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210504/#jira-as-of-monday","text":"# of tickets \u0394 State 147 +6 Open 11 -1 Selected for Dev 23 -4 In Progress 16 +4 Dev Complete 24 +3 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210504/#osg-software-team","text":"Kubernetes hackathon this afternoon AI (Brian): Test Hosted CE PVCs AI (Mat): Update Ubuntu WN containers and automate pushes to the OSG Harbor instance AI (Carl): Fixup production Koji builder OSG 3.5.35/3.5.36/3.6 AI (Carl): Build new XCache for upcoming/3.6 (SOFTWARE-4476) Time to get to work on verifying EL8 packages (SOFTWARE-3308)","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210504/#discussion","text":"hosted-ce35 not reporting in - Carl to investigate since it's running the Python 3 version of the Gratia probe.","title":"Discussion"},{"location":"meetings/2021/TechArea20210504/#support-update","text":"BrianL, Mat - Lancium was seeing multiple issues for backfill containers; one of the issues was having newlines in the token, which caused HTCondor to report failure to parse. Will ask developers how HTCondor parses tokens. Carl - Purdue's gap records will be filled in from the previous day.","title":"Support Update"},{"location":"meetings/2021/TechArea20210504/#osg-release-team","text":"3.5.35 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 -1 0 +0 3 +3 12 +2 Open 2 +0 2 -1 1 +1 5 +0 Selected for Development 0 +0 2 +1 3 +1 5 +2 In Progress 2 +0 3 +0 0 +0 5 +0 Development Complete 7 +6 12 +6 1 +0 20 +12 Ready for Testing 0 -13 0 -1 0 +0 0 -14 Ready for Release 20 -8 19 +5 8 +5 47 +2 Total Software Ready for Testing voms 2.0.16 (EL7), voms 2.1.0-rc1 (EL8) frontier-squid 4.13-5.2 HTCondor 8.8.13 HTCondor-CE 4.5.2 Vault-1.7.1 Htgettoken 1.2 and htvault-config 0.7 Osg-scitokens-mapfile 3 EL8 osg-xrootd Osg-gridftp XRootD 5 XCache SciTokens Cilogon-openid-ca-cert Upcoming GlideinWMS 3.7.3 Upcoming + 3.6 HTCondor 9.0.0-1.5 HTCondor-CE 5.1.0 blahp 2.0.2 Ready for Release Nothing yet Data IGTF 1.110 vo-client 112 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210504/#discussion_1","text":"HTCondor 9.0.0 bug: AES encryption + x509 proxy refresh crashes the starter. Brian L will discuss it with developers to see if it affects the OSG infrastructure. This may be fixed in 9.0.1 (expected next week); if not, we will mention it as a known issue in the release notes.","title":"Discussion"},{"location":"meetings/2021/TechArea20210511/","text":"OSG Technology Area Meeting, 11 May 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco, Mat, Tim T Announcements \u00b6 Triage Duty \u00b6 This week: Carl Next week: Mat 11 (+6) open FreshDesk tickets 1 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 149 +2 Open 15 +4 Selected for Dev 32 +9 In Progress 12 -4 Dev Complete 25 +1 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 GSI Transition AI (Carl): will Gratia ignore SciTokens-based pilots? AI (Carl): HTCondor-CE Gratia probe should avoid use of condor_ce_q XRootD in 3.6 Need to document native VOMS and SciTokens auth. Upstream docs? SciTokens osg-xrootd needs to be updated (at least removing LCMAPS + config) Topology changes probably need to be made to also support the new format Any new sites/CEs should be directed to the \"Campus Facilitation\" FD group Discussion \u00b6 HTCondor service startup tests in osg-test for 9.0.1 need updates to work with new upstream configuration. XRootD-TPC tests should be split into single-stream and multi-stream. GlideinWMS: GlideinWMS 3.7.4rc1 now available; fixes a regression with 3.6 frontend compatibility. OSG Scitokens patches, X509-less submission, and CVMFSEXEC will go into 3.7.5. 3.7.5 expected in a month and a half. Redmine currently locked down to people with service accounts. Some issues can be tracked in GitHub. Future authentication policy has not been decided yet. Support Update \u00b6 (Mat) Justas at CalTech is having STARTD_CRON issues; investigating with help from the HTCondor developers. (Derek) ORNL is running a patched slurm gratia probe. We should engage with them to run a production probe, if we can. But their use case complicates things. OSG DevOps \u00b6 GRACC ITB Collector k8s on Tiger Jira XRootD Multiuser: One more comment from Andy, so there will be a 1.0.1 (sorry) Known not to work with xrootd async io. But that might be ok. StashCP go client is working, just waiting on effort from Derek on how to package / deliver it. As a reminder, compiling on EL7 makes it work on EL7, 8, ubuntu... Go is great! XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.35 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +1 3 +0 13 +1 Open 2 +0 1 -1 1 +0 4 -1 Selected for Development 0 +0 3 +1 3 +0 6 +1 In Progress 2 +0 3 +0 0 +0 5 +0 Development Complete 8 +1 12 +0 1 +0 21 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 20 +1 20 +1 8 +0 49 +2 Total Software Ready for Testing voms 2.0.16 (EL7), voms 2.1.0-rc1 (EL8) frontier-squid 4.15-1.1 HTCondor 8.8.13 HTCondor-CE 4.5.2 Vault-1.7.1 Htgettoken 1.2 and htvault-config 0.7 Osg-scitokens-mapfile 3 EL8 osg-xrootd Osg-gridftp XRootD 5 XCache SciTokens Cilogon-openid-ca-cert Upcoming GlideinWMS 3.7.3 Upcoming + 3.6 HTCondor 9.0.0-1.5 HTCondor-CE 5.1.0 blahp 2.0.2 Ready for Release Nothing yet Data IGTF 1.110 vo-client 112 Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"May 11, 2021"},{"location":"meetings/2021/TechArea20210511/#osg-technology-area-meeting-11-may-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco, Mat, Tim T","title":"OSG Technology Area Meeting, 11 May 2021"},{"location":"meetings/2021/TechArea20210511/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210511/#triage-duty","text":"This week: Carl Next week: Mat 11 (+6) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210511/#jira-as-of-monday","text":"# of tickets \u0394 State 149 +2 Open 15 +4 Selected for Dev 32 +9 In Progress 12 -4 Dev Complete 25 +1 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210511/#osg-software-team","text":"GSI Transition AI (Carl): will Gratia ignore SciTokens-based pilots? AI (Carl): HTCondor-CE Gratia probe should avoid use of condor_ce_q XRootD in 3.6 Need to document native VOMS and SciTokens auth. Upstream docs? SciTokens osg-xrootd needs to be updated (at least removing LCMAPS + config) Topology changes probably need to be made to also support the new format Any new sites/CEs should be directed to the \"Campus Facilitation\" FD group","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210511/#discussion","text":"HTCondor service startup tests in osg-test for 9.0.1 need updates to work with new upstream configuration. XRootD-TPC tests should be split into single-stream and multi-stream. GlideinWMS: GlideinWMS 3.7.4rc1 now available; fixes a regression with 3.6 frontend compatibility. OSG Scitokens patches, X509-less submission, and CVMFSEXEC will go into 3.7.5. 3.7.5 expected in a month and a half. Redmine currently locked down to people with service accounts. Some issues can be tracked in GitHub. Future authentication policy has not been decided yet.","title":"Discussion"},{"location":"meetings/2021/TechArea20210511/#support-update","text":"(Mat) Justas at CalTech is having STARTD_CRON issues; investigating with help from the HTCondor developers. (Derek) ORNL is running a patched slurm gratia probe. We should engage with them to run a production probe, if we can. But their use case complicates things.","title":"Support Update"},{"location":"meetings/2021/TechArea20210511/#osg-devops","text":"GRACC ITB Collector k8s on Tiger Jira XRootD Multiuser: One more comment from Andy, so there will be a 1.0.1 (sorry) Known not to work with xrootd async io. But that might be ok. StashCP go client is working, just waiting on effort from Derek on how to package / deliver it. As a reminder, compiling on EL7 makes it work on EL7, 8, ubuntu... Go is great! XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210511/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210511/#osg-release-team","text":"3.5.35 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +1 3 +0 13 +1 Open 2 +0 1 -1 1 +0 4 -1 Selected for Development 0 +0 3 +1 3 +0 6 +1 In Progress 2 +0 3 +0 0 +0 5 +0 Development Complete 8 +1 12 +0 1 +0 21 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 20 +1 20 +1 8 +0 49 +2 Total Software Ready for Testing voms 2.0.16 (EL7), voms 2.1.0-rc1 (EL8) frontier-squid 4.15-1.1 HTCondor 8.8.13 HTCondor-CE 4.5.2 Vault-1.7.1 Htgettoken 1.2 and htvault-config 0.7 Osg-scitokens-mapfile 3 EL8 osg-xrootd Osg-gridftp XRootD 5 XCache SciTokens Cilogon-openid-ca-cert Upcoming GlideinWMS 3.7.3 Upcoming + 3.6 HTCondor 9.0.0-1.5 HTCondor-CE 5.1.0 blahp 2.0.2 Ready for Release Nothing yet Data IGTF 1.110 vo-client 112 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210511/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210518/","text":"OSG Technology Area Meeting, 18 May 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Derek, Marco, Marian, Mat, Tim Announcements \u00b6 Next week's meeting canceled for HTCondor week, to resume June 1 BrianL OOO May 28 and June 1 Triage Duty \u00b6 This week: Mat Next week: TimT 12 (+2) open FreshDesk tickets 1 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 155 +6 Open 16 +1 Selected for Dev 31 -1 In Progress 12 +0 Dev Complete 9 -16 Ready for Testing 11 +11 Ready for Release OSG Software Team \u00b6 Kubernetes Hackathon this afternoon: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=34&sprint=32 AI (Carl): Production Koji builder Release AI (Mat): osg-xrootd and documentation need to be updated to use the voms-xrootd-plugin for 3.6 AI (Mat): XRootD for EL8 AI (Carl): Gratia probe Hosted CE quarantine issues AI (Carl): Gratia probe collection of VO data for token-based pilots Do we need to update the Gratia dirs for OSG 3.6? https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 Discussion \u00b6 Nightly XRootD multistream TPC tests are still failing; Derek will investigate since it might be related to xrootd-multiuser. However, this may have only been used for performance tests; Derek will ask Brian B. about real-world use cases and adjust priority accordingly. xrootd-multiuser 1.0.1 expected soon. SciTokens VO mapping: right now, pilots contain both X.509 and SciTokens credentials; Gratia prefers the former, so it may be difficult to do an integration test; adding unit tests will provide sufficient coverage for now. AI (Carl): Run VMU tests for GlideinWMS 3.7.4. Support Update \u00b6 Hosted CEs (BrianL): cert-manager changes (?) resulted in a slightly different LE chain being advertised from the CEs, requiring an update to osg-ca-certs-1.96 on the client side XRootD (Derek): Justas opened tickets with XRootD, watching to see if OSG can contribute to debugging / development for fixes. OzStar (Marian): Debugging Singularity; this may be due to attempting to run unprivileged Singularity without user namespaces. The ticket should be reassigned to the Software group; Dave Dykstra may be able to help. CalTech (Mat): Problem with long lines in STARTD_CRON output causing startd ads not to get updated; created HTCondor ticket to fix and gave Justas a workaround. LBL (Carl): Continuing to support LBL with setting up Squid. Dave Dykstra may be able to help. OSG DevOps \u00b6 GRACC ITB Collector k8s on Tiger Jira GRACC S3 (CEPH) backup coming up, will coordinate a disaster recovery drill. XRootD Multiuser: One more comment from Andy, so there will be a 1.0.1 (sorry) Known not to work with xrootd async io. But that might be ok. StashCP go client is working, just waiting on effort from Derek on how to package / deliver it. As a reminder, compiling on EL7 makes it work on EL7, 8, ubuntu\u2026 Go is great! XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.35 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 2 +1 5 +2 16 +3 Open 5 +3 1 +0 1 +0 7 +3 Selected for Development 0 +0 2 -1 2 -1 4 -2 In Progress 3 +1 1 -2 0 +0 4 -1 Development Complete 5 -3 2 -10 0 -1 7 -14 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 22 +1 8 -12 8 +0 38 -11 Total Software Ready for Testing OSG 3.5 HTCondor-CE 4.5.2 osg-gridftp on EL8 OSG 3.5-upcoming HTCondor 9.0.1 GlideinWMS 3.7.4 XRootD 5.2.0 XCache 2.0.1 (Python 3 conversion) OSG 3.6 HTCondor 9.0.1-1.1 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"May 18, 2021"},{"location":"meetings/2021/TechArea20210518/#osg-technology-area-meeting-18-may-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Derek, Marco, Marian, Mat, Tim","title":"OSG Technology Area Meeting, 18 May 2021"},{"location":"meetings/2021/TechArea20210518/#announcements","text":"Next week's meeting canceled for HTCondor week, to resume June 1 BrianL OOO May 28 and June 1","title":"Announcements"},{"location":"meetings/2021/TechArea20210518/#triage-duty","text":"This week: Mat Next week: TimT 12 (+2) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210518/#jira-as-of-monday","text":"# of tickets \u0394 State 155 +6 Open 16 +1 Selected for Dev 31 -1 In Progress 12 +0 Dev Complete 9 -16 Ready for Testing 11 +11 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210518/#osg-software-team","text":"Kubernetes Hackathon this afternoon: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=34&sprint=32 AI (Carl): Production Koji builder Release AI (Mat): osg-xrootd and documentation need to be updated to use the voms-xrootd-plugin for 3.6 AI (Mat): XRootD for EL8 AI (Carl): Gratia probe Hosted CE quarantine issues AI (Carl): Gratia probe collection of VO data for token-based pilots Do we need to update the Gratia dirs for OSG 3.6? https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210518/#discussion","text":"Nightly XRootD multistream TPC tests are still failing; Derek will investigate since it might be related to xrootd-multiuser. However, this may have only been used for performance tests; Derek will ask Brian B. about real-world use cases and adjust priority accordingly. xrootd-multiuser 1.0.1 expected soon. SciTokens VO mapping: right now, pilots contain both X.509 and SciTokens credentials; Gratia prefers the former, so it may be difficult to do an integration test; adding unit tests will provide sufficient coverage for now. AI (Carl): Run VMU tests for GlideinWMS 3.7.4.","title":"Discussion"},{"location":"meetings/2021/TechArea20210518/#support-update","text":"Hosted CEs (BrianL): cert-manager changes (?) resulted in a slightly different LE chain being advertised from the CEs, requiring an update to osg-ca-certs-1.96 on the client side XRootD (Derek): Justas opened tickets with XRootD, watching to see if OSG can contribute to debugging / development for fixes. OzStar (Marian): Debugging Singularity; this may be due to attempting to run unprivileged Singularity without user namespaces. The ticket should be reassigned to the Software group; Dave Dykstra may be able to help. CalTech (Mat): Problem with long lines in STARTD_CRON output causing startd ads not to get updated; created HTCondor ticket to fix and gave Justas a workaround. LBL (Carl): Continuing to support LBL with setting up Squid. Dave Dykstra may be able to help.","title":"Support Update"},{"location":"meetings/2021/TechArea20210518/#osg-devops","text":"GRACC ITB Collector k8s on Tiger Jira GRACC S3 (CEPH) backup coming up, will coordinate a disaster recovery drill. XRootD Multiuser: One more comment from Andy, so there will be a 1.0.1 (sorry) Known not to work with xrootd async io. But that might be ok. StashCP go client is working, just waiting on effort from Derek on how to package / deliver it. As a reminder, compiling on EL7 makes it work on EL7, 8, ubuntu\u2026 Go is great! XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210518/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210518/#osg-release-team","text":"3.5.35 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 2 +1 5 +2 16 +3 Open 5 +3 1 +0 1 +0 7 +3 Selected for Development 0 +0 2 -1 2 -1 4 -2 In Progress 3 +1 1 -2 0 +0 4 -1 Development Complete 5 -3 2 -10 0 -1 7 -14 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 22 +1 8 -12 8 +0 38 -11 Total Software Ready for Testing OSG 3.5 HTCondor-CE 4.5.2 osg-gridftp on EL8 OSG 3.5-upcoming HTCondor 9.0.1 GlideinWMS 3.7.4 XRootD 5.2.0 XCache 2.0.1 (Python 3 conversion) OSG 3.6 HTCondor 9.0.1-1.1 Ready for Release Nothing yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210518/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210608/","text":"OSG Technology Area Meeting, 8 June 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Marco, Marian, Mat, TimT Announcements \u00b6 TimT OOO June 14-18 Triage Duty \u00b6 This week: TimT Next week: Carl 11 (-1) open FreshDesk tickets 1 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 156 -5 Open 21 +5 Selected for Dev 31 +1 In Progress 10 -2 Dev Complete 8 -5 Ready for Testing 2 +0 Ready for Release OSG Software Team \u00b6 Release AI (Mat): Review scitokens-cpp promotion request (should we release it for EL8?) AI (Mat): XRootD for EL8 for OSG 3.5 Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): walk Lehigh/SIUE through recovering their old accounting records Discussion \u00b6 We should release scitokens-cpp for EL8 in order to maintain symmetry with EL7 GlideinWMS 3.9.2 is in osg-development and has passed internal testing; TimT will promote it to contrib Support Update \u00b6 SIUE/Lehigh (Carl, BrianL): identified pilot accounting upload bugs (fixed in gratia-probe-1.23.3 and the HTCondor versions in testing) PSU (BrianL): $HOME expansion doesn't work for Hosted CEs submitting to local HTCondor batch systems CIT/IGWN (Marian): Marian is providing assistance with upgrading to HTCondor 9 GlideinWMS (Marco): Found a bug where temporary errors contacting the frontend collectors would get cached, causing further queries to fail until the cache expired or the frontend was restarted. This will be fixed in 3.7.5 OZStar (Derek): StashCache is not connecting to the ligo origin correctly. Difficult to iterate since in Australia. Diego and I setup a time to meet that works for all. KSU / JLab (Derek/Marian): Failures at KSU. Difficult to tell what exactly the failures are, but the faliure has something to do with xrootd, the posix preload, and downloading a file from jalb. OSG DevOps \u00b6 GRACC ITB Collector k8s on Tiger Jira . Pull request: https://github.com/opensciencegrid/tiger-osg-config/pull/173 XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 StashCP go client is working and tested, just waiting on effort from Derek on how to package / deliver it. As a reminder, compiling on EL7 makes it work on EL7, 8, ubuntu\u2026 Go is great! Bluepring meeting for xrootd-monitoring identified a new service to be written. The xrootd-shoveler is currently being written up in a design document. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.38 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 0 -2 4 -1 13 -3 Open 6 +1 3 +2 2 +1 11 +4 Selected for Development 0 +0 1 -1 2 +0 3 -1 In Progress 3 +0 1 +0 0 +0 4 +0 Development Complete 2 -3 3 +1 1 +1 6 -1 Ready for Testing 2 +2 0 +0 0 +0 2 +2 Ready for Release 22 +0 8 +0 9 +1 39 +1 Total Software Ready for Testing OSG 3.5-upcoming HTCondor 9.0.1-1.1 HTCondor-CE 5.1.1 XCache 2.0.1 (Python 3 conversion) xrootd-hdfs 2.2.0-1.1 (get correct username from token) OSG 3.6 HTCondor 9.0.1-1.2 HTCondor-CE 5.1.1-1.1 OSG 3.6-upcoming HTCondor 9.1.0-1.2 Ready for Release OSG 3.5 HTCondor 8.8.13-1.1 OSG 3.5-upcoming XRootD 5.2.0 Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"June 8, 2021"},{"location":"meetings/2021/TechArea20210608/#osg-technology-area-meeting-8-june-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Marco, Marian, Mat, TimT","title":"OSG Technology Area Meeting,  8 June 2021"},{"location":"meetings/2021/TechArea20210608/#announcements","text":"TimT OOO June 14-18","title":"Announcements"},{"location":"meetings/2021/TechArea20210608/#triage-duty","text":"This week: TimT Next week: Carl 11 (-1) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210608/#jira-as-of-monday","text":"# of tickets \u0394 State 156 -5 Open 21 +5 Selected for Dev 31 +1 In Progress 10 -2 Dev Complete 8 -5 Ready for Testing 2 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210608/#osg-software-team","text":"Release AI (Mat): Review scitokens-cpp promotion request (should we release it for EL8?) AI (Mat): XRootD for EL8 for OSG 3.5 Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): walk Lehigh/SIUE through recovering their old accounting records","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210608/#discussion","text":"We should release scitokens-cpp for EL8 in order to maintain symmetry with EL7 GlideinWMS 3.9.2 is in osg-development and has passed internal testing; TimT will promote it to contrib","title":"Discussion"},{"location":"meetings/2021/TechArea20210608/#support-update","text":"SIUE/Lehigh (Carl, BrianL): identified pilot accounting upload bugs (fixed in gratia-probe-1.23.3 and the HTCondor versions in testing) PSU (BrianL): $HOME expansion doesn't work for Hosted CEs submitting to local HTCondor batch systems CIT/IGWN (Marian): Marian is providing assistance with upgrading to HTCondor 9 GlideinWMS (Marco): Found a bug where temporary errors contacting the frontend collectors would get cached, causing further queries to fail until the cache expired or the frontend was restarted. This will be fixed in 3.7.5 OZStar (Derek): StashCache is not connecting to the ligo origin correctly. Difficult to iterate since in Australia. Diego and I setup a time to meet that works for all. KSU / JLab (Derek/Marian): Failures at KSU. Difficult to tell what exactly the failures are, but the faliure has something to do with xrootd, the posix preload, and downloading a file from jalb.","title":"Support Update"},{"location":"meetings/2021/TechArea20210608/#osg-devops","text":"GRACC ITB Collector k8s on Tiger Jira . Pull request: https://github.com/opensciencegrid/tiger-osg-config/pull/173 XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 StashCP go client is working and tested, just waiting on effort from Derek on how to package / deliver it. As a reminder, compiling on EL7 makes it work on EL7, 8, ubuntu\u2026 Go is great! Bluepring meeting for xrootd-monitoring identified a new service to be written. The xrootd-shoveler is currently being written up in a design document. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210608/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210608/#osg-release-team","text":"3.5.38 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 0 -2 4 -1 13 -3 Open 6 +1 3 +2 2 +1 11 +4 Selected for Development 0 +0 1 -1 2 +0 3 -1 In Progress 3 +0 1 +0 0 +0 4 +0 Development Complete 2 -3 3 +1 1 +1 6 -1 Ready for Testing 2 +2 0 +0 0 +0 2 +2 Ready for Release 22 +0 8 +0 9 +1 39 +1 Total Software Ready for Testing OSG 3.5-upcoming HTCondor 9.0.1-1.1 HTCondor-CE 5.1.1 XCache 2.0.1 (Python 3 conversion) xrootd-hdfs 2.2.0-1.1 (get correct username from token) OSG 3.6 HTCondor 9.0.1-1.2 HTCondor-CE 5.1.1-1.1 OSG 3.6-upcoming HTCondor 9.1.0-1.2 Ready for Release OSG 3.5 HTCondor 8.8.13-1.1 OSG 3.5-upcoming XRootD 5.2.0 Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210608/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210615/","text":"OSG Technology Area Meeting, 15 June 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco, Marian, Mat Announcements \u00b6 TimT OOO June 14-18 CHTC team OOO Thu Jun 17 BrianL OOO Fri and Mon Mat OOO Fri afternoon Triage Duty \u00b6 This week: Carl Next week: BrianL 9 (-2) open FreshDesk tickets 1 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 154 -2 Open 21 +0 Selected for Dev 34 +3 In Progress 6 -4 Dev Complete 9 +1 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Kubernetes Hackathon today: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=34 Release AI (BrianL): Add new EIC VO DN ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4666 ) AI (Mat): Build empty-condor package AI (Mat): XRootD for EL8 for OSG 3.5 AI (Mat): xrootd-multiuser 1.1.0 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Ensure that Gratia accounts for SciTokens-based pilots ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4615 ) Discussion \u00b6 GlideinWMS 3.7 release expected later this month. Dennis is reviewing a PR for the frontend to increase admin control over SciToken generation ( https://github.com/glideinWMS/glideinwms/pull/52 ) Support Update \u00b6 SIUE/Lehigh (Carl): provided instructions for restoring missing pilot data OzStar (Derek, Marian): Cert was communicated incorrectly, and osg-xrootd-standalone was conflicting with the stash cache auth. ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4668 ) OSG DevOps \u00b6 GRACC ITB Collector k8s on Tiger Jira XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. Blueprint meeting for xrootd-monitoring identified a new service to be written. The xrootd-shoveler is currently being written up in a design document. Added new wait time metrics: https://github.com/path-cc/metric-tools/pull/26 (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week","title":"June 15, 2021"},{"location":"meetings/2021/TechArea20210615/#osg-technology-area-meeting-15-june-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian L, Carl, Derek, Marco, Marian, Mat","title":"OSG Technology Area Meeting, 15 June 2021"},{"location":"meetings/2021/TechArea20210615/#announcements","text":"TimT OOO June 14-18 CHTC team OOO Thu Jun 17 BrianL OOO Fri and Mon Mat OOO Fri afternoon","title":"Announcements"},{"location":"meetings/2021/TechArea20210615/#triage-duty","text":"This week: Carl Next week: BrianL 9 (-2) open FreshDesk tickets 1 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210615/#jira-as-of-monday","text":"# of tickets \u0394 State 154 -2 Open 21 +0 Selected for Dev 34 +3 In Progress 6 -4 Dev Complete 9 +1 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210615/#osg-software-team","text":"Kubernetes Hackathon today: https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=34 Release AI (BrianL): Add new EIC VO DN ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4666 ) AI (Mat): Build empty-condor package AI (Mat): XRootD for EL8 for OSG 3.5 AI (Mat): xrootd-multiuser 1.1.0 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Ensure that Gratia accounts for SciTokens-based pilots ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4615 )","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210615/#discussion","text":"GlideinWMS 3.7 release expected later this month. Dennis is reviewing a PR for the frontend to increase admin control over SciToken generation ( https://github.com/glideinWMS/glideinwms/pull/52 )","title":"Discussion"},{"location":"meetings/2021/TechArea20210615/#support-update","text":"SIUE/Lehigh (Carl): provided instructions for restoring missing pilot data OzStar (Derek, Marian): Cert was communicated incorrectly, and osg-xrootd-standalone was conflicting with the stash cache auth. ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4668 )","title":"Support Update"},{"location":"meetings/2021/TechArea20210615/#osg-devops","text":"GRACC ITB Collector k8s on Tiger Jira XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. Blueprint meeting for xrootd-monitoring identified a new service to be written. The xrootd-shoveler is currently being written up in a design document. Added new wait time metrics: https://github.com/path-cc/metric-tools/pull/26 (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210615/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210622/","text":"OSG Technology Area Meeting, 22 June 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Jack Yuan, Marian, Tim Announcements \u00b6 Carl OOO Wed-Fri Triage Duty \u00b6 This week: BrianL Next week: ??? 9 (-0) open FreshDesk tickets 0 (-1) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 160 +6 Open 21 +0 Selected for Dev 35 +1 In Progress 8 +2 Dev Complete 12 +3 Ready for Testing 1 +1 Ready for Release OSG Software Team \u00b6 Doc focus this Friday afternoon Release AI (BrianL): kick off Vault VMU tests (SOFTWARE-4677) AI (Mat): XRootD for EL8 for OSG 3.5 AI (Mat): xrootd-multiuser 1.1.0 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (TimT): Rebuild new HTCondor daily into the devops repo so it can be tested in the OSG Open Pool Discussion \u00b6 None this week Support Update \u00b6 BrianL (NDSU Lancium): Backfill container not detecting their GPUs; Brian will consult Mats for assistance. Carl (Lehigh): Successfully resent old records. Carl will double-check that current records are working correctly.f Carl, Derek (SIUE): No longer receiving records, planning a live debugging session this afternoon OSG DevOps \u00b6 XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 (in testing below) StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. Design document is done and is being distributed. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.39 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 0 +0 4 +0 13 +0 Open 2 -4 4 +1 1 -1 7 -4 Selected for Development 2 +2 1 +0 3 +1 6 +3 In Progress 0 -3 1 +0 0 +0 1 -3 Development Complete 5 +3 4 +1 2 +1 11 +5 Ready for Testing 0 -2 0 +0 0 +0 0 -2 Ready for Release 18 -4 10 +2 10 +1 38 -1 Total Software Ready for Testing Both vault 1.7.3, htvault-config 1.2 frontier-squid 4.15-2.1 (no log rotation if log compression disabled) OSG 3.5 scitokens-cpp 0.6.2 XRootD 4.12.6-1.1 in EL8 osg-flock in EL8 OSG 3.5-upcoming xrootd-multiuser 1.1.0 HTCondor 9.0.1-1.1 HTCondor-CE 5.1.1 XCache 2.0.1 (Python 3 conversion) OSG 3.6 HTCondor 9.0.1-1.2 HTCondor-CE 5.1.1-1.1 OSG 3.6-upcoming HTCondor 9.1.0-1.2 Ready for Release Nothing Yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"June 22, 2021"},{"location":"meetings/2021/TechArea20210622/#osg-technology-area-meeting-22-june-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Jack Yuan, Marian, Tim","title":"OSG Technology Area Meeting, 22 June 2021"},{"location":"meetings/2021/TechArea20210622/#announcements","text":"Carl OOO Wed-Fri","title":"Announcements"},{"location":"meetings/2021/TechArea20210622/#triage-duty","text":"This week: BrianL Next week: ??? 9 (-0) open FreshDesk tickets 0 (-1) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210622/#jira-as-of-monday","text":"# of tickets \u0394 State 160 +6 Open 21 +0 Selected for Dev 35 +1 In Progress 8 +2 Dev Complete 12 +3 Ready for Testing 1 +1 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210622/#osg-software-team","text":"Doc focus this Friday afternoon Release AI (BrianL): kick off Vault VMU tests (SOFTWARE-4677) AI (Mat): XRootD for EL8 for OSG 3.5 AI (Mat): xrootd-multiuser 1.1.0 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (TimT): Rebuild new HTCondor daily into the devops repo so it can be tested in the OSG Open Pool","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210622/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210622/#support-update","text":"BrianL (NDSU Lancium): Backfill container not detecting their GPUs; Brian will consult Mats for assistance. Carl (Lehigh): Successfully resent old records. Carl will double-check that current records are working correctly.f Carl, Derek (SIUE): No longer receiving records, planning a live debugging session this afternoon","title":"Support Update"},{"location":"meetings/2021/TechArea20210622/#osg-devops","text":"XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 (in testing below) StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. Design document is done and is being distributed. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210622/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210622/#osg-release-team","text":"3.5.39 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 0 +0 4 +0 13 +0 Open 2 -4 4 +1 1 -1 7 -4 Selected for Development 2 +2 1 +0 3 +1 6 +3 In Progress 0 -3 1 +0 0 +0 1 -3 Development Complete 5 +3 4 +1 2 +1 11 +5 Ready for Testing 0 -2 0 +0 0 +0 0 -2 Ready for Release 18 -4 10 +2 10 +1 38 -1 Total Software Ready for Testing Both vault 1.7.3, htvault-config 1.2 frontier-squid 4.15-2.1 (no log rotation if log compression disabled) OSG 3.5 scitokens-cpp 0.6.2 XRootD 4.12.6-1.1 in EL8 osg-flock in EL8 OSG 3.5-upcoming xrootd-multiuser 1.1.0 HTCondor 9.0.1-1.1 HTCondor-CE 5.1.1 XCache 2.0.1 (Python 3 conversion) OSG 3.6 HTCondor 9.0.1-1.2 HTCondor-CE 5.1.1-1.1 OSG 3.6-upcoming HTCondor 9.1.0-1.2 Ready for Release Nothing Yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210622/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210629/","text":"OSG Technology Area Meeting, 29 June 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Marian, Mat, Tim T Announcements \u00b6 Carl OOO July 2-7 Triage Duty \u00b6 This week: Carl Next week: BrianL 6 (-3) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 160 +0 Open 19 -2 Selected for Dev 35 +1 In Progress 8 +2 Dev Complete 12 +3 Ready for Testing 0 -1 Ready for Release OSG Software Team \u00b6 Kubernetes Hackathon this afternoon. Prioritize working on fallout from the recent outage, otherwise see tasks on https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=34 Tim makeup doc focus Release AI (Mat): XRootD for EL8 for OSG 3.5. What's left? AI (Mat): xrootd-multiuser 1.1.0 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) Discussion \u00b6 ATLAS and CMS have tested IAM vo-client updates; Brian L will mail CERN folks to ask if they're ready for the transition XRootD 5.2 for OSG 3.5 has already been released xrootd-multiuser 1.1.0 in the 3.5 upcoming-testing repos; we're asking Justas from Caltech to test XRootD 5.3.0rc1 release candidate in the 3.5 upcoming-testing repos; Horst at OU was the most affected by bugs in previous versions so he is a good testing candidate AI (Mat): Create automated Koji user for doing CI builds Support Update \u00b6 MWT2 (BrianL): merged in .rpmsave containing a config fix for held job pile-up due to `SYSTEM PERIODIC ` expressions fighting Lehigh (Derek): (DONE) Removed extranous records GLOW (Derek): Submitted GRACC records with start date in 2008. Caused by node coming up after power outage with date set to 2008, so jobs will have \"started\" in 2008, and run until now, resulting in huge walltimes. Will remove. KSU (Derek): Likely IDS blocking access to data for JLAB jobs running at KSU. Not sure how to solve other than have JLAB blacklist KSU. OSG DevOps \u00b6 XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 (in testing below) StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up) Debugging of gracc nodes after tiger update resulted in restarting a few pods, and 1 typo discovered. Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler development has begun! XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.39 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +1 4 +0 14 +1 Open 2 +0 4 +0 1 +0 7 +0 Selected for Development 1 -1 0 -1 3 +0 4 -2 In Progress 0 +0 2 +1 0 +0 2 +1 Development Complete 5 +0 2 -2 2 +0 9 -2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 17 -1 9 -1 10 +0 36 -2 Total Software Ready for Testing Both vault 1.7.3, htvault-config 1.2 frontier-squid 4.15-2.1 (no log rotation if log compression disabled) OSG 3.5 XRootD 4.12.6-1.1 in EL8 osg-flock in EL8 gfal2 in EL8 OSG 3.5-upcoming xrootd-multiuser 1.1.0 XCache 2.0.1 (Python 3 conversion) OSG 3.6-upcoming HTCondor 9.1.0-1.2 Ready for Release Nothing Yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 Release this week Push out HTCondor 9.1.0 into EL6 with minimal testing","title":"June 29, 2021"},{"location":"meetings/2021/TechArea20210629/#osg-technology-area-meeting-29-june-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Marian, Mat, Tim T","title":"OSG Technology Area Meeting, 29 June 2021"},{"location":"meetings/2021/TechArea20210629/#announcements","text":"Carl OOO July 2-7","title":"Announcements"},{"location":"meetings/2021/TechArea20210629/#triage-duty","text":"This week: Carl Next week: BrianL 6 (-3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210629/#jira-as-of-monday","text":"# of tickets \u0394 State 160 +0 Open 19 -2 Selected for Dev 35 +1 In Progress 8 +2 Dev Complete 12 +3 Ready for Testing 0 -1 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210629/#osg-software-team","text":"Kubernetes Hackathon this afternoon. Prioritize working on fallout from the recent outage, otherwise see tasks on https://opensciencegrid.atlassian.net/secure/RapidBoard.jspa?rapidView=34 Tim makeup doc focus Release AI (Mat): XRootD for EL8 for OSG 3.5. What's left? AI (Mat): xrootd-multiuser 1.1.0 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 )","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210629/#discussion","text":"ATLAS and CMS have tested IAM vo-client updates; Brian L will mail CERN folks to ask if they're ready for the transition XRootD 5.2 for OSG 3.5 has already been released xrootd-multiuser 1.1.0 in the 3.5 upcoming-testing repos; we're asking Justas from Caltech to test XRootD 5.3.0rc1 release candidate in the 3.5 upcoming-testing repos; Horst at OU was the most affected by bugs in previous versions so he is a good testing candidate AI (Mat): Create automated Koji user for doing CI builds","title":"Discussion"},{"location":"meetings/2021/TechArea20210629/#support-update","text":"MWT2 (BrianL): merged in .rpmsave containing a config fix for held job pile-up due to `SYSTEM PERIODIC ` expressions fighting Lehigh (Derek): (DONE) Removed extranous records GLOW (Derek): Submitted GRACC records with start date in 2008. Caused by node coming up after power outage with date set to 2008, so jobs will have \"started\" in 2008, and run until now, resulting in huge walltimes. Will remove. KSU (Derek): Likely IDS blocking access to data for JLAB jobs running at KSU. Not sure how to solve other than have JLAB blacklist KSU.","title":"Support Update"},{"location":"meetings/2021/TechArea20210629/#osg-devops","text":"XRootD Multiuser: 1.1.0 is tagged: https://opensciencegrid.atlassian.net/browse/SOFTWARE-4658 (in testing below) StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up) Debugging of gracc nodes after tiger update resulted in restarting a few pods, and 1 typo discovered. Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler development has begun! XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210629/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210629/#osg-release-team","text":"3.5.39 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +1 4 +0 14 +1 Open 2 +0 4 +0 1 +0 7 +0 Selected for Development 1 -1 0 -1 3 +0 4 -2 In Progress 0 +0 2 +1 0 +0 2 +1 Development Complete 5 +0 2 -2 2 +0 9 -2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 17 -1 9 -1 10 +0 36 -2 Total Software Ready for Testing Both vault 1.7.3, htvault-config 1.2 frontier-squid 4.15-2.1 (no log rotation if log compression disabled) OSG 3.5 XRootD 4.12.6-1.1 in EL8 osg-flock in EL8 gfal2 in EL8 OSG 3.5-upcoming xrootd-multiuser 1.1.0 XCache 2.0.1 (Python 3 conversion) OSG 3.6-upcoming HTCondor 9.1.0-1.2 Ready for Release Nothing Yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210629/#discussion_2","text":"Release this week Push out HTCondor 9.1.0 into EL6 with minimal testing","title":"Discussion"},{"location":"meetings/2021/TechArea20210706/","text":"OSG Technology Area Meeting, 6 July 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Marco, Marian, Mat, TimT Announcements \u00b6 Carl OOO until Thursday Mat OOO Jul 9-14 TimT OOO Jul 9 Triage Duty \u00b6 This week: BrianL Next week: TimT 4 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 152 -8 Open 24 +5 Selected for Dev 36 +1 In Progress 9 +1 Dev Complete 8 -4 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Tim makeup doc focus Release AI (Mat): XRootD 5.3.0 RC4 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs (SOFTWARE-4621) ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Move 99 gratia -ce.conf to /usr/share location AI (Carl): Missing zero walltime records AI (BrianL): Remove deps needed for Globus from HTCondor in 3.6 Discussion \u00b6 Madison would like GlideinWMS container images with immutable tags for their production frontends. Currently the images are contributed by Diego, but BrianL will make a ticket for tracking the issue. GlideinWMS 3.7 series release not expected until a few weeks from now. Upstream HTCondor 9.0.2 and BLAHP 2.1.0 release planned for tomorrow (7/7); TimT will provide BrianL with a BLAHP tarball for testing. Support Update \u00b6 SUT (BrianL): remote host missing libltdl IGWN frontend (Marian): proxy was not getting renewed, but a pod redeploy fixed the issue. Investigate the original cause; BrianL thinks it might have been a Fetch-CRL error. GLOW (Derek): Removed abnormal CMS records (900,000+ hours for 1 job), and re-uploaded WLCG records for June. OSG DevOps \u00b6 StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up) Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler development has begun! XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. Derek needs to discuss with XRootD team, but it will be on Derek's plate. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.41 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +1 4 +0 14 +0 Open 1 -1 3 -1 2 +1 6 -1 Selected for Development 0 -1 0 -1 3 +0 3 -1 In Progress 0 +0 2 +0 0 +0 2 +0 Development Complete 2 -3 1 -1 1 -1 4 -5 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 12 -5 7 -2 10 +0 29 -7 Total Software Ready for Testing OSG 3.5-upcoming XCache 2.0.1 (Python 3 conversion) Ready for Release Nothing Yet Data Nothing Operations Nothing Contrib Nothing Discussion \u00b6 None this week","title":"July 6, 2021"},{"location":"meetings/2021/TechArea20210706/#osg-technology-area-meeting-6-july-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Marco, Marian, Mat, TimT","title":"OSG Technology Area Meeting,  6 July 2021"},{"location":"meetings/2021/TechArea20210706/#announcements","text":"Carl OOO until Thursday Mat OOO Jul 9-14 TimT OOO Jul 9","title":"Announcements"},{"location":"meetings/2021/TechArea20210706/#triage-duty","text":"This week: BrianL Next week: TimT 4 (-2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210706/#jira-as-of-monday","text":"# of tickets \u0394 State 152 -8 Open 24 +5 Selected for Dev 36 +1 In Progress 9 +1 Dev Complete 8 -4 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210706/#osg-software-team","text":"Tim makeup doc focus Release AI (Mat): XRootD 5.3.0 RC4 AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs (SOFTWARE-4621) ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Move 99 gratia -ce.conf to /usr/share location AI (Carl): Missing zero walltime records AI (BrianL): Remove deps needed for Globus from HTCondor in 3.6","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210706/#discussion","text":"Madison would like GlideinWMS container images with immutable tags for their production frontends. Currently the images are contributed by Diego, but BrianL will make a ticket for tracking the issue. GlideinWMS 3.7 series release not expected until a few weeks from now. Upstream HTCondor 9.0.2 and BLAHP 2.1.0 release planned for tomorrow (7/7); TimT will provide BrianL with a BLAHP tarball for testing.","title":"Discussion"},{"location":"meetings/2021/TechArea20210706/#support-update","text":"SUT (BrianL): remote host missing libltdl IGWN frontend (Marian): proxy was not getting renewed, but a pod redeploy fixed the issue. Investigate the original cause; BrianL thinks it might have been a Fetch-CRL error. GLOW (Derek): Removed abnormal CMS records (900,000+ hours for 1 job), and re-uploaded WLCG records for June.","title":"Support Update"},{"location":"meetings/2021/TechArea20210706/#osg-devops","text":"StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up) Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler development has begun! XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. Derek needs to discuss with XRootD team, but it will be on Derek's plate. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210706/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210706/#osg-release-team","text":"3.5.41 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +1 4 +0 14 +0 Open 1 -1 3 -1 2 +1 6 -1 Selected for Development 0 -1 0 -1 3 +0 3 -1 In Progress 0 +0 2 +0 0 +0 2 +0 Development Complete 2 -3 1 -1 1 -1 4 -5 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 12 -5 7 -2 10 +0 29 -7 Total Software Ready for Testing OSG 3.5-upcoming XCache 2.0.1 (Python 3 conversion) Ready for Release Nothing Yet Data Nothing Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210706/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210713/","text":"OSG Technology Area Meeting, 13 July 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco, Marian, TimT Announcements \u00b6 Mat OOO Jul 9-14 BrianL OOO Friday Triage Duty \u00b6 This week: TimT Next week: Mat 6 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 151 -1 Open 24 +0 Selected for Dev 40 +4 In Progress 11 +2 Dev Complete 7 -1 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Tim makeup doc focus: EL8 interest is increasing Kubernetes Hackathon Release AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs (SOFTWARE-4621) ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Move 99 gratia -ce.conf to /usr/share location AI (Carl): Missing zero walltime records AI (BrianL): Tag and build VO client Discussion \u00b6 None this week Support Update \u00b6 None this week OSG DevOps \u00b6 StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up) Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler development has begun! XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. Derek needs to discuss with XRootD team, but it will be on Derek's plate. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.41 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +0 4 +0 14 +0 Open 1 +0 3 +0 1 -1 5 -1 Selected for Development 0 +0 1 +1 4 +1 5 +2 In Progress 0 +0 2 +0 0 +0 2 +0 Development Complete 2 +0 3 +2 0 -1 5 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 12 +0 10 +3 9 -1 31 +2 Total Software Ready for Testing OSG 3.5-upcoming XRootD 5.3.0 XCache 2.0.1 (Python 3 conversion) Ready for Release Nothing Yet Data VO Package v114 Operations Nothing Contrib Nothing Discussion \u00b6 VO Package v114 should go out this week","title":"July 13, 2021"},{"location":"meetings/2021/TechArea20210713/#osg-technology-area-meeting-13-july-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco, Marian, TimT","title":"OSG Technology Area Meeting, 13 July 2021"},{"location":"meetings/2021/TechArea20210713/#announcements","text":"Mat OOO Jul 9-14 BrianL OOO Friday","title":"Announcements"},{"location":"meetings/2021/TechArea20210713/#triage-duty","text":"This week: TimT Next week: Mat 6 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210713/#jira-as-of-monday","text":"# of tickets \u0394 State 151 -1 Open 24 +0 Selected for Dev 40 +4 In Progress 11 +2 Dev Complete 7 -1 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210713/#osg-software-team","text":"Tim makeup doc focus: EL8 interest is increasing Kubernetes Hackathon Release AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs (SOFTWARE-4621) ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Move 99 gratia -ce.conf to /usr/share location AI (Carl): Missing zero walltime records AI (BrianL): Tag and build VO client","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210713/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210713/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2021/TechArea20210713/#osg-devops","text":"StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up) Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler development has begun! XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. Derek needs to discuss with XRootD team, but it will be on Derek's plate. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210713/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210713/#osg-release-team","text":"3.5.41 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +0 4 +0 14 +0 Open 1 +0 3 +0 1 -1 5 -1 Selected for Development 0 +0 1 +1 4 +1 5 +2 In Progress 0 +0 2 +0 0 +0 2 +0 Development Complete 2 +0 3 +2 0 -1 5 +1 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 12 +0 10 +3 9 -1 31 +2 Total Software Ready for Testing OSG 3.5-upcoming XRootD 5.3.0 XCache 2.0.1 (Python 3 conversion) Ready for Release Nothing Yet Data VO Package v114 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210713/#discussion_2","text":"VO Package v114 should go out this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210720/","text":"OSG Technology Area Meeting, 20 July 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Carl OOO Jul 26-30 Triage Duty \u00b6 This week: Mat Next week: BrianL (?) 10 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 147 -4 Open 27 +3 Selected for Dev 37 -3 In Progress 10 -1 Dev Complete 7 +0 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Tim makeup doc focus: EL8 interest is increasing Fill out doc focus poll: https://terminplaner.dfn.de/RxlXW8dscNfMXaMx Release AI (Carl): Follow-up on Lincoln's gratia-probe stacktrace reported in #software AI (Carl): Move 99 gratia -ce.conf to /usr/share location AI (Carl): Release gratia-probe 1.23.4+, 2.0.1+ AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Missing zero walltime records AI (BrianL): Use vomsxrd config in osg-xrootd on 3.6 AI (TimT): SciTokens credmon? AI (BrianL): Give GlideinWMS team JIRA access. Discussion \u00b6 GlideinWMS 3.7 release candidate planned for tomorrow (7/21). Support Update \u00b6 (Derek) SIUE - Discovered bug in gratia probe, fixed locally and submitted upstream: https://github.com/opensciencegrid/gratia-probe/pull/107 BrianL: We are currently only sending LIGO jobs to Georgia Tech to avoid having OSG (and other VO) jobs run on LIGO pilots. Marian: Continuing to debug JLab submissions at Georgia Tech. Lamar (CLAS12) does not have any pilots or show any HTCondor activity. Finish setting up ICTS; it is registered in Topology so only the factory config needs to be updated. Mat: Lancium not seeing enough jobs again; Brian will investigate further. OSG DevOps \u00b6 StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Now on to the collector. XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. Maybe we have been doing tokens wrong? Use the typ rather than ver . (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 3.5.41 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +0 3 -1 13 -1 Open 2 +1 2 -1 1 +0 5 +0 Selected for Development 0 +0 2 +1 5 +1 7 +2 In Progress 0 +0 3 +1 0 +0 3 +1 Development Complete 3 +1 4 +1 0 +0 7 +2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 14 +2 12 +2 9 +0 35 +4 Total Software Ready for Testing OSG 3.5-upcoming HTCondor 9.0.2 + blahp 2.1.0 XRootD 5.3.0 XCache 2.0.1 (Python 3 conversion) Ready for Release Nothing Yet Data VO Package v114 Operations Nothing Contrib Nothing Discussion \u00b6 VO Package v114 should go out this week","title":"July 20, 2021"},{"location":"meetings/2021/TechArea20210720/#osg-technology-area-meeting-20-july-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 20 July 2021"},{"location":"meetings/2021/TechArea20210720/#announcements","text":"Carl OOO Jul 26-30","title":"Announcements"},{"location":"meetings/2021/TechArea20210720/#triage-duty","text":"This week: Mat Next week: BrianL (?) 10 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210720/#jira-as-of-monday","text":"# of tickets \u0394 State 147 -4 Open 27 +3 Selected for Dev 37 -3 In Progress 10 -1 Dev Complete 7 +0 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210720/#osg-software-team","text":"Tim makeup doc focus: EL8 interest is increasing Fill out doc focus poll: https://terminplaner.dfn.de/RxlXW8dscNfMXaMx Release AI (Carl): Follow-up on Lincoln's gratia-probe stacktrace reported in #software AI (Carl): Move 99 gratia -ce.conf to /usr/share location AI (Carl): Release gratia-probe 1.23.4+, 2.0.1+ AI (Carl): Fix default HTCondor-CE ProbeConfig default dirs ( https://opensciencegrid.atlassian.net/browse/SOFTWARE-4621 ) AI (Carl): Missing zero walltime records AI (BrianL): Use vomsxrd config in osg-xrootd on 3.6 AI (TimT): SciTokens credmon? AI (BrianL): Give GlideinWMS team JIRA access.","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210720/#discussion","text":"GlideinWMS 3.7 release candidate planned for tomorrow (7/21).","title":"Discussion"},{"location":"meetings/2021/TechArea20210720/#support-update","text":"(Derek) SIUE - Discovered bug in gratia probe, fixed locally and submitted upstream: https://github.com/opensciencegrid/gratia-probe/pull/107 BrianL: We are currently only sending LIGO jobs to Georgia Tech to avoid having OSG (and other VO) jobs run on LIGO pilots. Marian: Continuing to debug JLab submissions at Georgia Tech. Lamar (CLAS12) does not have any pilots or show any HTCondor activity. Finish setting up ICTS; it is registered in Topology so only the factory config needs to be updated. Mat: Lancium not seeing enough jobs again; Brian will investigate further.","title":"Support Update"},{"location":"meetings/2021/TechArea20210720/#osg-devops","text":"StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Now on to the collector. XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. Maybe we have been doing tokens wrong? Use the typ rather than ver . (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210720/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210720/#osg-release-team","text":"3.5.41 \u0394 Both \u0394 3.6 \u0394 Total \u0394 Status 9 +0 1 +0 3 -1 13 -1 Open 2 +1 2 -1 1 +0 5 +0 Selected for Development 0 +0 2 +1 5 +1 7 +2 In Progress 0 +0 3 +1 0 +0 3 +1 Development Complete 3 +1 4 +1 0 +0 7 +2 Ready for Testing 0 +0 0 +0 0 +0 0 +0 Ready for Release 14 +2 12 +2 9 +0 35 +4 Total Software Ready for Testing OSG 3.5-upcoming HTCondor 9.0.2 + blahp 2.1.0 XRootD 5.3.0 XCache 2.0.1 (Python 3 conversion) Ready for Release Nothing Yet Data VO Package v114 Operations Nothing Contrib Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210720/#discussion_2","text":"VO Package v114 should go out this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210727/","text":"OSG Technology Area Meeting, 27 July 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Marco Mambelli, Mat, TimT Announcements \u00b6 Carl OOO Jul 26-30 Party at Tim's house with three racks of ribs Triage Duty \u00b6 This week: BrianL Next week: Carl 6 (-4) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 148 +1 Open 25 -2 Selected for Dev 36 -1 In Progress 12 +2 Dev Complete 3 -4 Ready for Testing 3 +3 Ready for Release OSG Software Team \u00b6 Kubernetes Hackathon this afternoon Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Release AI (BrianL): Use vomsxrd config in osg-xrootd on 3.6 AI (TimT): SciTokens credmon? AI (BrianL): Verify that HTCondor got updated on the OS registry AT (BrianL): Create ticket for pushing to OSG Hub as well as Docker Hub in automated builds Discussion \u00b6 GlideinWMS release candidate expected later this week SSH to tiger cluster head node only available from select CHTC hosts; kubectl access has not been changed Support Update \u00b6 None this week OSG DevOps \u00b6 StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Now on to the collector. XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. Maybe we have been doing tokens wrong? Use the `typ` rather than `ver`. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.42 and OSG 3.6 (today) HTCondor Security Release 8.8.14, 9.0.3, 9.1.1 OSG 3.5.43 and OSG 3.6 (Thursday) Ready for Testing OSG 3.5 and 3.6 gratia-probe 1.24.0 Ready for Release OSG 3.5 Upcoming: XCache 2.0.1 (Python 3 conversion) VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3 OSG 3.6 VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3 Discussion \u00b6 None this week","title":"July 27, 2021"},{"location":"meetings/2021/TechArea20210727/#osg-technology-area-meeting-27-july-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Marco Mambelli, Mat, TimT","title":"OSG Technology Area Meeting, 27 July 2021"},{"location":"meetings/2021/TechArea20210727/#announcements","text":"Carl OOO Jul 26-30 Party at Tim's house with three racks of ribs","title":"Announcements"},{"location":"meetings/2021/TechArea20210727/#triage-duty","text":"This week: BrianL Next week: Carl 6 (-4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210727/#jira-as-of-monday","text":"# of tickets \u0394 State 148 +1 Open 25 -2 Selected for Dev 36 -1 In Progress 12 +2 Dev Complete 3 -4 Ready for Testing 3 +3 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210727/#osg-software-team","text":"Kubernetes Hackathon this afternoon Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Release AI (BrianL): Use vomsxrd config in osg-xrootd on 3.6 AI (TimT): SciTokens credmon? AI (BrianL): Verify that HTCondor got updated on the OS registry AT (BrianL): Create ticket for pushing to OSG Hub as well as Docker Hub in automated builds","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210727/#discussion","text":"GlideinWMS release candidate expected later this week SSH to tiger cluster head node only available from select CHTC hosts; kubectl access has not been changed","title":"Discussion"},{"location":"meetings/2021/TechArea20210727/#support-update","text":"None this week","title":"Support Update"},{"location":"meetings/2021/TechArea20210727/#osg-devops","text":"StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Now on to the collector. XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. Maybe we have been doing tokens wrong? Use the `typ` rather than `ver`. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210727/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210727/#osg-release-team","text":"OSG 3.5.42 and OSG 3.6 (today) HTCondor Security Release 8.8.14, 9.0.3, 9.1.1 OSG 3.5.43 and OSG 3.6 (Thursday) Ready for Testing OSG 3.5 and 3.6 gratia-probe 1.24.0 Ready for Release OSG 3.5 Upcoming: XCache 2.0.1 (Python 3 conversion) VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3 OSG 3.6 VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210727/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210803/","text":"OSG Technology Area Meeting, 3 August 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marian, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: Carl Next week: Mat 7 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 153 +5 Open 26 +1 Selected for Dev 39 +3 In Progress 11 -1 Dev Complete 3 +0 Ready for Testing 5 +2 Ready for Release OSG Software Team \u00b6 Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Release AI (TimT): SciTokens credmon? AI (Carl): Move Gratia sub-tickets into RFT AI (Carl): Improve default ProbeConfig directory configuration GSI Transition AI (Carl): Directly query OSG COManage's LDAP for OSGID (SOFTWARE-4528) AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) AI (BrianL): Get XRootD tests running with proxies again (SOFTWARE-4604) OSG VO Backfill Containers AI (Mat): Add support for limiting resources available to the osgvo-docker-pilot (SOFTWARE-4634) AI (BrianL): Add CI tests Other AI (Mat): Review comments on cvmfsexec doc changes AI (BrianL): Investigate persistent condor_ce_run failures in 3.6 nightlies Discussion \u00b6 GlideinWMS 3.7.5 still in progress; release candidate expected today/tomorrow; rc will contain cvmfsexec support Support Update \u00b6 Georgia Tech (BrianL): Gave them some AP HTCondor config that should prevent pilots from flocking out to pilots Lancium (BrianL, Mats): live backfill container debugging session that uncovered issues in the periodic health check not properly detecting unpriv Singularity. Multiple (Derek): Several sites had failed gratia probes over the last week. All isolated events, but I think there were 4 at the same time. OSG DevOps \u00b6 Elasticsearch will need to be updated. Working on a schedule. StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 50% done. Design document is still not reviewed, but moving foward anyways. XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. Maybe we have been doing tokens wrong? Use the `typ` rather than `ver`. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year. Discussion \u00b6 None this week OSG Release Team \u00b6 Ready for Testing gratia-probe 1.24.0 (OSG 3.5 and 3.6) XRootD 5.3.1 (OSG 3.5-upcoming) Ready for Release OSG 3.5 Upcoming: XCache 2.0.1 (Python 3 conversion) VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3 OSG 3.6 VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3 Discussion \u00b6 None this week","title":"August 3, 2021"},{"location":"meetings/2021/TechArea20210803/#osg-technology-area-meeting-3-august-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 3 August 2021"},{"location":"meetings/2021/TechArea20210803/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210803/#triage-duty","text":"This week: Carl Next week: Mat 7 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210803/#jira-as-of-monday","text":"# of tickets \u0394 State 153 +5 Open 26 +1 Selected for Dev 39 +3 In Progress 11 -1 Dev Complete 3 +0 Ready for Testing 5 +2 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210803/#osg-software-team","text":"Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Release AI (TimT): SciTokens credmon? AI (Carl): Move Gratia sub-tickets into RFT AI (Carl): Improve default ProbeConfig directory configuration GSI Transition AI (Carl): Directly query OSG COManage's LDAP for OSGID (SOFTWARE-4528) AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) AI (BrianL): Get XRootD tests running with proxies again (SOFTWARE-4604) OSG VO Backfill Containers AI (Mat): Add support for limiting resources available to the osgvo-docker-pilot (SOFTWARE-4634) AI (BrianL): Add CI tests Other AI (Mat): Review comments on cvmfsexec doc changes AI (BrianL): Investigate persistent condor_ce_run failures in 3.6 nightlies","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210803/#discussion","text":"GlideinWMS 3.7.5 still in progress; release candidate expected today/tomorrow; rc will contain cvmfsexec support","title":"Discussion"},{"location":"meetings/2021/TechArea20210803/#support-update","text":"Georgia Tech (BrianL): Gave them some AP HTCondor config that should prevent pilots from flocking out to pilots Lancium (BrianL, Mats): live backfill container debugging session that uncovered issues in the periodic health check not properly detecting unpriv Singularity. Multiple (Derek): Several sites had failed gratia probes over the last week. All isolated events, but I think there were 4 at the same time.","title":"Support Update"},{"location":"meetings/2021/TechArea20210803/#osg-devops","text":"Elasticsearch will need to be updated. Working on a schedule. StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 50% done. Design document is still not reviewed, but moving foward anyways. XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. More partners are asking about scitokens-cpp, and compatibility. Expect some updates. Maybe we have been doing tokens wrong? Use the `typ` rather than `ver`. (Stalled, but need to get back to it) XRootD accounting information (from Frank): May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. Table of working set, read, and re-read for monthly, quarterly, and year.","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210803/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210803/#osg-release-team","text":"Ready for Testing gratia-probe 1.24.0 (OSG 3.5 and 3.6) XRootD 5.3.1 (OSG 3.5-upcoming) Ready for Release OSG 3.5 Upcoming: XCache 2.0.1 (Python 3 conversion) VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3 OSG 3.6 VOMS 2.0.16 (2.1.0rc? on EL8) htvault-config 1.4 and htgettoken 1.3","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210803/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210810/","text":"OSG Technology Area Meeting, 10 August 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marian, Mat, TimT Announcements \u00b6 OSG User School in session until the end of the week Triage Duty \u00b6 This week: Mat Next week: TimT 9 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 155 +2 Open 26 +0 Selected for Dev 39 +0 In Progress 6 -5 Dev Complete 8 +3 Ready for Testing 6 +1 Ready for Release OSG Software Team \u00b6 Kuberentes Hackathon today 1-5pm Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Release AI (TimT): SciTokens update for EL8 (SOFTWARE-4126) AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (BrianL): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): osg-token-renewer package AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) AI (BrianL): Get XRootD tests running with proxies again (SOFTWARE-4604) Other AI (BrianL): Investigate persistent condor_ce_run failures in 3.6 nightlies AI (Mat): Review comments on cvmfsexec doc changes AI (BrianL): Add CI tests Discussion \u00b6 GRACC upgrade is planned for the end of August Support Update \u00b6 Georgia Tech (BrianL, Mats): Need to verify that the config worked to prevent pilots from running in pilots Lancium (BrianL, Mats): their GPUs are still going unused, it seems that RecentJobStarts is frequently at its limit of 400 starts/20 min JLab (Marian): Fixed HTCondor configuration; JLab admins should be informed to expect some downtime and manual changes between OSG release series upgrades Lamar (Marian): Jobs are running but requesting Software Team help to examine job classads for anything unexpected BNL (Marian): Troubleshooting with John de Stefano and other BNL admins; getting unexpected behavior from Freshdesk with notes or replies not getting to everyone on the ticket. Marian will notify Freshdesk support about the strange behavior. Hosted CEs (Carl): Investigate hosted-ce35 not reporting to GRACC. University of Illinois (Mat): Undesired XRootD HTTP plugin behavior; Mat is following discussion between XRootD developers OSG DevOps \u00b6 New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Elasticsearch will need to be updated, scheduled for last week in August. - StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, - Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 80% done. Design document is still not reviewed, but moving foward anyways. - Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.45 and OSG 3.6 (Thursday) Ready for Release gratia-probe 1.24.0 (OSG 3.5 and 3.6) XRootD 5.3.1 (OSG 3.5-upcoming) Discussion \u00b6 None this week","title":"August 10, 2021"},{"location":"meetings/2021/TechArea20210810/#osg-technology-area-meeting-10-august-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 10 August 2021"},{"location":"meetings/2021/TechArea20210810/#announcements","text":"OSG User School in session until the end of the week","title":"Announcements"},{"location":"meetings/2021/TechArea20210810/#triage-duty","text":"This week: Mat Next week: TimT 9 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210810/#jira-as-of-monday","text":"# of tickets \u0394 State 155 +2 Open 26 +0 Selected for Dev 39 +0 In Progress 6 -5 Dev Complete 8 +3 Ready for Testing 6 +1 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210810/#osg-software-team","text":"Kuberentes Hackathon today 1-5pm Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Release AI (TimT): SciTokens update for EL8 (SOFTWARE-4126) AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (BrianL): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): osg-token-renewer package AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) AI (BrianL): Get XRootD tests running with proxies again (SOFTWARE-4604) Other AI (BrianL): Investigate persistent condor_ce_run failures in 3.6 nightlies AI (Mat): Review comments on cvmfsexec doc changes AI (BrianL): Add CI tests","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210810/#discussion","text":"GRACC upgrade is planned for the end of August","title":"Discussion"},{"location":"meetings/2021/TechArea20210810/#support-update","text":"Georgia Tech (BrianL, Mats): Need to verify that the config worked to prevent pilots from running in pilots Lancium (BrianL, Mats): their GPUs are still going unused, it seems that RecentJobStarts is frequently at its limit of 400 starts/20 min JLab (Marian): Fixed HTCondor configuration; JLab admins should be informed to expect some downtime and manual changes between OSG release series upgrades Lamar (Marian): Jobs are running but requesting Software Team help to examine job classads for anything unexpected BNL (Marian): Troubleshooting with John de Stefano and other BNL admins; getting unexpected behavior from Freshdesk with notes or replies not getting to everyone on the ticket. Marian will notify Freshdesk support about the strange behavior. Hosted CEs (Carl): Investigate hosted-ce35 not reporting to GRACC. University of Illinois (Mat): Undesired XRootD HTTP plugin behavior; Mat is following discussion between XRootD developers","title":"Support Update"},{"location":"meetings/2021/TechArea20210810/#osg-devops","text":"New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Elasticsearch will need to be updated, scheduled for last week in August. - StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, - Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 80% done. Design document is still not reviewed, but moving foward anyways. - Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210810/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210810/#osg-release-team","text":"OSG 3.5.45 and OSG 3.6 (Thursday) Ready for Release gratia-probe 1.24.0 (OSG 3.5 and 3.6) XRootD 5.3.1 (OSG 3.5-upcoming)","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210810/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210817/","text":"OSG Technology Area Meeting, 17 August 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco, Marian, Mat, TimT Announcements \u00b6 Triage Duty \u00b6 This week: TimT Next week: BrianL? 13 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 156 +1 Open 26 +0 Selected for Dev 39 +0 In Progress 9 +3 Dev Complete 0 -8 Ready for Testing 0 -6 Ready for Release OSG Software Team \u00b6 Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Planning to add a \"doc pending\" status before RFT Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (BrianL, Mat): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): osg-token-renewer package AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) AI (BrianL): Get XRootD tests running with proxies again (SOFTWARE-4604) Other AI (Mat): Review comments on cvmfsexec doc changes AI (BrianL): Add backfill container CI tests Discussion \u00b6 GRACC upgrade is planned for the end of August Diego noticed some condor_mapfile entries weren't matching if the incoming cert had both commas and VOMS attributes. There's a regex recipe that fixes it, which needs to be documented (HTCONDOR-651) Support Update \u00b6 Brown (BrianL): authN failures with their GridFTP + XRootD setup Caltech (BrianL): investigated 8.8.15 stacktrace LIGO-WA & LIGO-LA (Carl): invstigating missing probes in the payload summary page GlideinWMS (Marco): removed the code section in the user job wrapper that tried to add condor_chirp; will be replaced with a Python version 3.7 release candidate still in progress OSG DevOps \u00b6 New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Elasticsearch will need to be updated, scheduled for last week in August. Planning ongoing. - StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, - Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 90% done. Design document is still not reviewed, but moving foward anyways. - Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.45-2 and OSG 3.6 (2021-08-16) CA Certificates based on IGTF 1.112 OSG 3.5.46 and OSG 3.6 Ready for Testing Nothing Ready for Release Nothing Discussion \u00b6 None this week","title":"August 17, 2021"},{"location":"meetings/2021/TechArea20210817/#osg-technology-area-meeting-17-august-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 17 August 2021"},{"location":"meetings/2021/TechArea20210817/#announcements","text":"","title":"Announcements"},{"location":"meetings/2021/TechArea20210817/#triage-duty","text":"This week: TimT Next week: BrianL? 13 (+4) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210817/#jira-as-of-monday","text":"# of tickets \u0394 State 156 +1 Open 26 +0 Selected for Dev 39 +0 In Progress 9 +3 Dev Complete 0 -8 Ready for Testing 0 -6 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210817/#osg-software-team","text":"Tim makeup doc focus: EL8 interest is increasing Doc focus Aug 20 Planning to add a \"doc pending\" status before RFT Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (BrianL, Mat): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): osg-token-renewer package AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) AI (BrianL): Get XRootD tests running with proxies again (SOFTWARE-4604) Other AI (Mat): Review comments on cvmfsexec doc changes AI (BrianL): Add backfill container CI tests","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210817/#discussion","text":"GRACC upgrade is planned for the end of August Diego noticed some condor_mapfile entries weren't matching if the incoming cert had both commas and VOMS attributes. There's a regex recipe that fixes it, which needs to be documented (HTCONDOR-651)","title":"Discussion"},{"location":"meetings/2021/TechArea20210817/#support-update","text":"Brown (BrianL): authN failures with their GridFTP + XRootD setup Caltech (BrianL): investigated 8.8.15 stacktrace LIGO-WA & LIGO-LA (Carl): invstigating missing probes in the payload summary page GlideinWMS (Marco): removed the code section in the user job wrapper that tried to add condor_chirp; will be replaced with a Python version 3.7 release candidate still in progress","title":"Support Update"},{"location":"meetings/2021/TechArea20210817/#osg-devops","text":"New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Elasticsearch will need to be updated, scheduled for last week in August. Planning ongoing. - StashCP go client is working and tested, and being tested by Christina now. Need to talk to Mats on packaging and releasing. (will follow up). No news from Christina, - Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 90% done. Design document is still not reviewed, but moving foward anyways. - Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210817/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210817/#osg-release-team","text":"OSG 3.5.45-2 and OSG 3.6 (2021-08-16) CA Certificates based on IGTF 1.112 OSG 3.5.46 and OSG 3.6 Ready for Testing Nothing Ready for Release Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210817/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210824/","text":"OSG Technology Area Meeting, 24 August 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Derek, Marco, Marian, Mat, Tim Announcements \u00b6 Carl OOO Wed-Thu TimT OOO Fri afternoon Triage Duty \u00b6 This week: BrianL Next week: Carl 8 (-5) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 156 +0 Open 35 +9 Selected for Dev 38 -1 In Progress 10 +1 Dev Complete 2 +2 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Planning to add a \"doc pending\" or \"promotion requested\" status before RFT Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (Mat, BrianL): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (BrianL): Review the osg-token-renewer package AI (Mat): Get XRootD tests running with proxies again (SOFTWARE-4604) AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Other AI (BrianL): Add backfill container CI tests AI (TimT): Release HTCondor 9.1.4; add a fix/patch for proxy delegation Discussion \u00b6 None this week Support Update \u00b6 Colorado (BrianL): OSG-issued IGTF certs won't work because their IT won't issue a PTR pointing to the OSG domain Brown (Derek): Supporting XRootD configuration. Using standalone config, but also copied from other server that was working before. Old LCMaps configuration. Caltech (Derek)/LIGO (Carl): Debugging accounting information not showing up in the GRACC or in Gratia logs. (These are two separate tickets for the same issue; BrianL will merge them) UERJ (Carl): Provided support for tuning GridFTP configuration Hosted CEs (Carl): Hosted CEs failed to quarantine history files because the Gratia probes run as the 'condor' user and do not have write permission to the quarantine directory. This results in zero-length jobs not being reported to GRACC OSG DevOps \u00b6 New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - StashCP Go client is now being used and distributed with every OSPool Glidein! Being used in the stash:/// transfer plugin and starting to be used by Mats on his singularity image distribution. Ongoing: - Elasticsearch will need to be updated, scheduled for last week in August. Planning ongoing. - Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 90% done. Design document is still not reviewed, but moving foward anyways. - Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.46 and OSG 3.6 Ready for Testing Nothing Ready for Release Nothing Discussion \u00b6 HTCondor 9.0.5, HTCondor 9.1.3, and blahp 2.1.1 should be ready for testing today Proxy delegation problem with mixed versions in HTCondor 9.1.3","title":"August 24, 2021"},{"location":"meetings/2021/TechArea20210824/#osg-technology-area-meeting-24-august-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Derek, Marco, Marian, Mat, Tim","title":"OSG Technology Area Meeting, 24 August 2021"},{"location":"meetings/2021/TechArea20210824/#announcements","text":"Carl OOO Wed-Thu TimT OOO Fri afternoon","title":"Announcements"},{"location":"meetings/2021/TechArea20210824/#triage-duty","text":"This week: BrianL Next week: Carl 8 (-5) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210824/#jira-as-of-monday","text":"# of tickets \u0394 State 156 +0 Open 35 +9 Selected for Dev 38 -1 In Progress 10 +1 Dev Complete 2 +2 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210824/#osg-software-team","text":"Planning to add a \"doc pending\" or \"promotion requested\" status before RFT Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (Mat, BrianL): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (BrianL): Review the osg-token-renewer package AI (Mat): Get XRootD tests running with proxies again (SOFTWARE-4604) AI (Mat): Add API token authentication to Topology (SOFTWARE-4134) Other AI (BrianL): Add backfill container CI tests AI (TimT): Release HTCondor 9.1.4; add a fix/patch for proxy delegation","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210824/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210824/#support-update","text":"Colorado (BrianL): OSG-issued IGTF certs won't work because their IT won't issue a PTR pointing to the OSG domain Brown (Derek): Supporting XRootD configuration. Using standalone config, but also copied from other server that was working before. Old LCMaps configuration. Caltech (Derek)/LIGO (Carl): Debugging accounting information not showing up in the GRACC or in Gratia logs. (These are two separate tickets for the same issue; BrianL will merge them) UERJ (Carl): Provided support for tuning GridFTP configuration Hosted CEs (Carl): Hosted CEs failed to quarantine history files because the Gratia probes run as the 'condor' user and do not have write permission to the quarantine directory. This results in zero-length jobs not being reported to GRACC","title":"Support Update"},{"location":"meetings/2021/TechArea20210824/#osg-devops","text":"New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - StashCP Go client is now being used and distributed with every OSPool Glidein! Being used in the stash:/// transfer plugin and starting to be used by Mats on his singularity image distribution. Ongoing: - Elasticsearch will need to be updated, scheduled for last week in August. Planning ongoing. - Design document is done and is being distributed for xrootd monitoring collector NG (next gen). Shoveler is working and lightly tested. Collector is 90% done. Design document is still not reviewed, but moving foward anyways. - Discussions of xrootd-multiuser support for checksumming on-the-fly. After a discussion, the checksum-on-the-fly funcationality will be ported to xrootd-multiuser. Copied largely from xrootd-hdfs. This does mean that out-of-order writes will not be supported. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210824/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210824/#osg-release-team","text":"OSG 3.5.46 and OSG 3.6 Ready for Testing Nothing Ready for Release Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210824/#discussion_2","text":"HTCondor 9.0.5, HTCondor 9.1.3, and blahp 2.1.1 should be ready for testing today Proxy delegation problem with mixed versions in HTCondor 9.1.3","title":"Discussion"},{"location":"meetings/2021/TechArea20210831/","text":"OSG Technology Area Meeting, 31 August 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Derek, Marco, Marian, Mat, Tim Announcements \u00b6 CE Token Hackathon 1-5pm today Triage Duty \u00b6 This week: Carl Next week: Mat 11 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 162 +6 Open 34 -1 Selected for Dev 41 +3 In Progress 9 -1 Dev Complete 5 +3 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Planning to add a \"doc pending\" or \"promotion requested\" status before RFT Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): Address osg-token-renewer review comments AI (Mat): Get XRootD tests running with proxies again (SOFTWARE-4604) Other AI (BrianL): Add backfill container CI tests AI (Carl, Mat): Review OS Pool AP Topology PR Discussion \u00b6 Mat and Marco should attend CE hackathon today; frontend admins should consider briefly joining. Marco investigating an incompatibility between a 3.6.5 factory (used at FNAL) and newer frontends. Support Update \u00b6 Marian: Singularity issues at Utah. Should assign ticket to Mats Rynge and add Mat as a watcher. HTCondor not properly handling CNAMEs in the IGWN central manager. Admins should create an A record for now, but BrianB will ask the HTCondor developers to address the issue. Carl: Waiting for response from LIGO about their accounting issue. No follow-up yet from HTCondor devs for DUNE/TIFR. Carl will examine the schedd log for any clues. Mat: Helping Andrew Melo with an overloaded schedd; HTCondor developers have joined the conversation. Greg Daues at U Illinois hasn't responded regarding minor XRootD security issue they found. Fix expected in XRootD 5.4.0; since it's security-related, it will also go into OSG 3.5-upcoming. OSG DevOps \u00b6 New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - Elasticsearch is being from 7.10.2 to 7.14.1. Some downtime expected, but only momentarily. No gratia probes or clients should notice. Ongoing: - Shoveler is working and lightly tested. Collector is 90% done. - Checksums in xrootd-multiuser is 70% done. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.46 and OSG 3.6 Ready for Testing 3.5.46-upcoming and 3.6: HTCondor 9.0.5 and blahp 2.1.1 Ready for Release Nothing Discussion \u00b6 None this week","title":"August 31, 2021"},{"location":"meetings/2021/TechArea20210831/#osg-technology-area-meeting-31-august-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Derek, Marco, Marian, Mat, Tim","title":"OSG Technology Area Meeting, 31 August 2021"},{"location":"meetings/2021/TechArea20210831/#announcements","text":"CE Token Hackathon 1-5pm today","title":"Announcements"},{"location":"meetings/2021/TechArea20210831/#triage-duty","text":"This week: Carl Next week: Mat 11 (+3) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210831/#jira-as-of-monday","text":"# of tickets \u0394 State 162 +6 Open 34 -1 Selected for Dev 41 +3 In Progress 9 -1 Dev Complete 5 +3 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210831/#osg-software-team","text":"Planning to add a \"doc pending\" or \"promotion requested\" status before RFT Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): Address osg-token-renewer review comments AI (Mat): Get XRootD tests running with proxies again (SOFTWARE-4604) Other AI (BrianL): Add backfill container CI tests AI (Carl, Mat): Review OS Pool AP Topology PR","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210831/#discussion","text":"Mat and Marco should attend CE hackathon today; frontend admins should consider briefly joining. Marco investigating an incompatibility between a 3.6.5 factory (used at FNAL) and newer frontends.","title":"Discussion"},{"location":"meetings/2021/TechArea20210831/#support-update","text":"Marian: Singularity issues at Utah. Should assign ticket to Mats Rynge and add Mat as a watcher. HTCondor not properly handling CNAMEs in the IGWN central manager. Admins should create an A record for now, but BrianB will ask the HTCondor developers to address the issue. Carl: Waiting for response from LIGO about their accounting issue. No follow-up yet from HTCondor devs for DUNE/TIFR. Carl will examine the schedd log for any clues. Mat: Helping Andrew Melo with an overloaded schedd; HTCondor developers have joined the conversation. Greg Daues at U Illinois hasn't responded regarding minor XRootD security issue they found. Fix expected in XRootD 5.4.0; since it's security-related, it will also go into OSG 3.5-upcoming.","title":"Support Update"},{"location":"meetings/2021/TechArea20210831/#osg-devops","text":"New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - Elasticsearch is being from 7.10.2 to 7.14.1. Some downtime expected, but only momentarily. No gratia probes or clients should notice. Ongoing: - Shoveler is working and lightly tested. Collector is 90% done. - Checksums in xrootd-multiuser is 70% done. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210831/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210831/#osg-release-team","text":"OSG 3.5.46 and OSG 3.6 Ready for Testing 3.5.46-upcoming and 3.6: HTCondor 9.0.5 and blahp 2.1.1 Ready for Release Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210831/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210907/","text":"OSG Technology Area Meeting, 7 September 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Mat, Tim Announcements \u00b6 Kubernetes Hackathon 1-5pm today Triage Duty \u00b6 This week: Mat Next week: TimT 11 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 163 +1 Open 32 -2 Selected for Dev 37 -4 In Progress 14 +5 Dev Complete 4 -1 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) AI (Mat): Kick off GlideinWMS 3.7.5 VMU tests GSI Transition AI (Carl): Address osg-token-renewer review comments Other AI (BrianL): Add backfill container CI tests AI (BrianL): add SSH certificate to the Hosted CE Discussion \u00b6 A longer term project for Carl is to enable mass token requests so Harvester folks can make a token per CE. Support Update \u00b6 Lancium (BrianL): backfill containers with bind-mounted CVMFS weren't getting jobs because they did not specify shared to the bind mount OSG DevOps \u00b6 New: - GRACC update completed; backup service verification to come this week. - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - Stashcp changes to support authenticated reading from /ospool namespace. Ongoing: - Shoveler is working and lightly tested. Collector is 90% done. - Checksums in xrootd-multiuser is 80% done. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.46 and OSG 3.6 Ready for Testing 3.5.46-upcoming and 3.6: HTCondor 9.0.5 and blahp 2.1.1 Ready for Release Nothing Discussion \u00b6 None this week","title":"September 7, 2021"},{"location":"meetings/2021/TechArea20210907/#osg-technology-area-meeting-7-september-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: Brian, Carl, Mat, Tim","title":"OSG Technology Area Meeting, 7 September 2021"},{"location":"meetings/2021/TechArea20210907/#announcements","text":"Kubernetes Hackathon 1-5pm today","title":"Announcements"},{"location":"meetings/2021/TechArea20210907/#triage-duty","text":"This week: Mat Next week: TimT 11 (+0) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210907/#jira-as-of-monday","text":"# of tickets \u0394 State 163 +1 Open 32 -2 Selected for Dev 37 -4 In Progress 14 +5 Dev Complete 4 -1 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210907/#osg-software-team","text":"Release AI (Carl): Improve default ProbeConfig directory configuration (SOFTWARE-4621) AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) AI (Mat): Kick off GlideinWMS 3.7.5 VMU tests GSI Transition AI (Carl): Address osg-token-renewer review comments Other AI (BrianL): Add backfill container CI tests AI (BrianL): add SSH certificate to the Hosted CE","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210907/#discussion","text":"A longer term project for Carl is to enable mass token requests so Harvester folks can make a token per CE.","title":"Discussion"},{"location":"meetings/2021/TechArea20210907/#support-update","text":"Lancium (BrianL): backfill containers with bind-mounted CVMFS weren't getting jobs because they did not specify shared to the bind mount","title":"Support Update"},{"location":"meetings/2021/TechArea20210907/#osg-devops","text":"New: - GRACC update completed; backup service verification to come this week. - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - Stashcp changes to support authenticated reading from /ospool namespace. Ongoing: - Shoveler is working and lightly tested. Collector is 90% done. - Checksums in xrootd-multiuser is 80% done. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210907/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210907/#osg-release-team","text":"OSG 3.5.46 and OSG 3.6 Ready for Testing 3.5.46-upcoming and 3.6: HTCondor 9.0.5 and blahp 2.1.1 Ready for Release Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210907/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210914/","text":"OSG Technology Area Meeting, 14 September 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco Mambelli, Marian, Mat Announcements \u00b6 Canceling next week's meeting due to HTCondor Week Mat OOO Sep 17-22 Triage Duty \u00b6 This week: TimT Next week: BrianL (?) 10 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 162 -1 Open 33 +1 Selected for Dev 32 -5 In Progress 13 -1 Dev Complete 4 +0 Ready for Testing 0 +0 Ready for Release OSG Software Team \u00b6 Release AI (Carl): Cut new Gratia Probe 2.x RPM AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): Review osg-token-renewer doc and merge if satisfied Other AI (BrianL): Add SSH certificate to the Hosted CE AI (BrianL): Add Topology endpoint for querying resources tied to VOs AI (BrianL): Add Singularity backfill container CI tests AI (BrianL): Investigate host cert on the CMS Hosted CE at Frontera to see if UW needs to renew it Discussion \u00b6 GlideinWMS 3.9.3rc1 available; will be built into 3.5-contrib; requesting a build for 3.6 as well. GSI not completely removed yet but that's acceptable because it will help with the transition FNAL and CERN expected to announce EL8 plans in October Support Update \u00b6 Florida (BrianL): uncovered a few bugs with job router transforms in HTCondor-CE 5.1.1. To be fixed in 5.1.2 in an expected upstream release this week. Marian: add Andrew Melo back as an OASIS manager; contact Mat if Topology assistance is needed Mat: Assist Vlad at IceCube with permissions problems at their new Stash Origin; contact Derek for assistance as needed Carl: LIGO fixed their ProbeConfig and some records started showing up. LIGO-WA-CalTech records are sparse; Carl will ask LIGO if this is expected OSG DevOps \u00b6 New: - GRACC update completed; backup service verification to come this week. - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - Stashcp changes to support authenticated reading from /ospool namespace. Ongoing: - Shoveler is working and lightly tested. Collector is 90% done. - Checksums in xrootd-multiuser is 80% done. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 OSG 3.5.46 and OSG 3.6 Ready for Testing GlideinWMS 3.7.5 cvmfs-x509-helper 2.2-2 and osg-oasis 17-4 Ready for Release Nothing Discussion \u00b6 None this week","title":"September 14, 2021"},{"location":"meetings/2021/TechArea20210914/#osg-technology-area-meeting-14-september-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco Mambelli, Marian, Mat","title":"OSG Technology Area Meeting, 14 September 2021"},{"location":"meetings/2021/TechArea20210914/#announcements","text":"Canceling next week's meeting due to HTCondor Week Mat OOO Sep 17-22","title":"Announcements"},{"location":"meetings/2021/TechArea20210914/#triage-duty","text":"This week: TimT Next week: BrianL (?) 10 (-1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210914/#jira-as-of-monday","text":"# of tickets \u0394 State 162 -1 Open 33 +1 Selected for Dev 32 -5 In Progress 13 -1 Dev Complete 4 +0 Ready for Testing 0 +0 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210914/#osg-software-team","text":"Release AI (Carl): Cut new Gratia Probe 2.x RPM AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) GSI Transition AI (Carl): Review osg-token-renewer doc and merge if satisfied Other AI (BrianL): Add SSH certificate to the Hosted CE AI (BrianL): Add Topology endpoint for querying resources tied to VOs AI (BrianL): Add Singularity backfill container CI tests AI (BrianL): Investigate host cert on the CMS Hosted CE at Frontera to see if UW needs to renew it","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210914/#discussion","text":"GlideinWMS 3.9.3rc1 available; will be built into 3.5-contrib; requesting a build for 3.6 as well. GSI not completely removed yet but that's acceptable because it will help with the transition FNAL and CERN expected to announce EL8 plans in October","title":"Discussion"},{"location":"meetings/2021/TechArea20210914/#support-update","text":"Florida (BrianL): uncovered a few bugs with job router transforms in HTCondor-CE 5.1.1. To be fixed in 5.1.2 in an expected upstream release this week. Marian: add Andrew Melo back as an OASIS manager; contact Mat if Topology assistance is needed Mat: Assist Vlad at IceCube with permissions problems at their new Stash Origin; contact Derek for assistance as needed Carl: LIGO fixed their ProbeConfig and some records started showing up. LIGO-WA-CalTech records are sparse; Carl will ask LIGO if this is expected","title":"Support Update"},{"location":"meetings/2021/TechArea20210914/#osg-devops","text":"New: - GRACC update completed; backup service verification to come this week. - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. - Stashcp changes to support authenticated reading from /ospool namespace. Ongoing: - Shoveler is working and lightly tested. Collector is 90% done. - Checksums in xrootd-multiuser is 80% done. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210914/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210914/#osg-release-team","text":"OSG 3.5.46 and OSG 3.6 Ready for Testing GlideinWMS 3.7.5 cvmfs-x509-helper 2.2-2 and osg-oasis 17-4 Ready for Release Nothing","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210914/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210928/","text":"OSG Technology Area Meeting, 28 September 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Token transition workshop Oct 14-15: https://indico.fnal.gov/event/50597/ Brian OOO Wed-Fri Carl OOO Wed Triage Duty \u00b6 This week: Mat Next week: Carl 12 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 164 +2 Open 33 +0 Selected for Dev 37 +5 In Progress 14 +1 Dev Complete 10 +6 Ready for Testing 1 +1 Ready for Release OSG Software Team \u00b6 Release AI (Carl): Cut new Gratia Probe 2.x RPM AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) AI (Carl): osg-pki-tools in OSG 3.6 (SOFTWARE-4786) GSI/GridFTP Transition AI (Carl): Address osg-token-renewer doc comments and merge Wei asked us to improve the XRootD standalone docs with info about Third-Party-Copy Other AI (BrianL): Add SSH certificate to the Hosted CE AI (Carl): Add Topology endpoint for querying resources tied to VOs AI (BrianL): Add Singularity backfill container CI tests AI (Carl): Merge Topology and CILogon contact data Discussion \u00b6 None this week Support Update \u00b6 Lancium (BrianL): for Singularity-in-Singularity, GPUs aren't made available if the outer Singularity is < 3.8.0. On the plus side, GPUs work for unpriv Singularity in unpriv Singularity OSG DevOps \u00b6 New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Shoveler and Collector is tested, now converting UNL to using the shoveler. - Stashcp changes to support authenticated reading from /ospool namespace is done and lightly tested. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 Ready for Testing OSG 3.5 and OSG 3.6: CVMFS 2.8.2 cvmfs-x509-helper 2.2-2, osg-oasis 17-4 vault 1.8.2, htvault-config 1.6, and htgettoken 1.6 OSG 3.5-upcoming: GlideinWMS 3.7.5 xrootd-multiuser-2.0.2 OSG 3.5-upcoming and OSG 3.6: HTCondor 9.0.6 blahp 2.1.2 OSG 3.6-upcoming HTCondor 9.2.0 Ready for Release OSG 3.5 and OSG 3.6 osg-wn-client Discussion \u00b6 None this week","title":"September 28, 2021"},{"location":"meetings/2021/TechArea20210928/#osg-technology-area-meeting-28-september-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Derek, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 28 September 2021"},{"location":"meetings/2021/TechArea20210928/#announcements","text":"Token transition workshop Oct 14-15: https://indico.fnal.gov/event/50597/ Brian OOO Wed-Fri Carl OOO Wed","title":"Announcements"},{"location":"meetings/2021/TechArea20210928/#triage-duty","text":"This week: Mat Next week: Carl 12 (+2) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20210928/#jira-as-of-monday","text":"# of tickets \u0394 State 164 +2 Open 33 +0 Selected for Dev 37 +5 In Progress 14 +1 Dev Complete 10 +6 Ready for Testing 1 +1 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20210928/#osg-software-team","text":"Release AI (Carl): Cut new Gratia Probe 2.x RPM AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) AI (Carl): osg-pki-tools in OSG 3.6 (SOFTWARE-4786) GSI/GridFTP Transition AI (Carl): Address osg-token-renewer doc comments and merge Wei asked us to improve the XRootD standalone docs with info about Third-Party-Copy Other AI (BrianL): Add SSH certificate to the Hosted CE AI (Carl): Add Topology endpoint for querying resources tied to VOs AI (BrianL): Add Singularity backfill container CI tests AI (Carl): Merge Topology and CILogon contact data","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20210928/#discussion","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210928/#support-update","text":"Lancium (BrianL): for Singularity-in-Singularity, GPUs aren't made available if the outer Singularity is < 3.8.0. On the plus side, GPUs work for unpriv Singularity in unpriv Singularity","title":"Support Update"},{"location":"meetings/2021/TechArea20210928/#osg-devops","text":"New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Shoveler and Collector is tested, now converting UNL to using the shoveler. - Stashcp changes to support authenticated reading from /ospool namespace is done and lightly tested. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20210928/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20210928/#osg-release-team","text":"Ready for Testing OSG 3.5 and OSG 3.6: CVMFS 2.8.2 cvmfs-x509-helper 2.2-2, osg-oasis 17-4 vault 1.8.2, htvault-config 1.6, and htgettoken 1.6 OSG 3.5-upcoming: GlideinWMS 3.7.5 xrootd-multiuser-2.0.2 OSG 3.5-upcoming and OSG 3.6: HTCondor 9.0.6 blahp 2.1.2 OSG 3.6-upcoming HTCondor 9.2.0 Ready for Release OSG 3.5 and OSG 3.6 osg-wn-client","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20210928/#discussion_2","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20211005/","text":"OSG Technology Area Meeting, 5 October 2021 \u00b6 Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco Mambelli, Marian, Mat, TimT Announcements \u00b6 Token transition workshop Oct 14-15: https://indico.fnal.gov/event/50597/ Triage Duty \u00b6 This week: Carl Next week: TimT 12 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket Jira (as of Monday) \u00b6 # of tickets \u0394 State 168 +4 Open 34 +1 Selected for Dev 37 +0 In Progress 12 -2 Dev Complete 5 -5 Ready for Testing 0 -1 Ready for Release OSG Software Team \u00b6 Kubernetes Hackathon this afternoon Doc focus this Friday October 8, 1-5pm Release AI (Carl): Create new gratia-probe-condor-ap package (SOFTWARE-4846) AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) AI (Carl): osg-pki-tools in OSG 3.6 (SOFTWARE-4786) Other AI (BrianL): Add SSH certificate to the Hosted CE AI (Carl): Merge Topology and CILogon contact data (SOFTWARE-4734) AI (BrianL): Add Singularity backfill container CI tests (SOFTWARE-4726) AI (Carl): Add Topology endpoint for querying resources tied to VOs AI (BrianL/HTCondor developers): Make internal documentation for how to add SciTokens to a CE in preparation for the token workshop AI (Mat): Review remaining issues for the Let's Encrypt CA expiration fire. Discussion \u00b6 Marco: Debugging glideinWMS compatibility issues with HTCondor 9.0.6; attempting to install 9.0.1 for testing but having dependency issues. Brian says that it's a frequent issue when trying to install old versions of HTCondor on EL7. Mat suggests trying the HTCondor Docker images if a 9.0.1 version is available. Support Update \u00b6 TimT: Justas (Caltech) is requesting additional GPU attributes in the job classad; Tim will link him up with one of the HTCondor developers directly. Carl: There is no easy upgrade path to the Python 3 version of gfal2-util due to RPM dependency issues; filed a ticket with EPEL, will try to contact developers directly if there's no response to the ticket. Marian: Continuing to support LIGO with using IDTOKEN authentication. OSG DevOps \u00b6 New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Shoveler and Collector is tested, now converting UNL to using the shoveler. - Stashcp changes to support authenticated reading from /ospool namespace is done and lightly tested. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744 Discussion \u00b6 None this week OSG Release Team \u00b6 Ready for Testing OSG 3.5-upcoming and OSG 3.6 blahp 2.1.2 Ready for Release OSG 3.5 and OSG 3.6 IGTF 1.113 Discussion \u00b6 None this week","title":"October 5, 2021"},{"location":"meetings/2021/TechArea20211005/#osg-technology-area-meeting-5-october-2021","text":"Coordinates: Conference: +1-415-655-0002, PIN: 146 266 9392, https://morgridge.webex.com/webappng/sites/morgridge/meeting/info/791d9dddc5464eb6a73fc7746331d06c (password sent separately) Attending: BrianL, Carl, Marco Mambelli, Marian, Mat, TimT","title":"OSG Technology Area Meeting, 5 October 2021"},{"location":"meetings/2021/TechArea20211005/#announcements","text":"Token transition workshop Oct 14-15: https://indico.fnal.gov/event/50597/","title":"Announcements"},{"location":"meetings/2021/TechArea20211005/#triage-duty","text":"This week: Carl Next week: TimT 12 (+1) open FreshDesk tickets 0 (+0) open GGUS ticket","title":"Triage Duty"},{"location":"meetings/2021/TechArea20211005/#jira-as-of-monday","text":"# of tickets \u0394 State 168 +4 Open 34 +1 Selected for Dev 37 +0 In Progress 12 -2 Dev Complete 5 -5 Ready for Testing 0 -1 Ready for Release","title":"Jira (as of Monday)"},{"location":"meetings/2021/TechArea20211005/#osg-software-team","text":"Kubernetes Hackathon this afternoon Doc focus this Friday October 8, 1-5pm Release AI (Carl): Create new gratia-probe-condor-ap package (SOFTWARE-4846) AI (Mat): XRootD in OSG 3.6 (SOFTWARE-4494) AI (Carl): osg-pki-tools in OSG 3.6 (SOFTWARE-4786) Other AI (BrianL): Add SSH certificate to the Hosted CE AI (Carl): Merge Topology and CILogon contact data (SOFTWARE-4734) AI (BrianL): Add Singularity backfill container CI tests (SOFTWARE-4726) AI (Carl): Add Topology endpoint for querying resources tied to VOs AI (BrianL/HTCondor developers): Make internal documentation for how to add SciTokens to a CE in preparation for the token workshop AI (Mat): Review remaining issues for the Let's Encrypt CA expiration fire.","title":"OSG Software Team"},{"location":"meetings/2021/TechArea20211005/#discussion","text":"Marco: Debugging glideinWMS compatibility issues with HTCondor 9.0.6; attempting to install 9.0.1 for testing but having dependency issues. Brian says that it's a frequent issue when trying to install old versions of HTCondor on EL7. Mat suggests trying the HTCondor Docker images if a 9.0.1 version is available.","title":"Discussion"},{"location":"meetings/2021/TechArea20211005/#support-update","text":"TimT: Justas (Caltech) is requesting additional GPU attributes in the job classad; Tim will link him up with one of the HTCondor developers directly. Carl: There is no easy upgrade path to the Python 3 version of gfal2-util due to RPM dependency issues; filed a ticket with EPEL, will try to contact developers directly if there's no response to the ticket. Marian: Continuing to support LIGO with using IDTOKEN authentication.","title":"Support Update"},{"location":"meetings/2021/TechArea20211005/#osg-devops","text":"New: - Request to inject entire HTCondor job classad into GRACC records. Will require gratia-probe-condor changes. Ongoing: - Shoveler and Collector is tested, now converting UNL to using the shoveler. - Stashcp changes to support authenticated reading from /ospool namespace is done and lightly tested. Back burner: - (Stalled, but need to get back to it) XRootD accounting information (from Frank): - May need help with automating the process of generating these reports. A month only takes a few minutes. Longer periods take much longer. - Table of working set, read, and re-read for monthly, quarterly, and year. - XRootD TCP plugin is ready for packaging. Derek will follow up with software team on who to hand that off to. - https://opensciencegrid.atlassian.net/browse/SOFTWARE-4744","title":"OSG DevOps"},{"location":"meetings/2021/TechArea20211005/#discussion_1","text":"None this week","title":"Discussion"},{"location":"meetings/2021/TechArea20211005/#osg-release-team","text":"Ready for Testing OSG 3.5-upcoming and OSG 3.6 blahp 2.1.2 Ready for Release OSG 3.5 and OSG 3.6 IGTF 1.113","title":"OSG Release Team"},{"location":"meetings/2021/TechArea20211005/#discussion_2","text":"None this week","title":"Discussion"},{"location":"policy/bestman2-retire/","text":"BeStMan2 Retirement \u00b6 This document provides an overview of the planned retirement of support for BeStMan in the OSG Software Stack. Introduction \u00b6 BeStMan2 is a standalone implementation of a subset of the Storage Resource Manager v2 (SRMv2) protocol. SRM was meant to be a high-level management protocol for site storage resources, allowing administrators to manage storage offerings using the abstraction of \"storage tokens.\" Additionally, SRM can be used to mediate transfer protocol selection. OSG currently supports BeStMan2 in \"gateway mode\" -- in this mode, SRM is only used for metadata operations (listing directory contents), listing total space used, and load-balancing GridFTP servers. This functionality is redundant to what can be accomplished with GridFTP alone. BeStMan2 has not received upstream support for approximately five years; the existing code base (about 150,000 lines of Java - similar in size to Globus GridFTP) and its extensive set of dependencies (such as JGlobus) are now quite outdated and would require significant investment to modernize. OSG has worked at length with our stakeholders to replace SRM-specific use cases with other equivalents. We believe none of our stakeholders require sites to have an SRM endpoint: this document describes the site transition plan. Site Transition Plans \u00b6 We have released documentation for a configuration of GridFTP that takes advantage of Linux Virtual Server (LVS) for load balancing between multiple GridFTP endpoints. Sites should work with their supported VOs (typically, CMS or ATLAS) to identify any VO-specific usage and replacement plans for BeStMan2. Timeline \u00b6 March 2017 (completed): Release load balanced GridFTP documentation June 2017 (completed): OSG 3.4.0 is released without BeStMan December 2018 (completed): Security-only support for OSG 3.3 series and BeStMan is provided May 2018 (completed): Support is dropped for OSG 3.3 series; no further support for BeStMan is provided.","title":"BeStMan2 Retirement"},{"location":"policy/bestman2-retire/#bestman2-retirement","text":"This document provides an overview of the planned retirement of support for BeStMan in the OSG Software Stack.","title":"BeStMan2 Retirement"},{"location":"policy/bestman2-retire/#introduction","text":"BeStMan2 is a standalone implementation of a subset of the Storage Resource Manager v2 (SRMv2) protocol. SRM was meant to be a high-level management protocol for site storage resources, allowing administrators to manage storage offerings using the abstraction of \"storage tokens.\" Additionally, SRM can be used to mediate transfer protocol selection. OSG currently supports BeStMan2 in \"gateway mode\" -- in this mode, SRM is only used for metadata operations (listing directory contents), listing total space used, and load-balancing GridFTP servers. This functionality is redundant to what can be accomplished with GridFTP alone. BeStMan2 has not received upstream support for approximately five years; the existing code base (about 150,000 lines of Java - similar in size to Globus GridFTP) and its extensive set of dependencies (such as JGlobus) are now quite outdated and would require significant investment to modernize. OSG has worked at length with our stakeholders to replace SRM-specific use cases with other equivalents. We believe none of our stakeholders require sites to have an SRM endpoint: this document describes the site transition plan.","title":"Introduction"},{"location":"policy/bestman2-retire/#site-transition-plans","text":"We have released documentation for a configuration of GridFTP that takes advantage of Linux Virtual Server (LVS) for load balancing between multiple GridFTP endpoints. Sites should work with their supported VOs (typically, CMS or ATLAS) to identify any VO-specific usage and replacement plans for BeStMan2.","title":"Site Transition Plans"},{"location":"policy/bestman2-retire/#timeline","text":"March 2017 (completed): Release load balanced GridFTP documentation June 2017 (completed): OSG 3.4.0 is released without BeStMan December 2018 (completed): Security-only support for OSG 3.3 series and BeStMan is provided May 2018 (completed): Support is dropped for OSG 3.3 series; no further support for BeStMan is provided.","title":"Timeline"},{"location":"policy/campus-cyberinfrastructure/","text":"The OSG and NSF Campus Cyberinfrastructure \u00b6 The NSF Campus Cyberinfrastructure (CC*) program invests in coordinated campus-level cyberinfrastructure improvements, innovation, integration, and engineering for science applications and distributed research projects, including enhancements to campus networking and computing resources. The Open Science Grid (as part of the Partnership to Advance Throughput Computing (PATh) ), is here to help you with your Campus Cyberinfrastructure (CC*) proposal! Please contact us at cc-star-proposals@opensciencegrid.org We have significant experience working with CC* applicants and awardees, offering letters of collaboration and consulting for: bringing the power of the OSG to YOUR researchers gathering science drivers and planning local computing resources CC*-required resource sharing for the Campus Compute category*, and other options for integrating local resources into OSG *In the most recent call for proposals ( NSF 21-528 ), joining the OSG is mentioned as a potential path to sharing resources with the wider research community: Proposals are required to commit to a minimum of 20% shared time on the cluster and describe their approach to making the cluster available as a shared resource external to the campus, [...] One possible approach to implementing such a federated distributed computing solution is joining a multi-campus or national federated system such as the Open Science Grid. Sharing Resources via the OSG \u00b6 The OSG consortium provides standard services and support for computational resource providers (i.e., \"sites\") using a distributed fabric of high throughput computating (HTC) technologies. These distributed-HTC (dHTC) services communicate with the site's local resource management (e.g. \"queueing\") systems to provision resources for OSG users. The OSG itself does not own resources, but provides software and services that enable the sharing of resources by many sites, and enable users to take advantage of these from submission points (whether via an OSG-operated submission point, like OSG Connect , or a locally-managed one). To contribute computational resources to the OSG, the following will be needed: An existing compute cluster running on a supported operating system with a supported resource management system: Grid Engine , HTCondor , LSF , PBS Pro / Torque , Slurm , and some local cloud provisioners. Outbound network connectivity from the cluster's worker nodes SSH access to your local cluster's submit node from a known IP address Temporary scratch space on each worker node and shared home directories on each cluster node Installation of some additional packages on the local cluster, IF the site would like to maximize its ability to support users, including those with large per-job data, containerized software, and/or GPU jobs. (There ARE some exceptions to the above. Contact us to discuss them!) Next steps If you are interested in OSG-offered services, please contact us for a consultation, even if your site does not meet all the conditions as outlined above! Additional Materials \u00b6 If you are interested in learning more about the dHTC, OSG, and what it means to share resources via OSG services, consider reviewing the following presentations from our October 2020 workshop on dHTC and OSG services for campuses ( YouTube Playlist ): Intro to dHTC and PATh Services for Campuses ( slides , YouTube ) How OSG Works ( slides , YouTube ) Intro to OSG Resource Sharing ( slides , YouTube ) Resource Sharing Technology, Security, System Requirements, Setup Process ( slides , YouTube )","title":"Campus Cyberinfrastructure"},{"location":"policy/campus-cyberinfrastructure/#the-osg-and-nsf-campus-cyberinfrastructure","text":"The NSF Campus Cyberinfrastructure (CC*) program invests in coordinated campus-level cyberinfrastructure improvements, innovation, integration, and engineering for science applications and distributed research projects, including enhancements to campus networking and computing resources. The Open Science Grid (as part of the Partnership to Advance Throughput Computing (PATh) ), is here to help you with your Campus Cyberinfrastructure (CC*) proposal! Please contact us at cc-star-proposals@opensciencegrid.org We have significant experience working with CC* applicants and awardees, offering letters of collaboration and consulting for: bringing the power of the OSG to YOUR researchers gathering science drivers and planning local computing resources CC*-required resource sharing for the Campus Compute category*, and other options for integrating local resources into OSG *In the most recent call for proposals ( NSF 21-528 ), joining the OSG is mentioned as a potential path to sharing resources with the wider research community: Proposals are required to commit to a minimum of 20% shared time on the cluster and describe their approach to making the cluster available as a shared resource external to the campus, [...] One possible approach to implementing such a federated distributed computing solution is joining a multi-campus or national federated system such as the Open Science Grid.","title":"The OSG and NSF Campus Cyberinfrastructure"},{"location":"policy/campus-cyberinfrastructure/#sharing-resources-via-the-osg","text":"The OSG consortium provides standard services and support for computational resource providers (i.e., \"sites\") using a distributed fabric of high throughput computating (HTC) technologies. These distributed-HTC (dHTC) services communicate with the site's local resource management (e.g. \"queueing\") systems to provision resources for OSG users. The OSG itself does not own resources, but provides software and services that enable the sharing of resources by many sites, and enable users to take advantage of these from submission points (whether via an OSG-operated submission point, like OSG Connect , or a locally-managed one). To contribute computational resources to the OSG, the following will be needed: An existing compute cluster running on a supported operating system with a supported resource management system: Grid Engine , HTCondor , LSF , PBS Pro / Torque , Slurm , and some local cloud provisioners. Outbound network connectivity from the cluster's worker nodes SSH access to your local cluster's submit node from a known IP address Temporary scratch space on each worker node and shared home directories on each cluster node Installation of some additional packages on the local cluster, IF the site would like to maximize its ability to support users, including those with large per-job data, containerized software, and/or GPU jobs. (There ARE some exceptions to the above. Contact us to discuss them!) Next steps If you are interested in OSG-offered services, please contact us for a consultation, even if your site does not meet all the conditions as outlined above!","title":"Sharing Resources via the OSG"},{"location":"policy/campus-cyberinfrastructure/#additional-materials","text":"If you are interested in learning more about the dHTC, OSG, and what it means to share resources via OSG services, consider reviewing the following presentations from our October 2020 workshop on dHTC and OSG services for campuses ( YouTube Playlist ): Intro to dHTC and PATh Services for Campuses ( slides , YouTube ) How OSG Works ( slides , YouTube ) Intro to OSG Resource Sharing ( slides , YouTube ) Resource Sharing Technology, Security, System Requirements, Setup Process ( slides , YouTube )","title":"Additional Materials"},{"location":"policy/comanage-instructions-admin/","text":"Approving COManage Registrations \u00b6 OSG is using a new identity management system called COManage. Initially, this system will be used for managing access to OSG staff-internal monitoring webpages at UNL, and managing access for OASIS logins. User registrations must be manually approved by a COManage admin. Follow the instructions below to approve a user registration. Note This page is for COManage Admins who want to approve user registrations. If you are a user who wants to register with COManage, go to the Registering for the OSG COManage page instead. Check for an email from registry@cilogon.org saying \"Petition for changed status from Confirmed to Pending Approval\". Click the first link in the email. Log in with your institutional credentials. You should see a \"View CO Petition...\" page. The Status should be \"Pending Approval\". Verify that the application is legitimate. Ask someone affiliated with the site, VO, or the sponsor of a project to verify the applicant's affiliation. In the future, applicants will be asked to provide the contact information of such a person -- similar to our existing contact registration process . Click the \"Approve\" button. You should see \"Petition Approved\" and \"Petition Finalized\" on top. The Status should now be \"Finalized\". The user will get an email saying \"Petition for changed status from Pending Approval to Approved\". The links in the email are expected to be useless (the first link will give them \"Permission Denied\" and the second link will merely allow them to \"acknowledge\" that they received the email). If the user asks, reassure them that they are registered and no further action needs to be taken.","title":"Approving COManage Registrations"},{"location":"policy/comanage-instructions-admin/#approving-comanage-registrations","text":"OSG is using a new identity management system called COManage. Initially, this system will be used for managing access to OSG staff-internal monitoring webpages at UNL, and managing access for OASIS logins. User registrations must be manually approved by a COManage admin. Follow the instructions below to approve a user registration. Note This page is for COManage Admins who want to approve user registrations. If you are a user who wants to register with COManage, go to the Registering for the OSG COManage page instead. Check for an email from registry@cilogon.org saying \"Petition for changed status from Confirmed to Pending Approval\". Click the first link in the email. Log in with your institutional credentials. You should see a \"View CO Petition...\" page. The Status should be \"Pending Approval\". Verify that the application is legitimate. Ask someone affiliated with the site, VO, or the sponsor of a project to verify the applicant's affiliation. In the future, applicants will be asked to provide the contact information of such a person -- similar to our existing contact registration process . Click the \"Approve\" button. You should see \"Petition Approved\" and \"Petition Finalized\" on top. The Status should now be \"Finalized\". The user will get an email saying \"Petition for changed status from Pending Approval to Approved\". The links in the email are expected to be useless (the first link will give them \"Permission Denied\" and the second link will merely allow them to \"acknowledge\" that they received the email). If the user asks, reassure them that they are registered and no further action needs to be taken.","title":"Approving COManage Registrations"},{"location":"policy/comanage-instructions-user/","text":"Registering with the OSG \u00b6 OSG uses the COManage identity management system to register OSG contacts. COManage is backed by the InCommon federation , meaning that users can register with the OSG using their institutional identities with familiar single sign-on forms. Submitting an Application \u00b6 To register with the OSG, submit an application using the self-signup process: Visit https://opensciencegrid.org/register You will be presented with a CILogon Single-Sign On page. Select your insitution and sign in with your insitutional credentials: After you have signed in, you will be presented with the self-signup form. Click the \"BEGIN\" button: Enter your name and email address. In most cases, your institution will provide defaults for your name and email address. If you prefer, you may override these values. Click the \"SUBMIT\" button: Verifying Your Email Address \u00b6 After submitting your registration application, you will receive an email from registry@cilogon.org to verify your email address. Follow the link in the email and click the \"Accept\" button to complete the verification: Waiting for Approval \u00b6 After verifying your email address, your registration must be approved by OSG staff. Once your registration has been approved, you will receive an email confirming your OSG registration: OASIS Managers: Adding an SSH Key \u00b6 After approval by OSG staff, OASIS managers must upload a public SSH key before being able to access the OASIS login host: Visit https://opensciencegrid.org/register and login if prompted Click your name in the top right to get a dropdown and click the My Profile (OSG) button On the right-side of your profile, click the Authenticators link: On the authenticators page, click the Manage button: On the SSH keys page, click the Add SSH Key link: Finally, upload your public SSH key from your computer: Getting Help \u00b6 For assistance with the OSG contact registration process, please use this page .","title":"Registering with the OSG"},{"location":"policy/comanage-instructions-user/#registering-with-the-osg","text":"OSG uses the COManage identity management system to register OSG contacts. COManage is backed by the InCommon federation , meaning that users can register with the OSG using their institutional identities with familiar single sign-on forms.","title":"Registering with the OSG"},{"location":"policy/comanage-instructions-user/#submitting-an-application","text":"To register with the OSG, submit an application using the self-signup process: Visit https://opensciencegrid.org/register You will be presented with a CILogon Single-Sign On page. Select your insitution and sign in with your insitutional credentials: After you have signed in, you will be presented with the self-signup form. Click the \"BEGIN\" button: Enter your name and email address. In most cases, your institution will provide defaults for your name and email address. If you prefer, you may override these values. Click the \"SUBMIT\" button:","title":"Submitting an Application"},{"location":"policy/comanage-instructions-user/#verifying-your-email-address","text":"After submitting your registration application, you will receive an email from registry@cilogon.org to verify your email address. Follow the link in the email and click the \"Accept\" button to complete the verification:","title":"Verifying Your Email Address"},{"location":"policy/comanage-instructions-user/#waiting-for-approval","text":"After verifying your email address, your registration must be approved by OSG staff. Once your registration has been approved, you will receive an email confirming your OSG registration:","title":"Waiting for Approval"},{"location":"policy/comanage-instructions-user/#oasis-managers-adding-an-ssh-key","text":"After approval by OSG staff, OASIS managers must upload a public SSH key before being able to access the OASIS login host: Visit https://opensciencegrid.org/register and login if prompted Click your name in the top right to get a dropdown and click the My Profile (OSG) button On the right-side of your profile, click the Authenticators link: On the authenticators page, click the Manage button: On the SSH keys page, click the Add SSH Key link: Finally, upload your public SSH key from your computer:","title":"OASIS Managers: Adding an SSH Key"},{"location":"policy/comanage-instructions-user/#getting-help","text":"For assistance with the OSG contact registration process, please use this page .","title":"Getting Help"},{"location":"policy/community-testing/","text":"OSG Community Software Testing \u00b6 8 October 2019 The community of OSG resource providers has a vested interest in the quality and stability of the OSG software stack. We would like to notify our stakeholders of software updates as soon as they are designated as \"Ready for Testing\" by the Software Team. Direct engagement with the entire community would allow for feedback from a broader array of interested parties. Combined with our flexible release model , we hope to further improve the turnaround time of new features and bug fixes. Implementation \u00b6 After the OSG Software Team builds and tests a package successfully, it is marked \"Ready for Testing\" and is added to the appropriate Yum testing repository: osg-testing and osg-upcoming-testing for packages targeted for the release and the upcoming release, respectively. Upon addition to the relevant testing repository, we intend to notify OSG site administrators that the package, or a logically connected group of packages, is available for testing with a description of changes compared to previously released versions and provide a forum by which interested users can provide feedback. Additionally, any packages that are considered release candidates by their upstream authors will be noted as such. The Software and Release team will classify packages as either \"major\" or \"minor\"; where major packages are deemed critical to the functionality of the production grid and all other packages are minor. For major packages, we will notify site administrators as soon as they are eligible for testing; minor packages eligible for testing will be collected and announced in a weekly digest. After users have been notified of changes, minor packages will be marked eligible for release if they have not received negative feedback after 7 calendar days. In addition to the above requirements, major packages must also receive positive feedback and be approved by the Release Manager. If a package receives negative feedback, the offending package will be removed from the relevant testing repository. Major Packages \u00b6 The following packages are considered critical to the production Open Science Grid: BLAHP CVMFS Frontier Squid GlideinWMS Gratia Probes HDFS HTCondor HTCondor-CE XCache XRootD This list is maintained by the Release Manager with input from OSG stakeholders, the Software Manager, and the Operations Manager. Exceptions \u00b6 If an expedient release is required, the OSG Software Team may forego the community testing policy outlined above. Common exceptions to the policy include releases that contain one or more of the following: Security updates CA or VO data updates Updates that address installation or upgrade issues Version History \u00b6 2019-10-08 : Add policy exceptions 2019-08-12 : Add notification frequency details 2019-02-20 : Initial policy","title":"Community Testing"},{"location":"policy/community-testing/#osg-community-software-testing","text":"8 October 2019 The community of OSG resource providers has a vested interest in the quality and stability of the OSG software stack. We would like to notify our stakeholders of software updates as soon as they are designated as \"Ready for Testing\" by the Software Team. Direct engagement with the entire community would allow for feedback from a broader array of interested parties. Combined with our flexible release model , we hope to further improve the turnaround time of new features and bug fixes.","title":"OSG Community Software Testing"},{"location":"policy/community-testing/#implementation","text":"After the OSG Software Team builds and tests a package successfully, it is marked \"Ready for Testing\" and is added to the appropriate Yum testing repository: osg-testing and osg-upcoming-testing for packages targeted for the release and the upcoming release, respectively. Upon addition to the relevant testing repository, we intend to notify OSG site administrators that the package, or a logically connected group of packages, is available for testing with a description of changes compared to previously released versions and provide a forum by which interested users can provide feedback. Additionally, any packages that are considered release candidates by their upstream authors will be noted as such. The Software and Release team will classify packages as either \"major\" or \"minor\"; where major packages are deemed critical to the functionality of the production grid and all other packages are minor. For major packages, we will notify site administrators as soon as they are eligible for testing; minor packages eligible for testing will be collected and announced in a weekly digest. After users have been notified of changes, minor packages will be marked eligible for release if they have not received negative feedback after 7 calendar days. In addition to the above requirements, major packages must also receive positive feedback and be approved by the Release Manager. If a package receives negative feedback, the offending package will be removed from the relevant testing repository.","title":"Implementation"},{"location":"policy/community-testing/#major-packages","text":"The following packages are considered critical to the production Open Science Grid: BLAHP CVMFS Frontier Squid GlideinWMS Gratia Probes HDFS HTCondor HTCondor-CE XCache XRootD This list is maintained by the Release Manager with input from OSG stakeholders, the Software Manager, and the Operations Manager.","title":"Major Packages"},{"location":"policy/community-testing/#exceptions","text":"If an expedient release is required, the OSG Software Team may forego the community testing policy outlined above. Common exceptions to the policy include releases that contain one or more of the following: Security updates CA or VO data updates Updates that address installation or upgrade issues","title":"Exceptions"},{"location":"policy/community-testing/#version-history","text":"2019-10-08 : Add policy exceptions 2019-08-12 : Add notification frequency details 2019-02-20 : Initial policy","title":"Version History"},{"location":"policy/container-release/","text":"Container Release Policy \u00b6 22 January 2021 Container images are an increasingly popular tool for shortening the software development life cycle, allowing for speedy deployment of new software versions or additional instances of a service. Select services in the OSG Software Stack will be distributed as container images to support VOs and sites that are interested in this model. This document contains policy information for container images distributed by the OSG Software Team. Contents and Sources \u00b6 Similar to our existing RPM infrastructure, container image sources, build logs, and artifacts will be stored in publicly available repositories (e.g. GitHub, Docker Hub) for collaboration and traceability. Additionally, container images distributed by the OSG Software team will be based off of the latest version of a supported platform with software installed from OS, EPEL, and OSG Yum repositories. Tags \u00b6 OSG Software container images will be built at least weekly and tagged with one of the following: Tag Description testing For the latest fixes and features. Built with RPMs from the osg-testing and/or osg-upcoming-testing Yum repositories release For production use. Built with RPMs from the osg-release and/or osg-upcoming-release Yum repositories rc.testing.* , rc.release.* Release candidate images; see the Validation section below for details Each newly built image from the table above will also be tagged with a -<TIMESTAMP> suffix to allow for rollback in case of broken images. Cleanup \u00b6 The OSG will keep images based on the Docker Hub image retention policy . In summary, container images that have not been pulled or updated in 6 months will be removed. Validation \u00b6 OSG Software container images consist of RPMs for OSG services that are tested through existing release processes as well as scripts and configuration specific to the container implementation of the service. New container images limited to RPM updates undergo additional automated testing before being published. In order to test changes to container-specific scripts or configuration, OSG Software performs automated tests and coordinates testing of release candidate images (e.g. rc.testing.* , rc.release.* ) before applying these changes to the testing and release image tags. Change Log \u00b6 22 January 2021: Modify the tagging policy to more closely track OSG Yum repositories 14 August 2020: Updated cleanup policy to match Docker Hub image retention policy. 17 April 2019: Initial policy","title":"Container Release Policy"},{"location":"policy/container-release/#container-release-policy","text":"22 January 2021 Container images are an increasingly popular tool for shortening the software development life cycle, allowing for speedy deployment of new software versions or additional instances of a service. Select services in the OSG Software Stack will be distributed as container images to support VOs and sites that are interested in this model. This document contains policy information for container images distributed by the OSG Software Team.","title":"Container Release Policy"},{"location":"policy/container-release/#contents-and-sources","text":"Similar to our existing RPM infrastructure, container image sources, build logs, and artifacts will be stored in publicly available repositories (e.g. GitHub, Docker Hub) for collaboration and traceability. Additionally, container images distributed by the OSG Software team will be based off of the latest version of a supported platform with software installed from OS, EPEL, and OSG Yum repositories.","title":"Contents and Sources"},{"location":"policy/container-release/#tags","text":"OSG Software container images will be built at least weekly and tagged with one of the following: Tag Description testing For the latest fixes and features. Built with RPMs from the osg-testing and/or osg-upcoming-testing Yum repositories release For production use. Built with RPMs from the osg-release and/or osg-upcoming-release Yum repositories rc.testing.* , rc.release.* Release candidate images; see the Validation section below for details Each newly built image from the table above will also be tagged with a -<TIMESTAMP> suffix to allow for rollback in case of broken images.","title":"Tags"},{"location":"policy/container-release/#cleanup","text":"The OSG will keep images based on the Docker Hub image retention policy . In summary, container images that have not been pulled or updated in 6 months will be removed.","title":"Cleanup"},{"location":"policy/container-release/#validation","text":"OSG Software container images consist of RPMs for OSG services that are tested through existing release processes as well as scripts and configuration specific to the container implementation of the service. New container images limited to RPM updates undergo additional automated testing before being published. In order to test changes to container-specific scripts or configuration, OSG Software performs automated tests and coordinates testing of release candidate images (e.g. rc.testing.* , rc.release.* ) before applying these changes to the testing and release image tags.","title":"Validation"},{"location":"policy/container-release/#change-log","text":"22 January 2021: Modify the tagging policy to more closely track OSG Yum repositories 14 August 2020: Updated cleanup policy to match Docker Hub image retention policy. 17 April 2019: Initial policy","title":"Change Log"},{"location":"policy/cream-support/","text":"OSG/HTCondor CREAM-CE Support \u00b6 The CREAM working group has recently announced official support for the CREAM-CE will cease in December 2020. With this email, we are soliciting feedback on OSG and HTCondor\u2019s transition plan. OSG and HTCondor remain committed to supporting VOs who need to access to CREAM-CE based resources throughout the transition period; we will continue to support submission to CREAM-CE endpoints and offer assistance to VOs to manage the transition. OSG runs a glidein submission service that submits to grid infrastructures worldwide on behalf of dozens of science projects. This service currently submits to approximately 100 CREAM-CE endpoints; we will continue to maintain the capability to access these endpoints while we assist sites in testing and enabling ARC-CE and/or HTCondor-CE replacement services. The HTCondor team plans to support the CREAM-CE on EL6/7 in the 8.8.x stable release series and will maintain support for 8.8.x through December 2020. CREAM-CE support will remain enabled at the start of the 8.9.x developer series; in early 2020, the HTCondor team will re-evaluate, based on community need, whether CREAM-CE support will be available in the next stable series. We realize that software retirements can be very disruptive; the OSG and HTCondor teams are committed to assisting user communities through the process. If you believe our plan does not fit the needs of your user community, please contact help@opensciencegrid.org . Regards, Brian Bockelman, OSG Technology Area Coordinator Todd Tannenbaum, HTCondor Technical Lead Reference \u00b6 EGI broadcast about CREAM retirement ; the EGI link requires authentication; statement has been reproduced below: Dear Users The CREAM working group has announced that official support for the CREAM-CE component will cease at the end of the EOSC-hub project, i.e. in Dec 2020. To prepare for this, EGI Foundation and CERN are actively working to help to minimise disruption. This will include helping users migrate to alternative solutions, i.e. ARC-CE or HTCondor-CE. The CREAM working group will be providing full support until the end of 2019, including one minor release already scheduled. During 2020 only security updates will be released. If you have any concerns or queries, please open a support ticket at https://ggus.eu/ Best regards EGI Foundation and CERN Operations Teams","title":"CREAM-CE Support"},{"location":"policy/cream-support/#osghtcondor-cream-ce-support","text":"The CREAM working group has recently announced official support for the CREAM-CE will cease in December 2020. With this email, we are soliciting feedback on OSG and HTCondor\u2019s transition plan. OSG and HTCondor remain committed to supporting VOs who need to access to CREAM-CE based resources throughout the transition period; we will continue to support submission to CREAM-CE endpoints and offer assistance to VOs to manage the transition. OSG runs a glidein submission service that submits to grid infrastructures worldwide on behalf of dozens of science projects. This service currently submits to approximately 100 CREAM-CE endpoints; we will continue to maintain the capability to access these endpoints while we assist sites in testing and enabling ARC-CE and/or HTCondor-CE replacement services. The HTCondor team plans to support the CREAM-CE on EL6/7 in the 8.8.x stable release series and will maintain support for 8.8.x through December 2020. CREAM-CE support will remain enabled at the start of the 8.9.x developer series; in early 2020, the HTCondor team will re-evaluate, based on community need, whether CREAM-CE support will be available in the next stable series. We realize that software retirements can be very disruptive; the OSG and HTCondor teams are committed to assisting user communities through the process. If you believe our plan does not fit the needs of your user community, please contact help@opensciencegrid.org . Regards, Brian Bockelman, OSG Technology Area Coordinator Todd Tannenbaum, HTCondor Technical Lead","title":"OSG/HTCondor CREAM-CE Support"},{"location":"policy/cream-support/#reference","text":"EGI broadcast about CREAM retirement ; the EGI link requires authentication; statement has been reproduced below: Dear Users The CREAM working group has announced that official support for the CREAM-CE component will cease at the end of the EOSC-hub project, i.e. in Dec 2020. To prepare for this, EGI Foundation and CERN are actively working to help to minimise disruption. This will include helping users migrate to alternative solutions, i.e. ARC-CE or HTCondor-CE. The CREAM working group will be providing full support until the end of 2019, including one minor release already scheduled. During 2020 only security updates will be released. If you have any concerns or queries, please open a support ticket at https://ggus.eu/ Best regards EGI Foundation and CERN Operations Teams","title":"Reference"},{"location":"policy/external-oasis-repos/","text":"Policy for OSG Mirroring of External CVMFS repositories \u00b6 12 October 2017 This document provides an overview of the policies and security understanding with regards to OSG mirroring of CVMFS repositories of external organizations. It aims to help external repositories and OSG VOs understand what OSG is attempting to achieve with the mirroring service. This is not a service-level agreement but rather a statement of responsibilities. Note To actually understand the technical procedure for mirroring a repository, see the following page . This document solely covers the policy aspects. Introduction \u00b6 The OSG provides a network of CVMFS Stratum-1 servers for mirroring content of externally-managed repositories. These repositories are often hosted by large HEP or physics VOs for the purpose of distributing software for high-throughput computing jobs. Additionally, OSG provides a repository ( ) for smaller VOs; this is not covered here. OSG will include additional repositories into the content distribution network (CDN) at the request of an OSG-affiliated VO. These repositories are meant to help the OSG-affiliated VO accomplish their domain science. The goal of this mirroring provides an improved quality-of-service for the VO end-users running at OSG sites. OSG does not provide support for use of the software in external repositories, but will help end-users contact the VO for help as necessary. OSG Responsibilities \u00b6 OSG will provide the Stratum-1 server network according to the OASIS SLA OSG will provide a best-effort mirror of the full contents of the external repo. We will attempt to provide best-effort integrity of the object contents, but assume users of the Stratum-1 will do further integrity checking. No SLA is provided covering potential data corruptions. OSG will provide best-effort notification to the mirrored repository in case OSG detects a service outage of the external repo. In the event of a security incident, the operations group will replace the compromised repository with an empty directory, signed by the key managed by them. This will be done in consultation with the security team or, in the unlikely event they cannot be reached, at the discretion of the Operations Coordinator. Once the external repository is approved, OSG will distribute the corresponding repository signing keys in a valid whitelist. The whitelist will be signed by the OSG Stratum-0. This whitelist attests to the authenticity of the key, but not a statement about repository contents. VO Responsibilities \u00b6 The individual responsible on behalf of the VO will be registered with the OASIS Manager role in OIM. The requesting VO should only include targeted repositories they need to support their science. The VO should understand that in the event of a reported security incident, the contents of this repository may be replaced with an empty directory and signed by the OSG repository key. Depending on the OSG Security team's evaluation of the severity and urgency of the incident, the blanking may be done immediately without VO notification or after some notification period. In the case of a security incident, the VO and OSG Security team will need to mutually agree that the incident is resolved before the repository is unblanked. The VO is ultimately responsible for the contents of the repository. OSG provides a mirror. If the external repository is not operated by the VO, OSG may work directly with the external repository maintainers. This is done for ease of operations and may be limited to day-to-day, non-security-related support. Operational Policies \u00b6 To help us provide the best operational setup possible, we have a few additional replication policies: OSG Operations only hosts the shared oasis.opensciencegrid.org repository; VO-dedicated software respositories (such as nova.opensciencegrid.org for the NoVA VO) should be operated by the VO. VOs are asked to either run their own repository or utilize the shared repository, but not both. There is a finite amount of high-performance storage on the CDN. A minimum of 100 GB per repository is guaranteed. Larger limits may be requested. VOs may ask the OSG to replicate their repositories to the European Grid Infrastructure (EGI); however, this can only be done if the repository name ends in .opensciencegrid.org .","title":"OASIS Repository Mirroring"},{"location":"policy/external-oasis-repos/#policy-for-osg-mirroring-of-external-cvmfs-repositories","text":"12 October 2017 This document provides an overview of the policies and security understanding with regards to OSG mirroring of CVMFS repositories of external organizations. It aims to help external repositories and OSG VOs understand what OSG is attempting to achieve with the mirroring service. This is not a service-level agreement but rather a statement of responsibilities. Note To actually understand the technical procedure for mirroring a repository, see the following page . This document solely covers the policy aspects.","title":"Policy for OSG Mirroring of External CVMFS repositories"},{"location":"policy/external-oasis-repos/#introduction","text":"The OSG provides a network of CVMFS Stratum-1 servers for mirroring content of externally-managed repositories. These repositories are often hosted by large HEP or physics VOs for the purpose of distributing software for high-throughput computing jobs. Additionally, OSG provides a repository ( ) for smaller VOs; this is not covered here. OSG will include additional repositories into the content distribution network (CDN) at the request of an OSG-affiliated VO. These repositories are meant to help the OSG-affiliated VO accomplish their domain science. The goal of this mirroring provides an improved quality-of-service for the VO end-users running at OSG sites. OSG does not provide support for use of the software in external repositories, but will help end-users contact the VO for help as necessary.","title":"Introduction"},{"location":"policy/external-oasis-repos/#osg-responsibilities","text":"OSG will provide the Stratum-1 server network according to the OASIS SLA OSG will provide a best-effort mirror of the full contents of the external repo. We will attempt to provide best-effort integrity of the object contents, but assume users of the Stratum-1 will do further integrity checking. No SLA is provided covering potential data corruptions. OSG will provide best-effort notification to the mirrored repository in case OSG detects a service outage of the external repo. In the event of a security incident, the operations group will replace the compromised repository with an empty directory, signed by the key managed by them. This will be done in consultation with the security team or, in the unlikely event they cannot be reached, at the discretion of the Operations Coordinator. Once the external repository is approved, OSG will distribute the corresponding repository signing keys in a valid whitelist. The whitelist will be signed by the OSG Stratum-0. This whitelist attests to the authenticity of the key, but not a statement about repository contents.","title":"OSG Responsibilities"},{"location":"policy/external-oasis-repos/#vo-responsibilities","text":"The individual responsible on behalf of the VO will be registered with the OASIS Manager role in OIM. The requesting VO should only include targeted repositories they need to support their science. The VO should understand that in the event of a reported security incident, the contents of this repository may be replaced with an empty directory and signed by the OSG repository key. Depending on the OSG Security team's evaluation of the severity and urgency of the incident, the blanking may be done immediately without VO notification or after some notification period. In the case of a security incident, the VO and OSG Security team will need to mutually agree that the incident is resolved before the repository is unblanked. The VO is ultimately responsible for the contents of the repository. OSG provides a mirror. If the external repository is not operated by the VO, OSG may work directly with the external repository maintainers. This is done for ease of operations and may be limited to day-to-day, non-security-related support.","title":"VO Responsibilities"},{"location":"policy/external-oasis-repos/#operational-policies","text":"To help us provide the best operational setup possible, we have a few additional replication policies: OSG Operations only hosts the shared oasis.opensciencegrid.org repository; VO-dedicated software respositories (such as nova.opensciencegrid.org for the NoVA VO) should be operated by the VO. VOs are asked to either run their own repository or utilize the shared repository, but not both. There is a finite amount of high-performance storage on the CDN. A minimum of 100 GB per repository is guaranteed. Larger limits may be requested. VOs may ask the OSG to replicate their repositories to the European Grid Infrastructure (EGI); however, this can only be done if the repository name ends in .opensciencegrid.org .","title":"Operational Policies"},{"location":"policy/flexible-release-model/","text":"OSG Software Flexible Release Model \u00b6 Introduction \u00b6 Before November 2017, the OSG software stack was released on the second Tuesday of each month, except in the case of urgent releases, which were infrequent. This schedule had been in place since early 2013. Since then, conditions within and outside of the Software team have changed, and we have adjusted the release schedule and associated processes. The previous release model had the recurring problem of a \"release crunch,\" where it was difficult to find the effort required to test large changes before their deadline had passed. Sometimes the lack of timely effort led to software being pushed to the next release (a month later), because there was insufficient testing time. Based on software support tickets, we noticed that many sites follow a local update schedule that is independent of the OSG Release team schedule; some sites upgrade every few months, skipping interim releases, other sites upgrade individual packages as needed. In addition, upstream software developers do not follow our release schedule either, releasing software on their own development timelines. As a result, some site administrators would prefer to have OSG software updates more often, closer to when they become available, rather than tied to a monthly cycle. For these reasons, we created a new release model. Release Model \u00b6 The OSG Release team releases batches of integrated, tested software on an ad hoc basis, with the process outlined below (changes from the old process are highlighted): Software and Release Team members develop packages and mark them for testing Software and Release Team members test the packages, possibly with help from the community Once adequate testing is complete and successful, the Release Manager approves packages for release Weekly, the Release Manager evaluates packages that are ready for release; when a sufficient number of important packages are ready [1] , the Release Manager schedules a release date and announces it. For urgent changes, the Release Manager evaluates the packages as soon as they are tested The Software and Release Team performs pre-release testing, releases the packages, and announces the release Note: The release dates of parallel release series (e.g., 3.3 and 3.4) do not have to coincide, as they have in the past. [1] The threshold for \u201csufficient number of important packages\u201d is determined by the Release Manager, with input from the other Technology Area leaders.","title":"Flexible Release Model"},{"location":"policy/flexible-release-model/#osg-software-flexible-release-model","text":"","title":"OSG Software Flexible Release Model"},{"location":"policy/flexible-release-model/#introduction","text":"Before November 2017, the OSG software stack was released on the second Tuesday of each month, except in the case of urgent releases, which were infrequent. This schedule had been in place since early 2013. Since then, conditions within and outside of the Software team have changed, and we have adjusted the release schedule and associated processes. The previous release model had the recurring problem of a \"release crunch,\" where it was difficult to find the effort required to test large changes before their deadline had passed. Sometimes the lack of timely effort led to software being pushed to the next release (a month later), because there was insufficient testing time. Based on software support tickets, we noticed that many sites follow a local update schedule that is independent of the OSG Release team schedule; some sites upgrade every few months, skipping interim releases, other sites upgrade individual packages as needed. In addition, upstream software developers do not follow our release schedule either, releasing software on their own development timelines. As a result, some site administrators would prefer to have OSG software updates more often, closer to when they become available, rather than tied to a monthly cycle. For these reasons, we created a new release model.","title":"Introduction"},{"location":"policy/flexible-release-model/#release-model","text":"The OSG Release team releases batches of integrated, tested software on an ad hoc basis, with the process outlined below (changes from the old process are highlighted): Software and Release Team members develop packages and mark them for testing Software and Release Team members test the packages, possibly with help from the community Once adequate testing is complete and successful, the Release Manager approves packages for release Weekly, the Release Manager evaluates packages that are ready for release; when a sufficient number of important packages are ready [1] , the Release Manager schedules a release date and announces it. For urgent changes, the Release Manager evaluates the packages as soon as they are tested The Software and Release Team performs pre-release testing, releases the packages, and announces the release Note: The release dates of parallel release series (e.g., 3.3 and 3.4) do not have to coincide, as they have in the past. [1] The threshold for \u201csufficient number of important packages\u201d is determined by the Release Manager, with input from the other Technology Area leaders.","title":"Release Model"},{"location":"policy/globus-toolkit/","text":"OSG Support of the Globus Toolkit \u00b6 Gridftp and GSI Migration Plan In December 2019, the OSG developed a plan for migrating the OSG Software stack away from GridFTP and GSI that can be found here . 6 June 2017 Many in the OSG community have heard the news about the end of support for the open-source Globus Toolkit (formerly available from https://github.com/globus/globus-toolkit/blob/globus_6_branch/support-changes). What does this imply for the OSG Software stack? Not much: OSG support for the Globus Toolkit (e.g., GridFTP and GSI) will continue for as long as stakeholders need it. Period. Note the OSG Software team provides a support guarantee for all the software in its stack. When a software component reaches end-of-life, the OSG assists its stakeholders in managing the transition to new software to replace or extend those capabilities. This assistance comes in many forms, such as finding an equivalent replacement, adapting code to avoid the dependency, or helping research and develop a transition to new technology. During such transition periods, OSG takes on traditional maintenance duties (i.e., patching, bug fixes and support) of the end-of-life software. The OSG is committed to keep the software secure until its stakeholders have successfully transitioned to new software. This model has been successfully demonstrated throughout the lifetime of OSG, including for example the five year transition period for the BestMan storage resource manager. The Globus Toolkit will not be an exception. Indeed, OSG has accumulated more than a decade of experience with this software and has often provided patches back to Globus. Over the next weeks and months, we will be in contact with our stakeholder VOs, sites, and software providers to discuss their requirements and timelines with regard to GridFTP and GSI. Please reach out to goc@opensciencegrid.org with your questions, comments, and concerns. Change Log \u00b6 8 October 2020 Add note linking to the GridFTP and GSI migration plan","title":"Globus Toolkit Support"},{"location":"policy/globus-toolkit/#osg-support-of-the-globus-toolkit","text":"Gridftp and GSI Migration Plan In December 2019, the OSG developed a plan for migrating the OSG Software stack away from GridFTP and GSI that can be found here . 6 June 2017 Many in the OSG community have heard the news about the end of support for the open-source Globus Toolkit (formerly available from https://github.com/globus/globus-toolkit/blob/globus_6_branch/support-changes). What does this imply for the OSG Software stack? Not much: OSG support for the Globus Toolkit (e.g., GridFTP and GSI) will continue for as long as stakeholders need it. Period. Note the OSG Software team provides a support guarantee for all the software in its stack. When a software component reaches end-of-life, the OSG assists its stakeholders in managing the transition to new software to replace or extend those capabilities. This assistance comes in many forms, such as finding an equivalent replacement, adapting code to avoid the dependency, or helping research and develop a transition to new technology. During such transition periods, OSG takes on traditional maintenance duties (i.e., patching, bug fixes and support) of the end-of-life software. The OSG is committed to keep the software secure until its stakeholders have successfully transitioned to new software. This model has been successfully demonstrated throughout the lifetime of OSG, including for example the five year transition period for the BestMan storage resource manager. The Globus Toolkit will not be an exception. Indeed, OSG has accumulated more than a decade of experience with this software and has often provided patches back to Globus. Over the next weeks and months, we will be in contact with our stakeholder VOs, sites, and software providers to discuss their requirements and timelines with regard to GridFTP and GSI. Please reach out to goc@opensciencegrid.org with your questions, comments, and concerns.","title":"OSG Support of the Globus Toolkit"},{"location":"policy/globus-toolkit/#change-log","text":"8 October 2020 Add note linking to the GridFTP and GSI migration plan","title":"Change Log"},{"location":"policy/gridftp-gsi-migration/","text":"GridFTP and GSI Migration \u00b6 6 December 2019 Introduction \u00b6 The GridFTP protocol (for data transfer) and GSI (as an Authentication and Authorization Infrastructure, AAI) were selected for the OSG ecosystem nearly 15 years ago. In both cases, approaches are becoming increasingly niche; as they have not become widely adopted - indeed, as the communities dramatically shrink while the Internet ecosystem grows - the support costs are increasingly directly shouldered by the OSG. For example, we currently use the GridFTP and GSI implementations in the Grid Community Toolkit (GCT). While the OSG contributes to the GCT (a fork of the abandoned Globus Toolkit) to sustain operations, the long-term plan is to migrate our community off these approaches. The end of the Globus Toolkit is a stark reminder of how niche the current ecosystem is: even the original reference implementation was abandoned. Thus, OSG has the opportunity and motivation to evolve toward a data transfer protocol and security techniques that better fit our needs and allow us to connect to more vibrant software communities. For the data transfer, we are proposing HTTP; for the AAI, we are proposing the use of bearer tokens, HTTPS, and OAuth2. The production-oriented nature of the OSG \u2014 and the embedding of OSG-LHC in the WLCG community \u2014 means that careful coordination, communication, and planning are needed whenever we migrate away from production services. OSG has executed several such technology transitions before and managing the full software lifecycle is part of our value to stakeholders. This document proposes affected services, replacement technologies, and rough timelines for a transition. Timeline \u00b6 The following table contains the major milestones and deliverables for the entire transition. Detailed migration plans can be found in this document . Date Milestone or Deliverable Completed Aug 2019 Beginning of OSG 3.5 release series (last release series depending on GCT) \u2705 Aug 2019 Including HTCondor 8.9.2 in the \u2018upcoming\u2019 repository (first HTCondor version with SciTokens support). \u2705 Oct 2019 OSG no longer carries OSG-specific patches for the GCT. All patches are upstreamed or retired. \u2705 Mar 2020 \"GSI free\" site demo. Show, at proof-of-concept / prototype level, all components without use of GCT. \u2705 Sep 2020 All GCT-free components are in OSG-Upcoming. \u2705 Feb 2021 OSG series 3.6, without GCT dependencies, is released. \u2705 Feb 2022 End of support for OSG 3.5. Frequently Asked Questions \u00b6 How does SciTokens interoperate with other token technologies in the WLCG? \u00b6 The scitokens-cpp library used by OSG can transparently use both WLCG JSON Web Tokens (JWTs) and SciTokens. Will a US-LHC migration from GridFTP to XRootD require the same migration for WLCG? \u00b6 No but we have been working to ensure that we coordinate our activities through the WLCG DOMA group. What role does LCMAPS play with SciTokens? \u00b6 LCMAPS only works with GSI. The model for SciTokens is sufficiently more simple for sites that the full complexity of LCMAPS is not needed. What does a SciTokens transition for GlideinWMS mean for European sites? \u00b6 The only piece that involves European sites is the factory to CE relationship: given HTCondor-CE 4.0 already supports SciTokens, we have begun to engage with the ARC-CE team. What are the T1s going to do? No SRM? How does tape work with XRootD and HTTPS? \u00b6 Note that CTA, which CERN is planning to transition to this year, only has XRootD support. We don't think there's a clear HTTPS picture here (or a clear dCache picture for SRM-free) so there will need to be coordination with other groups (e.g. the QoS working group). Can WLCG-FTS handle both SciTokens and x509 certificates at the same time? \u00b6 Yes. Can PhEDEx handle SciTokens? \u00b6 Yes. Version History \u00b6 2021-03-05 : Updated dates for the initial OSG 3.6 release and the targeted OSG 3.5 retirement 2020-03-30 : Completed GSI-free site demonstration 2020-03-17 : Highlighted delay in Jan 2020 milestone and new expected completion date of Mar 2020 2020-03-16 : Updated completed items on the overall timeline; added link for detailed document","title":"GridFTP and GSI Migration"},{"location":"policy/gridftp-gsi-migration/#gridftp-and-gsi-migration","text":"6 December 2019","title":"GridFTP and GSI Migration"},{"location":"policy/gridftp-gsi-migration/#introduction","text":"The GridFTP protocol (for data transfer) and GSI (as an Authentication and Authorization Infrastructure, AAI) were selected for the OSG ecosystem nearly 15 years ago. In both cases, approaches are becoming increasingly niche; as they have not become widely adopted - indeed, as the communities dramatically shrink while the Internet ecosystem grows - the support costs are increasingly directly shouldered by the OSG. For example, we currently use the GridFTP and GSI implementations in the Grid Community Toolkit (GCT). While the OSG contributes to the GCT (a fork of the abandoned Globus Toolkit) to sustain operations, the long-term plan is to migrate our community off these approaches. The end of the Globus Toolkit is a stark reminder of how niche the current ecosystem is: even the original reference implementation was abandoned. Thus, OSG has the opportunity and motivation to evolve toward a data transfer protocol and security techniques that better fit our needs and allow us to connect to more vibrant software communities. For the data transfer, we are proposing HTTP; for the AAI, we are proposing the use of bearer tokens, HTTPS, and OAuth2. The production-oriented nature of the OSG \u2014 and the embedding of OSG-LHC in the WLCG community \u2014 means that careful coordination, communication, and planning are needed whenever we migrate away from production services. OSG has executed several such technology transitions before and managing the full software lifecycle is part of our value to stakeholders. This document proposes affected services, replacement technologies, and rough timelines for a transition.","title":"Introduction"},{"location":"policy/gridftp-gsi-migration/#timeline","text":"The following table contains the major milestones and deliverables for the entire transition. Detailed migration plans can be found in this document . Date Milestone or Deliverable Completed Aug 2019 Beginning of OSG 3.5 release series (last release series depending on GCT) \u2705 Aug 2019 Including HTCondor 8.9.2 in the \u2018upcoming\u2019 repository (first HTCondor version with SciTokens support). \u2705 Oct 2019 OSG no longer carries OSG-specific patches for the GCT. All patches are upstreamed or retired. \u2705 Mar 2020 \"GSI free\" site demo. Show, at proof-of-concept / prototype level, all components without use of GCT. \u2705 Sep 2020 All GCT-free components are in OSG-Upcoming. \u2705 Feb 2021 OSG series 3.6, without GCT dependencies, is released. \u2705 Feb 2022 End of support for OSG 3.5.","title":"Timeline"},{"location":"policy/gridftp-gsi-migration/#frequently-asked-questions","text":"","title":"Frequently Asked Questions"},{"location":"policy/gridftp-gsi-migration/#how-does-scitokens-interoperate-with-other-token-technologies-in-the-wlcg","text":"The scitokens-cpp library used by OSG can transparently use both WLCG JSON Web Tokens (JWTs) and SciTokens.","title":"How does SciTokens interoperate with other token technologies in the WLCG?"},{"location":"policy/gridftp-gsi-migration/#will-a-us-lhc-migration-from-gridftp-to-xrootd-require-the-same-migration-for-wlcg","text":"No but we have been working to ensure that we coordinate our activities through the WLCG DOMA group.","title":"Will a US-LHC migration from GridFTP to XRootD require the same migration for WLCG?"},{"location":"policy/gridftp-gsi-migration/#what-role-does-lcmaps-play-with-scitokens","text":"LCMAPS only works with GSI. The model for SciTokens is sufficiently more simple for sites that the full complexity of LCMAPS is not needed.","title":"What role does LCMAPS play with SciTokens?"},{"location":"policy/gridftp-gsi-migration/#what-does-a-scitokens-transition-for-glideinwms-mean-for-european-sites","text":"The only piece that involves European sites is the factory to CE relationship: given HTCondor-CE 4.0 already supports SciTokens, we have begun to engage with the ARC-CE team.","title":"What does a SciTokens transition for GlideinWMS mean for European sites?"},{"location":"policy/gridftp-gsi-migration/#what-are-the-t1s-going-to-do-no-srm-how-does-tape-work-with-xrootd-and-https","text":"Note that CTA, which CERN is planning to transition to this year, only has XRootD support. We don't think there's a clear HTTPS picture here (or a clear dCache picture for SRM-free) so there will need to be coordination with other groups (e.g. the QoS working group).","title":"What are the T1s going to do? No SRM? How does tape work with XRootD and HTTPS?"},{"location":"policy/gridftp-gsi-migration/#can-wlcg-fts-handle-both-scitokens-and-x509-certificates-at-the-same-time","text":"Yes.","title":"Can WLCG-FTS handle both SciTokens and x509 certificates at the same time?"},{"location":"policy/gridftp-gsi-migration/#can-phedex-handle-scitokens","text":"Yes.","title":"Can PhEDEx handle SciTokens?"},{"location":"policy/gridftp-gsi-migration/#version-history","text":"2021-03-05 : Updated dates for the initial OSG 3.6 release and the targeted OSG 3.5 retirement 2020-03-30 : Completed GSI-free site demonstration 2020-03-17 : Highlighted delay in Jan 2020 milestone and new expected completion date of Mar 2020 2020-03-16 : Updated completed items on the overall timeline; added link for detailed document","title":"Version History"},{"location":"policy/gums-retire/","text":"GUMS Retirement \u00b6 This document provides an overview of the planned retirement of support for GUMS in the OSG Software Stack. Introduction \u00b6 GUMS (Grid User Management System) is an authentication system used by OSG resource providers to map grid credentials to local UNIX accounts. It provides OSG site adminstrators with a centrally managed service that can handle requests from multiple hosts that require authentication e.g., HTCondor-CE, GridFTP, and XRootD servers. In discussion with the OSG community, we have found that sites use the following GUMS features: Mapping based on VOMS attributes Host-based mappings Banning users/VOs Supporting pool accounts GUMS is a large Java web application that is more complex than necessary for the subset of features used in the OSG. Additionally, upstream support has tailed off and as a result, the maintenance burden has largely fallen on the OSG Software team. OSG's plans to retire GUMS has two major components: Find a suitable replacement for GUMS Provide documentation, tooling, and support to aid in the transition from GUMS to the intended solution Site Transition Plans \u00b6 We have released a configuration of the LCMAPS authorization framework that performs distributed verification of VOMS extensions. This configuration, referred to as the LCMAPS VOMS plugin, supports VOMS attribute based mappings as well as user and VO banning. Host-based mappings are not supported however, the simplicity of the plugin's installation and the distributed verification of VOMS extensions makes this feature unnecessary. Pool accounts are not supported by the plugin but this feature will be addressed in an upcoming transition-specific document. The intended solution will revolve around mapping local user accounts via user grid mapfile and we will work with any site for which this solution does not work. LCMAPS VOMS plugin installation and configuration documentation can be found here . Timeline \u00b6 April 2017 (completed): lcmaps-plugins-voms shipped and supported by OSG. May 2017 (completed): osg-configure and documentation necessary for using lcmaps-plugins-voms is shipped. June 2017 (completed): OSG 3.4.0 is released without VOMS-Admin, edg-mkgridmap , or GUMS. July 2017 (completed): OSG 3.4 CEs can be configured with 3.3 GUMS hosts March 2018: Complete transition for sites not using pool accounts May 2018: Support is dropped for OSG 3.3 series; no further support for GUMS is provided.","title":"GUMS Retirement"},{"location":"policy/gums-retire/#gums-retirement","text":"This document provides an overview of the planned retirement of support for GUMS in the OSG Software Stack.","title":"GUMS Retirement"},{"location":"policy/gums-retire/#introduction","text":"GUMS (Grid User Management System) is an authentication system used by OSG resource providers to map grid credentials to local UNIX accounts. It provides OSG site adminstrators with a centrally managed service that can handle requests from multiple hosts that require authentication e.g., HTCondor-CE, GridFTP, and XRootD servers. In discussion with the OSG community, we have found that sites use the following GUMS features: Mapping based on VOMS attributes Host-based mappings Banning users/VOs Supporting pool accounts GUMS is a large Java web application that is more complex than necessary for the subset of features used in the OSG. Additionally, upstream support has tailed off and as a result, the maintenance burden has largely fallen on the OSG Software team. OSG's plans to retire GUMS has two major components: Find a suitable replacement for GUMS Provide documentation, tooling, and support to aid in the transition from GUMS to the intended solution","title":"Introduction"},{"location":"policy/gums-retire/#site-transition-plans","text":"We have released a configuration of the LCMAPS authorization framework that performs distributed verification of VOMS extensions. This configuration, referred to as the LCMAPS VOMS plugin, supports VOMS attribute based mappings as well as user and VO banning. Host-based mappings are not supported however, the simplicity of the plugin's installation and the distributed verification of VOMS extensions makes this feature unnecessary. Pool accounts are not supported by the plugin but this feature will be addressed in an upcoming transition-specific document. The intended solution will revolve around mapping local user accounts via user grid mapfile and we will work with any site for which this solution does not work. LCMAPS VOMS plugin installation and configuration documentation can be found here .","title":"Site Transition Plans"},{"location":"policy/gums-retire/#timeline","text":"April 2017 (completed): lcmaps-plugins-voms shipped and supported by OSG. May 2017 (completed): osg-configure and documentation necessary for using lcmaps-plugins-voms is shipped. June 2017 (completed): OSG 3.4.0 is released without VOMS-Admin, edg-mkgridmap , or GUMS. July 2017 (completed): OSG 3.4 CEs can be configured with 3.3 GUMS hosts March 2018: Complete transition for sites not using pool accounts May 2018: Support is dropped for OSG 3.3 series; no further support for GUMS is provided.","title":"Timeline"},{"location":"policy/new-ospool-user/","text":"Registering for a new Open Science Pool Account \u00b6 The OSG access points at UW-Madison us the COManage identity management system to register new users. COManage uses the InCommon federation , allowing users to register with their institutional identities; there is no \"OSPool password\" that users must memorize Starting the registration process \u00b6 You can start the application for a new account by following the registration process below: Visit the new OSPool user enrollment page . You will be presented with a CILogon Single-Sign On page. Select your insitution and sign in with your insitutional credentials: Please use your institution's credentials as this simplifies the verification process; only select the Google or GitHub identity providers if your institution is not an option. After you have signed in, you will be presented with the self-signup form. Click the \"BEGIN\" button: Enter your name and email address. In most cases, your institution will provide defaults for your name and email address. If you prefer, you may override these values. If you have a GitHub account, please fill in your username. If you have already been working with an member to get the OSPool account, please select their name from the Sponsor drop-down; otherwise, leave it blank. Click the \"SUBMIT\" button: Verifying Your Email Address \u00b6 After submitting your registration application, you will receive an email from registry@cilogon.org to verify your email address. Follow the link in the email and click the \"Accept\" button to complete the verification: Adding an SSH Key \u00b6 A SSH public key (see this overview page for more information) allows for easier SSH-based login to the access point. After verifying your email address, you will be given an option to upload a public key for your account. If you are not ready to do that at this time, simply click \"skip\". ) Meeting with a Facilitator \u00b6 After verifying your email address (and optionally uploading the SSH key), a new support ticket will be generated and we will contact you to arrange a meeting with a Facilitator for an introduction to the access point and High Throughput Computing. After this initial meeting, your account will be finalized and you will be able to login to the system. Getting Help \u00b6 For assistance or questions, please email the support team at support@opensciencegrid.org","title":"New OSPool User Registration"},{"location":"policy/new-ospool-user/#registering-for-a-new-open-science-pool-account","text":"The OSG access points at UW-Madison us the COManage identity management system to register new users. COManage uses the InCommon federation , allowing users to register with their institutional identities; there is no \"OSPool password\" that users must memorize","title":"Registering for a new Open Science Pool Account"},{"location":"policy/new-ospool-user/#starting-the-registration-process","text":"You can start the application for a new account by following the registration process below: Visit the new OSPool user enrollment page . You will be presented with a CILogon Single-Sign On page. Select your insitution and sign in with your insitutional credentials: Please use your institution's credentials as this simplifies the verification process; only select the Google or GitHub identity providers if your institution is not an option. After you have signed in, you will be presented with the self-signup form. Click the \"BEGIN\" button: Enter your name and email address. In most cases, your institution will provide defaults for your name and email address. If you prefer, you may override these values. If you have a GitHub account, please fill in your username. If you have already been working with an member to get the OSPool account, please select their name from the Sponsor drop-down; otherwise, leave it blank. Click the \"SUBMIT\" button:","title":"Starting the registration process"},{"location":"policy/new-ospool-user/#verifying-your-email-address","text":"After submitting your registration application, you will receive an email from registry@cilogon.org to verify your email address. Follow the link in the email and click the \"Accept\" button to complete the verification:","title":"Verifying Your Email Address"},{"location":"policy/new-ospool-user/#adding-an-ssh-key","text":"A SSH public key (see this overview page for more information) allows for easier SSH-based login to the access point. After verifying your email address, you will be given an option to upload a public key for your account. If you are not ready to do that at this time, simply click \"skip\". )","title":"Adding an SSH Key"},{"location":"policy/new-ospool-user/#meeting-with-a-facilitator","text":"After verifying your email address (and optionally uploading the SSH key), a new support ticket will be generated and we will contact you to arrange a meeting with a Facilitator for an introduction to the access point and High Throughput Computing. After this initial meeting, your account will be finalized and you will be able to login to the system.","title":"Meeting with a Facilitator"},{"location":"policy/new-ospool-user/#getting-help","text":"For assistance or questions, please email the support team at support@opensciencegrid.org","title":"Getting Help"},{"location":"policy/release-series/","text":"OSG Software Release Series Support Policy \u00b6 This document describes the OSG policy for managing its software releases. Use this policy to help plan when to perform major OSG software updates at your site. OSG software releases are organized into release series , with the intent that software updates within a series do not take long to perform, cause significant downtime, or break dependent software. New series can be more disruptive, allowing OSG to add, substantially change, and remove software components. Releases are assigned versions, such as \"OSG 3.2.1\", where the first two numbers designate the release series and the third number increments within the series. Changes to the first number are infrequent and indicate sweeping changes to the way in which OSG software is distributed. OSG supports at most two concurrent release series, current and previous , where the goal is to begin a new release series about every 18 months. Once a new series starts, OSG will support the previous series for at least 12 months and will announce its end-of-life date at least 6 months in advance. During the first 6 months of a series, OSG will endeavor to apply backward-compatible changes to the previous series as well; afterward, OSG will apply only critical bug and security fixes. When support ends for a release series, it means that OSG no longer updates the software, fixes issues, or troubleshoots installations for releases within the series. The plan is to maintain interoperability between supported series, but there is no guarantee that unsupported series will continue to function in OSG. Files for release series older than current or previous will be removed from the OSG software repositories no earlier than when support ends for the previous release. For example, files for OSG 3.2 will be removed no earlier than when support ends for OSG 3.3 in May 2018. OSG Operations will handle deviations from this policy, in consultation with OSG Technology and stakeholders. Life-cycle Dates \u00b6 Release Series Initial Release End of Regular Support End of Critical Bug/Security Support 3.6 Februrary 2021 Not set Not set 3.5 August 2019 August 2021 February 2022 3.4 June 2017 February 2020 November 2020 3.3 August 2015 December 2017 May 2018 3.2 November 2013 February 2016 August 2016 3.1 April 2012 October 2014 April 2015","title":"Release Series Support"},{"location":"policy/release-series/#osg-software-release-series-support-policy","text":"This document describes the OSG policy for managing its software releases. Use this policy to help plan when to perform major OSG software updates at your site. OSG software releases are organized into release series , with the intent that software updates within a series do not take long to perform, cause significant downtime, or break dependent software. New series can be more disruptive, allowing OSG to add, substantially change, and remove software components. Releases are assigned versions, such as \"OSG 3.2.1\", where the first two numbers designate the release series and the third number increments within the series. Changes to the first number are infrequent and indicate sweeping changes to the way in which OSG software is distributed. OSG supports at most two concurrent release series, current and previous , where the goal is to begin a new release series about every 18 months. Once a new series starts, OSG will support the previous series for at least 12 months and will announce its end-of-life date at least 6 months in advance. During the first 6 months of a series, OSG will endeavor to apply backward-compatible changes to the previous series as well; afterward, OSG will apply only critical bug and security fixes. When support ends for a release series, it means that OSG no longer updates the software, fixes issues, or troubleshoots installations for releases within the series. The plan is to maintain interoperability between supported series, but there is no guarantee that unsupported series will continue to function in OSG. Files for release series older than current or previous will be removed from the OSG software repositories no earlier than when support ends for the previous release. For example, files for OSG 3.2 will be removed no earlier than when support ends for OSG 3.3 in May 2018. OSG Operations will handle deviations from this policy, in consultation with OSG Technology and stakeholders.","title":"OSG Software Release Series Support Policy"},{"location":"policy/release-series/#life-cycle-dates","text":"Release Series Initial Release End of Regular Support End of Critical Bug/Security Support 3.6 Februrary 2021 Not set Not set 3.5 August 2019 August 2021 February 2022 3.4 June 2017 February 2020 November 2020 3.3 August 2015 December 2017 May 2018 3.2 November 2013 February 2016 August 2016 3.1 April 2012 October 2014 April 2015","title":"Life-cycle Dates"},{"location":"policy/service-migrations-spring-2018/","text":"Service Migrations - Spring 2018 \u00b6 The Open Science Grid (OSG) has transitioned effort from Indiana, requiring a redistribution of support and services. Some services were retired, most services were migrated to other locations (with minimal expected sites impact), and some services were migrated that resulted in significant impact on sites. This document was intended to guide OSG site administrators through these changes, highlighting where the site administrator action is required. If you have questions or concerns that are not addressed in this document, see the Getting Help section for details. Getting Help \u00b6 If you have questions or concerns that are not addressed in this document, please contact us at the usual locations: help@opensciencegrid.org software-discuss@opensciencegrid.org - General discussion of the OSG Software stack ( subscribe ) Slack channel - if you can't create an account, send an e-mail to help@opensciencegrid.org Support Changes \u00b6 The Footprints ticketing system at https://ticket.opensciencegrid.org was used to track support and security issues as well as certificate and membership requests. This service was retired in favor of two different ticketing systems, depending on the VOs you support at your site: If your site primarily supports... Submit new tickets to... LHC VOs GGUS Anyone else Freshdesk If you experience any problems with ticketing, please contact us at help@opensciencegrid.org . Service-specific details \u00b6 OSG CA \u00b6 The OSG CA service offered certificate request, renewal, and revocation through the OIM web interface, the OIM REST API, and the osg-pki-tools command-line tool. This service was retired on May 31 but the OSG CA certificate remains in the IGTF distribution, so any certificates issued by the OSG CA remain valid until they expire. The OSG recommends using the following CA certificate services: For... We plan to use the following Certificate Authorities... Host Certificates InCommon and Let\u2019s Encrypt User Certificates CILogon Basic for non-LHC users LHC users should continue to request their user certificates from CERN. Web-Based services Let's Encrypt Note The semantics of Let's Encrypt certificates are different from those of previous CAs. Please see the security team's position on Let's Encrypt for the security and setup implications of switching to a Let's Encrypt host or service certificate. If you experience any problems acquiring host or service certificates, please contact us at help@opensciencegrid.org . Software Repository \u00b6 The OSG Software repository includes the YUM repositories, client tarballs, and CA tarballs. The physical hosting location changed during the migration but was otherwise unchanged. If you experience any problems with the OSG Software repository, please contact us at help@opensciencegrid.org . MyOSG and OIM \u00b6 The MyOSG service used to provide web and REST interfaces to access information about OSG resource topology, projects, and VOs. The MyOSG web interface was retired but we continue to offer the same REST interface at https://my.opensciencegrid.org . OIM served as the database for the information used by MyOSG with a web interface for data updates. The OIM web interface was retired but its data was migrated to the topology repository . Updates to the aforementioned data can be requested via email or pull request. Note Please see the OSG CA section for information regarding the OIM certificate service. If you experience any problems with MyOSG or the topology repository, please contact us at help@opensciencegrid.org . GRACC Accounting and WLCG Accounting \u00b6 No changes were made to the GRACC accounting service during the service migration. If you experience any problems with GRACC accounting, please contact us at help@opensciencegrid.org . OASIS and CVMFS \u00b6 The OASIS (OSG Application and Software Installation Service) is a service used to distribute common applications and software to OSG sites via CVMFS. The OSG hosts a CVMFS Stratum-0 for keysigning, a repository server, and a CVMFS Stratum-1. The physical hosting location of these services were moved to Nebraska without any other changes. If you experience any problems with OASIS or CVMFS, please contact us at help@opensciencegrid.org . VOMS Admin Server \u00b6 The OSG VOMS service was used to sign VOMS attributes for members of the OSG VO and responded to queries for a list of VO members. VOMS Admin Server is deprecated in the OSG and the OSG VOMS servers were retired as planned. RSV \u00b6 The central RSV service was a monitoring tool that displayed every service status information about OSG sites that elected to provide it. It was retired since there was no longer a need to monitor OSG site status as a whole. If you would like to monitor your OSG services, you can access the status page of your local RSV instance. Collector \u00b6 The central Collector is a central database service that provides details about pilot jobs currently running in the OSG. The physical hosting location of the central Collector was moved but there were no other changes. If you experience any problems with the central Collector, please contact us at help@opensciencegrid.org . Homepage \u00b6 The OSG homepage was a Wordpress instance that has been moved to a static site. If you experience any problems with the homepage, please contact us at help@opensciencegrid.org .","title":"Service Migrations - Spring 2018"},{"location":"policy/service-migrations-spring-2018/#service-migrations-spring-2018","text":"The Open Science Grid (OSG) has transitioned effort from Indiana, requiring a redistribution of support and services. Some services were retired, most services were migrated to other locations (with minimal expected sites impact), and some services were migrated that resulted in significant impact on sites. This document was intended to guide OSG site administrators through these changes, highlighting where the site administrator action is required. If you have questions or concerns that are not addressed in this document, see the Getting Help section for details.","title":"Service Migrations - Spring 2018"},{"location":"policy/service-migrations-spring-2018/#getting-help","text":"If you have questions or concerns that are not addressed in this document, please contact us at the usual locations: help@opensciencegrid.org software-discuss@opensciencegrid.org - General discussion of the OSG Software stack ( subscribe ) Slack channel - if you can't create an account, send an e-mail to help@opensciencegrid.org","title":"Getting Help"},{"location":"policy/service-migrations-spring-2018/#support-changes","text":"The Footprints ticketing system at https://ticket.opensciencegrid.org was used to track support and security issues as well as certificate and membership requests. This service was retired in favor of two different ticketing systems, depending on the VOs you support at your site: If your site primarily supports... Submit new tickets to... LHC VOs GGUS Anyone else Freshdesk If you experience any problems with ticketing, please contact us at help@opensciencegrid.org .","title":"Support Changes"},{"location":"policy/service-migrations-spring-2018/#service-specific-details","text":"","title":"Service-specific details"},{"location":"policy/service-migrations-spring-2018/#osg-ca","text":"The OSG CA service offered certificate request, renewal, and revocation through the OIM web interface, the OIM REST API, and the osg-pki-tools command-line tool. This service was retired on May 31 but the OSG CA certificate remains in the IGTF distribution, so any certificates issued by the OSG CA remain valid until they expire. The OSG recommends using the following CA certificate services: For... We plan to use the following Certificate Authorities... Host Certificates InCommon and Let\u2019s Encrypt User Certificates CILogon Basic for non-LHC users LHC users should continue to request their user certificates from CERN. Web-Based services Let's Encrypt Note The semantics of Let's Encrypt certificates are different from those of previous CAs. Please see the security team's position on Let's Encrypt for the security and setup implications of switching to a Let's Encrypt host or service certificate. If you experience any problems acquiring host or service certificates, please contact us at help@opensciencegrid.org .","title":"OSG CA"},{"location":"policy/service-migrations-spring-2018/#software-repository","text":"The OSG Software repository includes the YUM repositories, client tarballs, and CA tarballs. The physical hosting location changed during the migration but was otherwise unchanged. If you experience any problems with the OSG Software repository, please contact us at help@opensciencegrid.org .","title":"Software Repository"},{"location":"policy/service-migrations-spring-2018/#myosg-and-oim","text":"The MyOSG service used to provide web and REST interfaces to access information about OSG resource topology, projects, and VOs. The MyOSG web interface was retired but we continue to offer the same REST interface at https://my.opensciencegrid.org . OIM served as the database for the information used by MyOSG with a web interface for data updates. The OIM web interface was retired but its data was migrated to the topology repository . Updates to the aforementioned data can be requested via email or pull request. Note Please see the OSG CA section for information regarding the OIM certificate service. If you experience any problems with MyOSG or the topology repository, please contact us at help@opensciencegrid.org .","title":"MyOSG and OIM"},{"location":"policy/service-migrations-spring-2018/#gracc-accounting-and-wlcg-accounting","text":"No changes were made to the GRACC accounting service during the service migration. If you experience any problems with GRACC accounting, please contact us at help@opensciencegrid.org .","title":"GRACC Accounting and WLCG Accounting"},{"location":"policy/service-migrations-spring-2018/#oasis-and-cvmfs","text":"The OASIS (OSG Application and Software Installation Service) is a service used to distribute common applications and software to OSG sites via CVMFS. The OSG hosts a CVMFS Stratum-0 for keysigning, a repository server, and a CVMFS Stratum-1. The physical hosting location of these services were moved to Nebraska without any other changes. If you experience any problems with OASIS or CVMFS, please contact us at help@opensciencegrid.org .","title":"OASIS and CVMFS"},{"location":"policy/service-migrations-spring-2018/#voms-admin-server","text":"The OSG VOMS service was used to sign VOMS attributes for members of the OSG VO and responded to queries for a list of VO members. VOMS Admin Server is deprecated in the OSG and the OSG VOMS servers were retired as planned.","title":"VOMS Admin Server"},{"location":"policy/service-migrations-spring-2018/#rsv","text":"The central RSV service was a monitoring tool that displayed every service status information about OSG sites that elected to provide it. It was retired since there was no longer a need to monitor OSG site status as a whole. If you would like to monitor your OSG services, you can access the status page of your local RSV instance.","title":"RSV"},{"location":"policy/service-migrations-spring-2018/#collector","text":"The central Collector is a central database service that provides details about pilot jobs currently running in the OSG. The physical hosting location of the central Collector was moved but there were no other changes. If you experience any problems with the central Collector, please contact us at help@opensciencegrid.org .","title":"Collector"},{"location":"policy/service-migrations-spring-2018/#homepage","text":"The OSG homepage was a Wordpress instance that has been moved to a static site. If you experience any problems with the homepage, please contact us at help@opensciencegrid.org .","title":"Homepage"},{"location":"policy/software-release/","text":"Software Release Policy \u00b6 This document contains information about the OSG Software Yum repositories and their policies. For details regarding the technical process for an OSG release, see this document . Yum Repositories \u00b6 The Software Team maintains the following Yum repositories: osg-development : This is the \"wild west\", the place where software goes while it is being worked on by the software team. osg-testing : This is where software goes when it is ready for wide-spread testing, including upstream release candidates osg-prerelease : This is where software goes just before being released, for final verification. osg-release : This is the official, production release of the software stack. This is the main repository for end-users. osg-contrib : This is where software goes that is not officially supported by the OSG Software Team, but we provide as a convenience for software our users might find useful. Occasionally there may be other repositories for specific short-term purposes. Note osg-rolling and osg-release-VERSION are only present in the OSG 3.5 series. osg-rolling : This is where software goes before being included in a point release. Intended for end-users. In OSG 3.5, software goes into osg-rolling when it is put into osg-prerelease . osg-release-VERSION : This repository is created per release and its name contains the version number (e.g. osg-release-3.5.4). This is intended mostly for testing purposes, though users may occasionally find it useful. Version Numbers \u00b6 OSG 3.6+ \u00b6 The version number matches the release series. OSG 3.5 \u00b6 There is a single version number that is used to summarize the contents of the osg-release repository. Having a single version number is very useful for a variety of reasons, including: Every time changes are made to the osg-release repository, we update the version number and write release notes. We have a shorthand for referring to the state of the repository; we can talk about specific releases. However, there are important caveats about the version number: Even if a user says they have installed Version X, it may not be an accurate reflection of what they have installed: they may have chosen to update some of their software from a previous version. To truly understand what they have installed, the entire set of RPMs installed on their computer must be considered. The version number is only meaningful in the osg-release repository, though for technical reasons it's present (as an RPM) in other repositories. The version number is communicated as follows: Every time a new release is made, the version number is updated. All release notes and communication to users about this release uses the new version number. The version number will be of the form X.Y.Z. As of this writing, version numbers are 3.5.Z, where Z indicates a minor revision. Progression of Repositories \u00b6 This figure shows the progression of repositories that packages will go through: osg-development -> osg-testing -> osg-prerelease / osg-rolling -> osg-release \\ -> osg-contrib Release Policies \u00b6 Adding packages to osg-development \u00b6 New packages will only be added to osg-development with the permission of the OSG Software Manager. Updates can be done at any time without permission, but developers should be careful if their updates might be significant, particularly if an update might cause series compatibility issues. In cases where there is uncertainty, discuss it with the Software Manager. Moving packages to osg-testing \u00b6 A package may be moved from osg-development to osg-testing when the individual maintainer of that package decides that it is ready for widespread testing and when approved by the OSG Software Manager. Approval is needed because this is when we first make packages available to people outside of the OSG Software Team. Moving packages to osg-prerelease; Readying the release \u00b6 When we are ready to make a production release, we first move the correct subset of packages from osg-testing into osg-prerelease . This should be done after checking with the OSG Release Manager to verify that it's okay to release the software. The intention of osg-prerelease is to do a final verification that we have the correct set of packages for release and that they really work together. This is important because the osg-testing repository might contain a mix of packages that are ready for release with packages that are not ready for release. When moving packages to osg-prerelease , the team member doing the release will: Find the correct set of packages to push from osg-testing into osg-prerelease . At a minimum, run the automated test suite on the contents of osg-prerelease . In cases were more extensive testing is needed, or the test suite doesn't sufficiently cover the testing needs, do specific ad-hoc testing. (If appropriate, consider proposing extensions to the automated test suite.) We expect that in most cases, this process of updating and testing the osg-prerelease repository will be less than one day. If there are urgent security updates to release, this process may be shortened. Moving packages to osg-release \u00b6 When the osg-prerelease repository has been updated and verified, all of the changed software can be moved into the osg-release repository. As part of this move, three important tasks must be done: The released packages are automatically recorded in such a manner that end users/administrators can be notified if desired. Major package updates will also be recorded on the OSG 3.6 \"News\" page with links to the respective release note page or change log. An announcement is sent out whenever a major package is updated. Moving packages to osg-contrib \u00b6 The osg-contrib repository is loosely regulated. In most cases, the team member in charge of the package can decide when a package is updated in osg-contrib . Contrib packages should be tested in osg-development first. Timing of releases \u00b6 Software is released between 9AM and 5PM Central Time on a work day that is followed by a work day. The idea is to have a working day to correct any problems with a release rather than having a problematic release persist over a weekend or holiday. We will make exceptions for urgent situations; consult with the release manager when needed. CA Certificates and VO Client packages \u00b6 Packages that contain only data are not part of the usual release cycle. Currently, these are the CA certificate packages and the VO Client packages. Updates to these packages come from the Security Team and Software Team, respectively. They still move through the usual process for release, and the Software and Release Managers decide when these packages should be promoted to the next repository level. The release process for data packages is discussed here.","title":"Software Release Policy"},{"location":"policy/software-release/#software-release-policy","text":"This document contains information about the OSG Software Yum repositories and their policies. For details regarding the technical process for an OSG release, see this document .","title":"Software Release Policy"},{"location":"policy/software-release/#yum-repositories","text":"The Software Team maintains the following Yum repositories: osg-development : This is the \"wild west\", the place where software goes while it is being worked on by the software team. osg-testing : This is where software goes when it is ready for wide-spread testing, including upstream release candidates osg-prerelease : This is where software goes just before being released, for final verification. osg-release : This is the official, production release of the software stack. This is the main repository for end-users. osg-contrib : This is where software goes that is not officially supported by the OSG Software Team, but we provide as a convenience for software our users might find useful. Occasionally there may be other repositories for specific short-term purposes. Note osg-rolling and osg-release-VERSION are only present in the OSG 3.5 series. osg-rolling : This is where software goes before being included in a point release. Intended for end-users. In OSG 3.5, software goes into osg-rolling when it is put into osg-prerelease . osg-release-VERSION : This repository is created per release and its name contains the version number (e.g. osg-release-3.5.4). This is intended mostly for testing purposes, though users may occasionally find it useful.","title":"Yum Repositories"},{"location":"policy/software-release/#version-numbers","text":"","title":"Version Numbers"},{"location":"policy/software-release/#osg-36","text":"The version number matches the release series.","title":"OSG 3.6+"},{"location":"policy/software-release/#osg-35","text":"There is a single version number that is used to summarize the contents of the osg-release repository. Having a single version number is very useful for a variety of reasons, including: Every time changes are made to the osg-release repository, we update the version number and write release notes. We have a shorthand for referring to the state of the repository; we can talk about specific releases. However, there are important caveats about the version number: Even if a user says they have installed Version X, it may not be an accurate reflection of what they have installed: they may have chosen to update some of their software from a previous version. To truly understand what they have installed, the entire set of RPMs installed on their computer must be considered. The version number is only meaningful in the osg-release repository, though for technical reasons it's present (as an RPM) in other repositories. The version number is communicated as follows: Every time a new release is made, the version number is updated. All release notes and communication to users about this release uses the new version number. The version number will be of the form X.Y.Z. As of this writing, version numbers are 3.5.Z, where Z indicates a minor revision.","title":"OSG 3.5"},{"location":"policy/software-release/#progression-of-repositories","text":"This figure shows the progression of repositories that packages will go through: osg-development -> osg-testing -> osg-prerelease / osg-rolling -> osg-release \\ -> osg-contrib","title":"Progression of Repositories"},{"location":"policy/software-release/#release-policies","text":"","title":"Release Policies"},{"location":"policy/software-release/#adding-packages-to-osg-development","text":"New packages will only be added to osg-development with the permission of the OSG Software Manager. Updates can be done at any time without permission, but developers should be careful if their updates might be significant, particularly if an update might cause series compatibility issues. In cases where there is uncertainty, discuss it with the Software Manager.","title":"Adding packages to osg-development"},{"location":"policy/software-release/#moving-packages-to-osg-testing","text":"A package may be moved from osg-development to osg-testing when the individual maintainer of that package decides that it is ready for widespread testing and when approved by the OSG Software Manager. Approval is needed because this is when we first make packages available to people outside of the OSG Software Team.","title":"Moving packages to osg-testing"},{"location":"policy/software-release/#moving-packages-to-osg-prerelease-readying-the-release","text":"When we are ready to make a production release, we first move the correct subset of packages from osg-testing into osg-prerelease . This should be done after checking with the OSG Release Manager to verify that it's okay to release the software. The intention of osg-prerelease is to do a final verification that we have the correct set of packages for release and that they really work together. This is important because the osg-testing repository might contain a mix of packages that are ready for release with packages that are not ready for release. When moving packages to osg-prerelease , the team member doing the release will: Find the correct set of packages to push from osg-testing into osg-prerelease . At a minimum, run the automated test suite on the contents of osg-prerelease . In cases were more extensive testing is needed, or the test suite doesn't sufficiently cover the testing needs, do specific ad-hoc testing. (If appropriate, consider proposing extensions to the automated test suite.) We expect that in most cases, this process of updating and testing the osg-prerelease repository will be less than one day. If there are urgent security updates to release, this process may be shortened.","title":"Moving packages to osg-prerelease; Readying the release"},{"location":"policy/software-release/#moving-packages-to-osg-release","text":"When the osg-prerelease repository has been updated and verified, all of the changed software can be moved into the osg-release repository. As part of this move, three important tasks must be done: The released packages are automatically recorded in such a manner that end users/administrators can be notified if desired. Major package updates will also be recorded on the OSG 3.6 \"News\" page with links to the respective release note page or change log. An announcement is sent out whenever a major package is updated.","title":"Moving packages to osg-release"},{"location":"policy/software-release/#moving-packages-to-osg-contrib","text":"The osg-contrib repository is loosely regulated. In most cases, the team member in charge of the package can decide when a package is updated in osg-contrib . Contrib packages should be tested in osg-development first.","title":"Moving packages to osg-contrib"},{"location":"policy/software-release/#timing-of-releases","text":"Software is released between 9AM and 5PM Central Time on a work day that is followed by a work day. The idea is to have a working day to correct any problems with a release rather than having a problematic release persist over a weekend or holiday. We will make exceptions for urgent situations; consult with the release manager when needed.","title":"Timing of releases"},{"location":"policy/software-release/#ca-certificates-and-vo-client-packages","text":"Packages that contain only data are not part of the usual release cycle. Currently, these are the CA certificate packages and the VO Client packages. Updates to these packages come from the Security Team and Software Team, respectively. They still move through the usual process for release, and the Software and Release Managers decide when these packages should be promoted to the next repository level. The release process for data packages is discussed here.","title":"CA Certificates and VO Client packages"},{"location":"policy/software-support/","text":"Software Support \u00b6 This document describes how OSG Technology Team members should support the OSG Software Stack, including triage duty responsibilities and when to transition from direct support inquiries to a ticketing system such as Freshdesk or JIRA. Considerations \u00b6 When providing support for our users, remember the following: We are a small community and we need to take good care of our users. Please be friendly and patient even when the user is frustrated or lacking in knowledge. Always sign your ticket with your full name, so people know who is responding. If it's easy for you, include a signature at the bottom of your response. If you need to collect information about a problematic host, ask users to run osg-system-profiler . It can shorten the number of times you ask for information because it collects quite a bit for you. If you run across a problem that has a chance of being hit by other users: Is there a bug we should fix in the software? Open a Jira ticket. Is there something we could improve in the software? Notify the Software Manager. Is there a way to improve our documentation? Notify the Software Manager. Can you extend our troubleshooting documents to help people track this down more quickly? Consider the troubleshooting documents to be as much for us as for our users. Is this something that other Technology Team members should be aware of? Note it during the support discussion during the weekly OSG Technology meeting, or email the Technology Team if it seems more urgent. Triage Duty \u00b6 The OSG uses Freshdesk to track support issues so you will need a Freshworks account with agent privileges (contact the OSG Software Team Manager for access). Logging in as an agent Don't enter your credentials directly into the login page ! Click the agent login link instead so that you don't have to enter your credentials twice. During normal work hours, the OSG Technology Team splits responsibilities for managing incoming OSG Software support requests based upon a weekly rotation . If you are on triage duty, your responsibilities are as follows: Watch for new software tickets: review the Unresolved Software Tickets and All Unassigned Tickets filters at least three times daily for new OSG Software-related tickets. For any such unassigned tickets, assign it as follows: If you can handle an incoming ticket, assign it to yourself. Inasmuch as possible, you should strive to handle the easier tickets and not pass them off to other people. If you cannot handle an incoming ticket, collect initial details such as relevant versions, logs, etc., and assign the ticket to the most appropriate Technology Team member. Where appropriate, CC people from other OSG teams, sites, or VOs. New sites interested in joining the OSG For support requests inquiring about joining the OSG, assign the ticket to the Campus Facilitation group, and specifically Lauren Michael as the agent. Review assigned software tickets. For tickets that are not being handled in a timely fashion (pay special attention to OVERDUE and Customer Responded tickets): If the ticket is pending and the assignee has not responded in > 2 business days, notify the ticket assignee via private note that they need to revisit the ticket. If the ticket is waiting on the customer or a third party and they have not responded in > 1 week, reply to the ticket asking if they've had the time to review the Technology Team's latest response(s). If the ticket was opened by the customer, is waiting on the customer and they have not responded in > 2 weeks, close the ticket and let the customer know that they can re-open it by responding whenever they're ready to tackle the issue again. Re-assign non-software tickets: Tickets that have been mistakenly assigned to the Software group should be re-assigned to the appropriate group. Merge duplicate tickets: Responses to a ticket sometimes results in creation of a new ticket; these new tickets should be merged into the original ticket. See this documentation . Clean up spam: Mark the ticket as spam and block the user. See this documentation . Clean up automated replies: announcements are often sent with Reply-to: help@opensciencegrid.org so automated replies (e.g. Out of Office, mailing list moderation) will generate tickets. These tickets can be closed. Question If you have questions concerning a ticket, consult the OSG Software Team Manager and/or the #software channel in the OSG Slack. Updating the triage calendar \u00b6 The current triage duty schedule can be found in the OSG Software calendar, hosted on Tim Cartwright\u2019s Google account. If you need privileges to edit the calendar, ask the OSG Software Team Manager. To update the triage duty schedule: Clone the git repo Generate next rotation: ./triage.py --generateNextRotation > rotation.txt Check and update assignments according to team member outages Load triage assignments into Google Calendar: ./triage.py --load rotation.txt To subscribe to this calendar in your calendar program, use the iCal URL: https://www.google.com/calendar/ical/h5t4mns6omp49db1e4qtqrrf4g%40group.calendar.google.com/public/basic.ics Ticket Systems \u00b6 The OSG Technology Team uses the Freshdesk and JIRA ticketing systems to track support and all other work, respectively. This section describes the differences between the two as well as some OSG Technology Freshdesk conventions. Direct Email \u00b6 Sometimes users may email you directly with support inquiries. If someone emails you directly for support, you have the choice of when to move it to a ticket. The recommended criteria are: If it's easy to handle and you can definitely do it yourself, leave it in email. If there's a chance that you can't do it in a timely fashion, turn it into a ticket. If there's a chance that you might lose track of the email, turn it into a ticket. If there's a chance that you might need help from others, turn it into a ticket. If it's an unusual topic and other people would benefit from seeing the ticket (now or in the future), turn it into a ticket. Freshdesk \u00b6 Freshdesk access The OSG uses Freshdesk to track support issues so you will need a Freshworks account with agent privileges (contact the OSG Software Team Manager for access). Freshdesk tickets are for user support, i.e. this is where we help users debug, understand their problems, etc. When replying to or otherwise updating a Freshdesk ticket, there are a few things to note: Freshdesk auto-populates the contact's name when replying through the web interface, e.g. Hi Brian . Ensure that the name is correct, especially if there are multiple parties involved in a single ticket. If the auto-populated name looks incorrect, e.g. Hi blin.wisc , fix the contact's First and Last name fields. Make sure to set the state of the ticket, which is helpful for those on triage: State Description Open OSG staff is responsible for next actions Waiting on Customer Assignee needs the reporter to respond Waiting on Third Party Assignee needs a response from a CC Resolved Support is complete or the user is unresponsive. See above . Open Ticket has not yet been assigned (initial ticket state) Closed DO NOT SET MANUALLY . Terminal ticket state that is set by Freshdesk. If actionable Technology Team tasks arise from a Freshdesk ticket, JIRA ticket(s) should be created to track that work. Resultant JIRA tickets should include a link to the original Freshdesk ticket, a description of the problem or feature request, and a proposed solution or implementation. After the relevant JIRA tickets have been created, ask the user if they would be ok with tracking the issue via JIRA. If they say yes, close the Freshdesk ticket. JIRA \u00b6 JIRA is for tracking our work and it's meant for internal usage, not for user support. In general, users should not ask for support via JIRA. A single user support ticket might result in zero, one, or multiple JIRA tickets.","title":"Software Support"},{"location":"policy/software-support/#software-support","text":"This document describes how OSG Technology Team members should support the OSG Software Stack, including triage duty responsibilities and when to transition from direct support inquiries to a ticketing system such as Freshdesk or JIRA.","title":"Software Support"},{"location":"policy/software-support/#considerations","text":"When providing support for our users, remember the following: We are a small community and we need to take good care of our users. Please be friendly and patient even when the user is frustrated or lacking in knowledge. Always sign your ticket with your full name, so people know who is responding. If it's easy for you, include a signature at the bottom of your response. If you need to collect information about a problematic host, ask users to run osg-system-profiler . It can shorten the number of times you ask for information because it collects quite a bit for you. If you run across a problem that has a chance of being hit by other users: Is there a bug we should fix in the software? Open a Jira ticket. Is there something we could improve in the software? Notify the Software Manager. Is there a way to improve our documentation? Notify the Software Manager. Can you extend our troubleshooting documents to help people track this down more quickly? Consider the troubleshooting documents to be as much for us as for our users. Is this something that other Technology Team members should be aware of? Note it during the support discussion during the weekly OSG Technology meeting, or email the Technology Team if it seems more urgent.","title":"Considerations"},{"location":"policy/software-support/#triage-duty","text":"The OSG uses Freshdesk to track support issues so you will need a Freshworks account with agent privileges (contact the OSG Software Team Manager for access). Logging in as an agent Don't enter your credentials directly into the login page ! Click the agent login link instead so that you don't have to enter your credentials twice. During normal work hours, the OSG Technology Team splits responsibilities for managing incoming OSG Software support requests based upon a weekly rotation . If you are on triage duty, your responsibilities are as follows: Watch for new software tickets: review the Unresolved Software Tickets and All Unassigned Tickets filters at least three times daily for new OSG Software-related tickets. For any such unassigned tickets, assign it as follows: If you can handle an incoming ticket, assign it to yourself. Inasmuch as possible, you should strive to handle the easier tickets and not pass them off to other people. If you cannot handle an incoming ticket, collect initial details such as relevant versions, logs, etc., and assign the ticket to the most appropriate Technology Team member. Where appropriate, CC people from other OSG teams, sites, or VOs. New sites interested in joining the OSG For support requests inquiring about joining the OSG, assign the ticket to the Campus Facilitation group, and specifically Lauren Michael as the agent. Review assigned software tickets. For tickets that are not being handled in a timely fashion (pay special attention to OVERDUE and Customer Responded tickets): If the ticket is pending and the assignee has not responded in > 2 business days, notify the ticket assignee via private note that they need to revisit the ticket. If the ticket is waiting on the customer or a third party and they have not responded in > 1 week, reply to the ticket asking if they've had the time to review the Technology Team's latest response(s). If the ticket was opened by the customer, is waiting on the customer and they have not responded in > 2 weeks, close the ticket and let the customer know that they can re-open it by responding whenever they're ready to tackle the issue again. Re-assign non-software tickets: Tickets that have been mistakenly assigned to the Software group should be re-assigned to the appropriate group. Merge duplicate tickets: Responses to a ticket sometimes results in creation of a new ticket; these new tickets should be merged into the original ticket. See this documentation . Clean up spam: Mark the ticket as spam and block the user. See this documentation . Clean up automated replies: announcements are often sent with Reply-to: help@opensciencegrid.org so automated replies (e.g. Out of Office, mailing list moderation) will generate tickets. These tickets can be closed. Question If you have questions concerning a ticket, consult the OSG Software Team Manager and/or the #software channel in the OSG Slack.","title":"Triage Duty"},{"location":"policy/software-support/#updating-the-triage-calendar","text":"The current triage duty schedule can be found in the OSG Software calendar, hosted on Tim Cartwright\u2019s Google account. If you need privileges to edit the calendar, ask the OSG Software Team Manager. To update the triage duty schedule: Clone the git repo Generate next rotation: ./triage.py --generateNextRotation > rotation.txt Check and update assignments according to team member outages Load triage assignments into Google Calendar: ./triage.py --load rotation.txt To subscribe to this calendar in your calendar program, use the iCal URL: https://www.google.com/calendar/ical/h5t4mns6omp49db1e4qtqrrf4g%40group.calendar.google.com/public/basic.ics","title":"Updating the triage calendar"},{"location":"policy/software-support/#ticket-systems","text":"The OSG Technology Team uses the Freshdesk and JIRA ticketing systems to track support and all other work, respectively. This section describes the differences between the two as well as some OSG Technology Freshdesk conventions.","title":"Ticket Systems"},{"location":"policy/software-support/#direct-email","text":"Sometimes users may email you directly with support inquiries. If someone emails you directly for support, you have the choice of when to move it to a ticket. The recommended criteria are: If it's easy to handle and you can definitely do it yourself, leave it in email. If there's a chance that you can't do it in a timely fashion, turn it into a ticket. If there's a chance that you might lose track of the email, turn it into a ticket. If there's a chance that you might need help from others, turn it into a ticket. If it's an unusual topic and other people would benefit from seeing the ticket (now or in the future), turn it into a ticket.","title":"Direct Email"},{"location":"policy/software-support/#freshdesk","text":"Freshdesk access The OSG uses Freshdesk to track support issues so you will need a Freshworks account with agent privileges (contact the OSG Software Team Manager for access). Freshdesk tickets are for user support, i.e. this is where we help users debug, understand their problems, etc. When replying to or otherwise updating a Freshdesk ticket, there are a few things to note: Freshdesk auto-populates the contact's name when replying through the web interface, e.g. Hi Brian . Ensure that the name is correct, especially if there are multiple parties involved in a single ticket. If the auto-populated name looks incorrect, e.g. Hi blin.wisc , fix the contact's First and Last name fields. Make sure to set the state of the ticket, which is helpful for those on triage: State Description Open OSG staff is responsible for next actions Waiting on Customer Assignee needs the reporter to respond Waiting on Third Party Assignee needs a response from a CC Resolved Support is complete or the user is unresponsive. See above . Open Ticket has not yet been assigned (initial ticket state) Closed DO NOT SET MANUALLY . Terminal ticket state that is set by Freshdesk. If actionable Technology Team tasks arise from a Freshdesk ticket, JIRA ticket(s) should be created to track that work. Resultant JIRA tickets should include a link to the original Freshdesk ticket, a description of the problem or feature request, and a proposed solution or implementation. After the relevant JIRA tickets have been created, ask the user if they would be ok with tracking the issue via JIRA. If they say yes, close the Freshdesk ticket.","title":"Freshdesk"},{"location":"policy/software-support/#jira","text":"JIRA is for tracking our work and it's meant for internal usage, not for user support. In general, users should not ask for support via JIRA. A single user support ticket might result in zero, one, or multiple JIRA tickets.","title":"JIRA"},{"location":"policy/topology-registration/","text":"Handling Topology and Contacts Registration \u00b6 This is an internal procedure handled by OSG Staff; the documentation is available in the operations site .","title":"Handling Topology/Contacts Registrations"},{"location":"policy/topology-registration/#handling-topology-and-contacts-registration","text":"This is an internal procedure handled by OSG Staff; the documentation is available in the operations site .","title":"Handling Topology and Contacts Registration"},{"location":"policy/voms-admin-retire/","text":"VOMS-Admin Retirement \u00b6 Introduction \u00b6 This document provides an overview of the planned retirement of support for VOMS-Admin in the OSG Software Stack. Support for the VOMS infrastructure has three major components: VOMS-Admin : A web interface for maintaining the list of authorized users in a VO and their various authorizations (group membership, roles, attributes, etc). VOMS-Server : A TCP service which signs a cryptographic extension on an X509 proxy certificate asserting the authorizations available to the authenticated user. VOMS Client : Software for extracting and validating the signed VOMS extension from an X509 proxy. The validation is meant to be distributed: the VOMS client does not need to contact the VOMS-Admin server. However, OSG has historically used software such as GUMS or edg-mkgridmap to cache a list of authorizations from the VOMS-Admin interface, creating a dependency between VOMS client and VOMS-Admin. VOMS-Admin is a large, complex Java web application. Over the last few years, upstream support has tailed off - particularly as OSG has been unable to update to VOMS-Admin version 3. As a result, the maintenance burden has largely fallen on the OSG Software team. Given that VOMS-Admin is deeply tied to X509 security infrastructure - and is maintenance-only from OSG Software - there is no path forward to eliminate the use of X509 certificates in the web browser, a high-priority goal In discussions with the OSG community, we have found very few VOs utilize VOMS-Admin to manage their VO users. Instead, the majority use VOMS-Admin to whitelist a pilot certificate: this can be done without a VOMS-Admin endpoint. OSG's plans to retire VOMS-Admin has three major components: (Sites) Enable distributed validation of VOMS extensions in the VOMS client. (VOs) Migrate VOs that use VOMS only for pilot certificates to direct signing of VOMS proxies. (VOs) Migrate remaining VOs to a central comanage instance for managing user authorizations; maintain a plugin to enable direct callouts from VOMS-Server to comanage for authorization lookups. Site Transition Plans \u00b6 We will release a configuration of the LCMAPS authorization framework that performs distributed verification of VOMS extensions; this verification eludes the need to contact the VOMS-Admin interface for a list of authorizations. In 2015/2016, LCMAPS and GUMS were upgraded so GUMS skips the VOMS-Admin lookup when LCMAPS asserts the validation was performed. Hence, when GUMS sites update clients to the latest (April 2017) LCMAPS and HTCondor-CE releases, the callout to VOMS-Admin is no longer needed. Note : In parallel to the VOMS-Admin transition, OSG Software plans to retire GUMS . There is no need to complete one transition before the other. Sites using edg-mkgridmap will need to use its replacement, lcmaps-plugins-voms (this process is documented here ). VO Transition Plans \u00b6 Based on one-to-one discussions, we believe the majority of VOs only use VOMS-Admin to maintain a list of authorized pilots. For these VOs, we will help convert invocations of voms-proxy-init : voms-proxy-init -voms hcc:/hcc/Role=pilot to an equivalent call to voms-proxy-fake : voms-proxy-fake -hostcert /etc/grid-security/voms/vomscert.pem \\ -hostkey /etc/grid-security/voms/vomskey.pem \\ -fqan /hcc/Role=pilot/Capability=NULL \\ -voms hcc -uri hcc-voms.unl.edu:15000 The latter command would typically be run on the VO's glideinWMS frontend host, requiring the service certificate currently on the VOMS-Admin server to be kept on the frontend host. The frontend's account may also need access to the certificate. Info See this documentation to update your GlideinWMS Frontend to use the new proxy generation command. We plan to transition more complex VOs - those using VOMS-Admin to track membership in a VO - to comanage . It is not clear there are any such VOs that need support from OSG. If there are, a hosted version of comanage is expected to be available in summer 2017 from the CILogon 2.0 project. If you feel your VO is affected, please contact the OSG and we will build a custom timeline. If there are no such VOs, we will not need to adopt comanage for this use case (other uses of comanage are expected to proceed regardless). Timeline \u00b6 April 2017 (completed): lcmaps-plugins-voms shipped and supported by OSG. May 2017 (completed): osg-configure and documentation necessary for using lcmaps-plugins-voms is shipped. June 2017 (completed): OSG 3.4.0 is released without VOMS-Admin, edg-mkgridmap , or GUMS. Sites begin transition to validating VOMS extensions. Summer 2017 (completed): As necessary, VOs are given access to a hosted comanage instance. March 2017 (completed): First VOs begin to retire VOMS-Admin. May 2018 (completed): Support is dropped for OSG 3.3 series; no further support for VOMS-Admin or GUMS is provided.","title":"VOMS Admin Retirement"},{"location":"policy/voms-admin-retire/#voms-admin-retirement","text":"","title":"VOMS-Admin Retirement"},{"location":"policy/voms-admin-retire/#introduction","text":"This document provides an overview of the planned retirement of support for VOMS-Admin in the OSG Software Stack. Support for the VOMS infrastructure has three major components: VOMS-Admin : A web interface for maintaining the list of authorized users in a VO and their various authorizations (group membership, roles, attributes, etc). VOMS-Server : A TCP service which signs a cryptographic extension on an X509 proxy certificate asserting the authorizations available to the authenticated user. VOMS Client : Software for extracting and validating the signed VOMS extension from an X509 proxy. The validation is meant to be distributed: the VOMS client does not need to contact the VOMS-Admin server. However, OSG has historically used software such as GUMS or edg-mkgridmap to cache a list of authorizations from the VOMS-Admin interface, creating a dependency between VOMS client and VOMS-Admin. VOMS-Admin is a large, complex Java web application. Over the last few years, upstream support has tailed off - particularly as OSG has been unable to update to VOMS-Admin version 3. As a result, the maintenance burden has largely fallen on the OSG Software team. Given that VOMS-Admin is deeply tied to X509 security infrastructure - and is maintenance-only from OSG Software - there is no path forward to eliminate the use of X509 certificates in the web browser, a high-priority goal In discussions with the OSG community, we have found very few VOs utilize VOMS-Admin to manage their VO users. Instead, the majority use VOMS-Admin to whitelist a pilot certificate: this can be done without a VOMS-Admin endpoint. OSG's plans to retire VOMS-Admin has three major components: (Sites) Enable distributed validation of VOMS extensions in the VOMS client. (VOs) Migrate VOs that use VOMS only for pilot certificates to direct signing of VOMS proxies. (VOs) Migrate remaining VOs to a central comanage instance for managing user authorizations; maintain a plugin to enable direct callouts from VOMS-Server to comanage for authorization lookups.","title":"Introduction"},{"location":"policy/voms-admin-retire/#site-transition-plans","text":"We will release a configuration of the LCMAPS authorization framework that performs distributed verification of VOMS extensions; this verification eludes the need to contact the VOMS-Admin interface for a list of authorizations. In 2015/2016, LCMAPS and GUMS were upgraded so GUMS skips the VOMS-Admin lookup when LCMAPS asserts the validation was performed. Hence, when GUMS sites update clients to the latest (April 2017) LCMAPS and HTCondor-CE releases, the callout to VOMS-Admin is no longer needed. Note : In parallel to the VOMS-Admin transition, OSG Software plans to retire GUMS . There is no need to complete one transition before the other. Sites using edg-mkgridmap will need to use its replacement, lcmaps-plugins-voms (this process is documented here ).","title":"Site Transition Plans"},{"location":"policy/voms-admin-retire/#vo-transition-plans","text":"Based on one-to-one discussions, we believe the majority of VOs only use VOMS-Admin to maintain a list of authorized pilots. For these VOs, we will help convert invocations of voms-proxy-init : voms-proxy-init -voms hcc:/hcc/Role=pilot to an equivalent call to voms-proxy-fake : voms-proxy-fake -hostcert /etc/grid-security/voms/vomscert.pem \\ -hostkey /etc/grid-security/voms/vomskey.pem \\ -fqan /hcc/Role=pilot/Capability=NULL \\ -voms hcc -uri hcc-voms.unl.edu:15000 The latter command would typically be run on the VO's glideinWMS frontend host, requiring the service certificate currently on the VOMS-Admin server to be kept on the frontend host. The frontend's account may also need access to the certificate. Info See this documentation to update your GlideinWMS Frontend to use the new proxy generation command. We plan to transition more complex VOs - those using VOMS-Admin to track membership in a VO - to comanage . It is not clear there are any such VOs that need support from OSG. If there are, a hosted version of comanage is expected to be available in summer 2017 from the CILogon 2.0 project. If you feel your VO is affected, please contact the OSG and we will build a custom timeline. If there are no such VOs, we will not need to adopt comanage for this use case (other uses of comanage are expected to proceed regardless).","title":"VO Transition Plans"},{"location":"policy/voms-admin-retire/#timeline","text":"April 2017 (completed): lcmaps-plugins-voms shipped and supported by OSG. May 2017 (completed): osg-configure and documentation necessary for using lcmaps-plugins-voms is shipped. June 2017 (completed): OSG 3.4.0 is released without VOMS-Admin, edg-mkgridmap , or GUMS. Sites begin transition to validating VOMS extensions. Summer 2017 (completed): As necessary, VOs are given access to a hosted comanage instance. March 2017 (completed): First VOs begin to retire VOMS-Admin. May 2018 (completed): Support is dropped for OSG 3.3 series; no further support for VOMS-Admin or GUMS is provided.","title":"Timeline"},{"location":"projects/sha2-support/","text":"SHA-2 Compliance \u00b6 When a certificate authority signs a certificate, it uses one of several possible hash algorithms. Historically, the most popular algorithms were MD5 (now retired due to security issues) and the SHA-1 family. SHA-1 certificates are being phased out due to perceived weaknesses \u2014 as of February 2017, a practical attack for generating collisions was demonstrated by Google researchers . These days, the preferred hash algorithm family is SHA-2. The certificate authorities (CAs), which issue host and user certificates used widely in the OSG, defaulted to SHA-2-based certificates on 1 October 2013; all sites will need to make sure that their software supports certificates using the SHA-2 algorithms. All supported OSG releases support SHA-2. The table below denotes indicates the minimum releases necessary to support SHA-2 certificates. Component Version In Release Notes BeStMan 2 bestman2-2.3.0-9.osg 3.1.13 SHA-2 support; also see jGlobus, below dCache SRM client dcache-srmclient-2.2.11.1-2.osg 3.1.22 Major update includes SHA-2 support Globus GRAM globus-gram-job-manager-13.45-1.2.osg, globus-gram-job-manager-condor-1.0-13.1.osg, globus-gram-job-manager-pbs-1.6-1.1.osg 3.1.9 Critical bug fixes (not SHA-2 specific) GUMS gums-1.3.18.009-15.2.osg 3.1.13 Switched to jGlobus 2 with SHA-2 support; also see jGlobus, below jGlobus (for BeStMan 2) jglobus-2.0.5-3.osg 3.1.18 Fixed CRL refresh bug (not SHA-2 specific) VOMS voms-2.0.8-1.5.osg 3.1.17 SHA-2 fix for voms-proxy-init If a component does not appear in the above table, it already has SHA-2 support.","title":"SHA-2 Support"},{"location":"projects/sha2-support/#sha-2-compliance","text":"When a certificate authority signs a certificate, it uses one of several possible hash algorithms. Historically, the most popular algorithms were MD5 (now retired due to security issues) and the SHA-1 family. SHA-1 certificates are being phased out due to perceived weaknesses \u2014 as of February 2017, a practical attack for generating collisions was demonstrated by Google researchers . These days, the preferred hash algorithm family is SHA-2. The certificate authorities (CAs), which issue host and user certificates used widely in the OSG, defaulted to SHA-2-based certificates on 1 October 2013; all sites will need to make sure that their software supports certificates using the SHA-2 algorithms. All supported OSG releases support SHA-2. The table below denotes indicates the minimum releases necessary to support SHA-2 certificates. Component Version In Release Notes BeStMan 2 bestman2-2.3.0-9.osg 3.1.13 SHA-2 support; also see jGlobus, below dCache SRM client dcache-srmclient-2.2.11.1-2.osg 3.1.22 Major update includes SHA-2 support Globus GRAM globus-gram-job-manager-13.45-1.2.osg, globus-gram-job-manager-condor-1.0-13.1.osg, globus-gram-job-manager-pbs-1.6-1.1.osg 3.1.9 Critical bug fixes (not SHA-2 specific) GUMS gums-1.3.18.009-15.2.osg 3.1.13 Switched to jGlobus 2 with SHA-2 support; also see jGlobus, below jGlobus (for BeStMan 2) jglobus-2.0.5-3.osg 3.1.18 Fixed CRL refresh bug (not SHA-2 specific) VOMS voms-2.0.8-1.5.osg 3.1.17 SHA-2 fix for voms-proxy-init If a component does not appear in the above table, it already has SHA-2 support.","title":"SHA-2 Compliance"},{"location":"release/acceptance-testing/","text":"Acceptance Testing \u00b6 The OSG Release Team collects and maintains testing procedures for major components in the OSG Sofware Stack. These test should verify that basic functionality of the component works in typically deployed configurations. CVMFS \u00b6 Note This acceptance testing recipe was created when access to a machine with sufficient disk space to make a complete replica of OASIS was not available. Creating a CVMFS Repository Server (Stratum 0) \u00b6 Disable SELinux by setting the following in /etc/selinux/config . SELINUX=disabled Check kernel version. uname -a CVMFS for EL7 requires OverlayFS (as of kernel version 4.2.x). If default kernel is <= 4.2.x, update kernel. root@host # rpm --import <https://www.elrepo.org/RPM-GPG-KEY-elrepo.org> root@host # rpm -Uvh <http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm> root@host # yum install yum-plugin-fastestmirror root@host # yum --enablerepo = elrepo-kernel install kernel-ml Select updated kernel by editing /etc/default/grub . GRUB_DEFAULT=0 and run: root@host # grub2-mkconfig -o /boot/grub2/grub.cfg Reboot system. Check kernel version again and make sure SELinux is disabled. root@host # uname -a root@host # sestatus If kernel >= 4.2 and SELinux is disabled, then update system and install CVMFS server and client packages. root@host # yum update root@host # yum install epel-release root@host # yum install yum-plugin-priorities root@host # rpm -Uvh <https://repo.opensciencegrid.org/osg/3.6/osg-3.6-el7-release-latest.rpm> root@host # yum install cvmfs cvmfs-server Configure web server and start it up. Edit /etc/httpd/conf.d/cvmfs.conf : Listen 8000 KeepAlive On and run: root@host # chkconfig httpd on root@host # service httpd start Make new repository. root@host # cvmfs_server mkfs test.cvmfs-stratum-0.novalocal Run transaction on new repository to enable write access. root@host # cvmfs_server transaction test.cvmfs-stratum-0.novalocal Place some sample code in new repository directory and then publish it. root@host # cd /cvmfs/test.cvmfs-stratum-0.novalocal root@host # vi [ bash \\_ pi.sh ]( %ATTACHURL%/bash_pi.sh ) root@host # chmod +x bash \\_ pi.sh root@host # cvmfs \\_ server publish test.cvmfs-stratum-0.novalocal Check repository status after publication. root@host # cvmfs \\_ server check root@host # cvmfs \\_ server tag root@host # wget -qO- <http://localhost:8000/cvmfs/test.cvmfs-stratum-0.novalocal/.cvmfswhitelist%7Ccat> -v Download a copy of the CVMFS repository's public key e.g., /etc/cvmfs/keys/test.cvmfs-stratum-0.novalocal.pub Creating a CVMFS Replica Server (Stratum 1) \u00b6 Repeat steps 1 though 8 in the previous section on \"Creating a CVMFS Repository Server \". However, now also install mod_wsgi . root@host # yum install cvmfs cvmfs-server mod \\_ wsgi Upload a copy of the CVMFS repository's public key and place in /etc/cvmfs/keys directory. Add replica of the repository. root@host # cvmfs_server add-replica -o root <http://10.128.3.96:8000/cvmfs/test.cvmfs-stratum-0.novalocal> /etc/cvmfs/keys/test.cvmfs-stratum-0.novalocal.pub Make a snapshot of the repository. root@host # cvmfs \\_ server snapshot test.cvmfs-stratum-0.novalocal Creating a CVMFS client \u00b6 Update system and install CVMFS client package. root@host # yum update root@host # yum install epel-release root@host # yum install yum-plugin-priorities root@host # rpm -Uvh <https://repo.opensciencegrid.org/osg/3.6/osg-3.6-el7-release-latest.rpm> root@host # yum install cvmfs Upload a copy of the CVMFS repository's public key and place in /etc/cvmfs/keys directory. Edit fuse configuration /etc/fuse.conf . user_allow_other Edit autofs configuration and restart service /etc/auto.master . /cvmfs /etc/auto.cvmfs and run: root@host # service autofs restart Edit cvmfs configuration ( /etc/cvmfs/default.local ) to point to replica server. CVMFS_SERVER_URL=\"http://10.128.3.97:8000/cvmfs/@fqrn@\" CVMFS_REPOSITORIES=\"test.cvmfs-stratum-0.novalocal\" CVMFS_HTTP_PROXY=DIRECT Remove OSG CVMFS configuration file. rm /etc/cvmfs/default.d/60-osg.conf Run CVMFS config probe. cvmfs_config probe test.cvmfs-stratum-0.novalocal Check CVMFS config status. cvmfs_config stat -v test.cvmfs-stratum-0.novalocal Execute sample code published to repository from client. /cvmfs/test.cvmfs-stratum-0.novalocal/bash_pi.sh -b 8 -r 5 -s 10000 Creating an OASIS client \u00b6 Update system and install CVMFS client package. yum update yum install epel-release yum install yum-plugin-priorities rpm -Uvh https://repo.opensciencegrid.org/osg/3.6/osg-3.6-el7-release-latest.rpm yum install osg-oasis Verify latest versions of cvmfs, cvmfs-config-osg, and cvmfs-x509-helper have been installed. Edit fuse configuration. vi /etc/fuse.conf user_allow_other Edit cvmfs configuration to point to replica server. vi /etc/cvmfs/default.local CVMFS_REPOSITORIES=\"`echo $((echo oasis.opensciencegrid.org;echo cms.cern.ch;ls /cvmfs)|sort -u)|tr ' ' ,`\" CVMFS_QUOTA_LIMIT=20000 CVMFS_HTTP_PROXY=DIRECT Edit autofs configuration and restart service. vi /etc/auto.master /cvmfs /etc/auto.cvmfs service autofs restart Run CVMFS config probe. cvmfs_config probe Check CVMFS config status. cvmfs_config stat -v oasis.opensciencegrid.org Additional Documentation \u00b6 CERN's CVMFS Documentation OSG's CVMFS Replica Server OSG's CVMFS Client Documentation OSG's OASIS Documentation bash_pi.sh : A bash script that uses a simple Monte Carlo method to estimate the value of Pi Gratia Probe \u00b6 This section documents the testing procedure to test the gratia probes sufficiently tested to be promoted to the osg-testing repository. The test procedure is the same on both SL6 and SL7. install or update the gratia-probe-condor rpm as appropriate On each VM download the gratia-probe-setup.sh script and run it In /etc/gratia/condor/ProbeConfig , verify the following have been changed: change SiteName to something aside from Generic Site change EnableProbe to 1 change CollectorHost , SSLHost , and SSLRegistrationHost to the an invalid host (E.g. test.com) or the localhost Create /var/lib/osg/ and download the attached user-vo-map file and place it in that directory Edit the user-vo-map file and change the account from sthapa to the account you'll be using to submit the condor jobs in the following step Download and submit the attached condor_submit file (note, on the default fermicloud VM, this takes about 3 hours, so you may want to set NUM_CPUS to 50 so that 50 jobs will run at a time) Run /usr/share/gratia/condor/condor_meter Check /var/lib/gratia/tmp/gratiafiles/ for a subdir.condor_... directory and verify that there are 200 xml jobs and the cpus/wall times are appropriate (either PT0S or PT1M). GSI OpenSSH \u00b6 Note Fermicloud policy forbids running the GSI OpenSSH server. You will have to test that part locally. To test a fresh installation: Spin up two VM's and set up the EPEL/OSG repos on both of them. Choose one of the VM's, it will be the server VM. The hostname of this machine will be referenced below as the <SERVER HOSTNAME> Consult these instructions to set up the server. From the other VM (client): Install the necessary packages: root@host # yum install globus-proxy-utils gsi-openssh-clients Initialize your proxy. After this, none of the gsi commands should prompt you for your password. Connect to the server: user@host $ gsissh -p 2222 <SERVER HOSTNAME> Copy a test file to the server: user@host $ gsiscp -p 2222 testfile <SERVER HOSTNAME>:/tmp Connect to the server via SFTP and grab files: user@host $ gsisftp -P 2222 <SERVER HOSTNAME> user@host $ cd /tmp user@host $ get testfile HTCondor-CE Collector (WIP) \u00b6 The CE Collector is a stripped-down version of HTCondor-CE that contains mostly just the collector daemon and configs. It was introduced in htcondor-ce-1.6. The production CE Collectors run at the GOC, but you may want to set up your own for testing. Make 2 VMs with the EPEL/OSG repos installed: one for the collector, and one for the CE Setting Up the Collector \u00b6 Install htcondor-ce-collector Create a file called /etc/condor-ce/config.d/99-local.conf that contains this line: COLLECTOR.ALLOW_ADVERTISE_SCHEDD = $(COLLECTOR.ALLOW_ADVERTISE_SCHEDD), your_htcondor_ce_host.example.net</pre> (with your_htcondor_ce_host replaced by the hostname the HTCondor-CE VM) Run service condor-ce-collector start Setting Up the CE \u00b6 Install osg-htcondor-ce-condor (replace condor with the batch system of your choice) Ensure osg-configure >= 1.0.60-2 is installed Configure your CE using osg-configure You should use the HTCondor-CE Install Docs as a reference, although you can skip several of the steps You can skip setting up Squid: set enabled to True and location to UNAVAILABLE in 01-squid.ini Set htcondor_gateway_enabled to True in 10-gateway.ini You probably don't need GUMS, but if you want it, use the Fermi GUMS server (set gums_host to gums.fnal.gov and authorization_method to xacml in 10-misc.ini) To keep osg-configure from complaining about storage, edit 10-storage.ini : Set se_available to False Set app_dir to /osg/app_dir Set data_dir to /osg/data_dir Do mkdir -p /osg/app_dir/etc; mkdir -p /osg/data_dir; chmod 1777 /osg/app_dir{,/etc} Enable your batch system by setting enabled to True in 20-<batch system>.ini Set up the site info in 40-siteinfo.ini ; in particular, you'll need to set the resource and resource_group settings \\ (you just need to pick a name; I concatenate my login name with the short host name and use that, e.g. matyasfermicloud001). \\ You can also use the following settings: group=OSG-ITB sponsor=local city=Batavia, IL country=US longitude=-88 latitude=41 Edit the file /etc/osg/config.d/30-infoservices.ini and set ce_collectors to the collector host Run osg-configure -dc Start up your batch system Run service condor-ce start The CE will report to the collector host every five minutes. If you want to force it to send now, run condor_ce_reconfig . You should see your CE if you run condor_ce_status -schedd on the collector host. RSV \u00b6 Testing a fresh installation: make sure the yum repositories required by OSG is installed on your host rpm -Uvh http://repo.opensciencegrid.org/osg/3.4/osg-3.4-el7-release-latest.rpm OR rpm -Uvh http://repo.opensciencegrid.org/osg/3.4/osg-3.4-el6-release-latest.rpm also make sure epel repo is set up. install the rpm yum --enablerepo=osg-testing install rsv edit /etc/osg/config.d/30-rsv.ini file in my case, I don't have a service cert for testing, so I use my own personal cert to create the proxy, but later on the owner of the proxy should be changed to \"rsv\" user that is created during the rpm install. in the config file, for the ce_hosts and gridftp_hosts, put in a test server, as the result from this test will be uploaded to OSG GOC, which may mess up your production service monitoring if you chose a production server for the test. osg-configure -v osg-configure -c /etc/init.d/condor-cron start /etc/init.d/rsv start rsv-control --list rsv-control --version rsv-control --run --all-enabled 11. make sure the results from the above commands look fine. Testing an upgrade installation: make sure to enable the osg-testing repo, and set its priority higher than the other repos yum --enablerepo=osg-testing upgrade rsv* you can use the old 30-rsv.ini file for configuration repeat steps 4)~11) as mentioned in the last section. Slurm \u00b6 This section goes through the steps needed to set up a slurm install on a VM. This is a necessary prerequisite for testing Slurm related components (CE integration, gratia, etc.). Note that the slurm setup used for this uses weak passwords for mysql. It should be sufficient for a quick setup, testing, and then tear down but should not be used without changes if it will be running for any appreciable length of time. Note need to have a VM with 2+ GB of memory Installation and setup \u00b6 Download scripts and config files: cd /tmp/ git clone <https://github.com/sthapa/utilities.git> cd utilities/slurm setup and install slurm components export username='USERNAME' \\# user that jobs will run as export version='14.11.7' \\# slurm version to install (e.g. 16.05.2 or 14.11.7) ./slurm-setup.sh After successful completion, slurm and slurm gratia probes should be setup and enabled. Running a job using slurm \u00b6 Generate test.sh with the following: #/bin/bash echo \"In the directory: `pwd`\" echo \"As the user: `whoami`\" echo \u201cHostname:\" /bin/hostname sleep 60 </pre> run sbatch test.sh the output from the jobs should appear in the current working directory as test.sh.[eo].nnnnn where nnnnn is a job id VO Client \u00b6 This document contains a basic recipe for testing a VO Package release Prerequisites \u00b6 Testing the VO package requires a few components: * X.509 certificate with membership to at least one VO * System with working GUMS installation * System with OSG installation (voms-proxy-init and edg-mkgridmap) Testing voms-proxy-init \u00b6 Login in the system that has voms-proxy-init installed. Make sure that you have the correct vo-client rpms installed and that your X.509 certificate is in your home directory. For each VO that you have membership in, run the following voms-proxy-init -voms [VO] where [VO] is the appropriate VO (e.g. osg, cms, etc.). You should be able to generate a voms-proxy for that VO without errors. XRootD VOMS Testing \u00b6 This section is intended for OSG Software/Release teams to gather information on testing vomsxrd/xrootd-voms-plugin package. Original plugin named vomsxrd , similar to lcmaps that extracts information for authorization within xrootd of a proxy's voms extension. You need an xrootd server installation In the xrootd server yum install the following packages: xrootd xrootd-voms-plugin vo-client In the xrootd client yum install the following packages: xrootd-client voms-clients vo-client In the xrootd server add this lines to file /etc/xrootd/xrootd-clustered.cfg xrootd.seclib /usr/lib64/libXrdSec.so sec.protparm gsi -vomsfun:/usr/lib64/libXrdSecgsiVOMS.so -vomsfunparms:certfmt=raw|vos=cms|dbg -vomsat:2 sec.protocol /usr/lib64 gsi -ca:1 -crl:3 This configuration will only authorize members of VO cms . You can change it to another VO. Make sure fetch-crl has been run otherwise the xrootd service may fail to start. In the xrootd client get a proxy without voms extension or with another VO extension different that the one used in the configuration: user@host $ voms-proxy-init -voms mis Enter GRID pass phrase: Your identity: /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020 Creating temporary proxy ........................... Done Contacting voms.opensciencegrid.org:15001 [/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=http/voms.opensciencegrid.org] \"mis\" Done Creating proxy ............................................... Done user@host $ xrdcp vomsxrdtest root://fermicloud024.fnal.gov:1094//tmp/ [0B/0B][100%][==================================================][0B/s] Run: [FATAL] Auth failed Now get a proxy with cms extension and run it again: user@host $ voms-proxy-init -voms cms Enter GRID pass phrase: Your identity: /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020 Creating temporary proxy ...................................... Done Contacting voms2.cern.ch:15002 [/DC=ch/DC=cern/OU=computers/CN=voms2.cern.ch] \"cms\" Done Creating proxy .......................................... Done Your proxy is valid until Thu Dec 4 22:53:29 2014 user@host $ xrdcp vomsxrdtest root://fermicloud024.fnal.gov:1094//tmp/ [0B/0B][100%][==================================================][0B/s] HDFS \u00b6 Hadoop name node installation \u00b6 Use the following script with option 1: #!/bin/bash set -e select NODETYPE in namenode datanode gridftp; do [[ $NODETYPE ]] && break done case $NODETYPE in namenode ) NAMENODE=$HOSTNAME ;; * ) read -p 'hostname for NAMENODE? ' NAMENODE ;; esac echo NODETYPE=$NODETYPE echo NAMENODE=$NAMENODE read -p 'ok? [y/N] ' ok case $ok in y*|Y*) ;; # ok *) exit ;; esac #yum install --enablerepo=osg-minefield osg-se-hadoop-$NODETYPE yum install osg-se-hadoop-$NODETYPE case $NODETYPE in namenode|datanode ) mkdir -p /data/{hadoop,scratch,checkpoint} chown -R hdfs:hdfs /data sed -i s/NAMENODE/$NAMENODE/ /etc/hadoop/conf.osg/{core,hdfs}-site.xml cp /etc/hadoop/conf.osg/{core,hdfs}-site.xml /etc/hadoop/conf/ touch /etc/hosts_exclude ;; gridftp ) ln -snf conf.osg /etc/hadoop/conf sed -i s/NAMENODE/$NAMENODE/ /etc/hadoop/conf.osg/{core,hdfs}-site.xml echo \"hadoop-fuse-dfs# /mnt/hadoop fuse server=$NAMENODE,port=9000,rdbuffer=131072,allow_other 0 0\" >> /etc/fstab mkdir /mnt/hadoop mount /mnt/hadoop cp -v /etc/redhat-release /mnt/hadoop/test-file sed -i '/globus_mapping/s/^# *//' /etc/grid-security/gsi-authz.conf sed -i s/yourgums.yourdomain/gums.fnal.gov/ /etc/lcmaps.db mkdir /mnt/hadoop/fnalgrid useradd fnalgrid -g fnalgrid chown fnalgrid:fnalgrid /mnt/hadoop/fnalgrid service globus-gridftp-server start if type -t globus-url-copy >/dev/null; then globus-url-copy file:////bin/bash gsiftp://$HOSTNAME/mnt/hadoop/fnalgrid/first_test else echo globus-url-copy not installed fi ;; esac case $NODETYPE in namenode ) su - hdfs -c \"hadoop namenode -format\" ;; esac service hadoop-hdfs-$NODETYPE start Edit Configuration \u00b6 Edit /etc/hadoop/conf/hdfs-site.xml set dfs.replication to 1 set dfs.replication.min to 1 Hadoop data node installation \u00b6 Run same script as before but with option number 2. GridFTP installation \u00b6 Run same as script but with option number 3. On the name node \u00b6 [root@fermicloud092 ~]# hdfs dfs -ls /test-file Found 1 items -rw-r--r-- 2 root root 0 2014-07-21 15:57 /test-file On the name node \u00b6 [root@]# hadoop fs -mkdir /matyas [root@]# hadoop fs -chown matyas /matyas [root@]# hdfs dfsadmin -setSpaceQuota 123k /matyas user@host $ dd if = /dev/zero of = /tmp/blob bs = 4096 count = 10000 user@host $ kx509 ; voms-proxy-init -noregen -voms fermilab user@host $ globus-url-copy -vb file:///tmp/blob gsiftp:// ` hostname -f ` /mnt/hadoop/matyas XRootD Plugins \u00b6 Install xrootd-server: yum install xrootd-server Install xrootd-plugins yum install xrootd-cmstfc xrootd-hdfs Modify the file /etc/xrootd/xrootd-clustered.cfg to look like this: xrd.port 1094 # The roles this server will play. all.role server all.role manager if xrootd.unl.edu # The known managers all.manager srm.unl.edu:1213 #all.manager xrootd.ultralight.org:1213 # Allow any path to be exported; this is further refined in the authfile. all.export / nostage # Hosts allowed to use this xrootd cluster cms.allow host * ### Standard directives # Simple sites probably don't need to touch these. # Logging verbosity xrootd.trace all -debug ofs.trace all -debug xrd.trace all -debug cms.trace all -debug # Integrate with CMS TFC, placed in /etc/storage.xml oss.namelib /usr/lib64/libXrdCmsTfc.so file:/etc/xrootd/storage.xml?protocol=hadoop xrootd.seclib /usr/lib64/libXrdSec.so xrootd.fslib /usr/lib64/libXrdOfs.so ofs.osslib /usr/lib64/libXrdHdfs.so all.adminpath /var/run/xrootd all.pidpath /var/run/xrootd cms.delay startup 10 cms.fxhold 60s cms.perf int 30s pgm /usr/bin/XrdOlbMonPerf 30 oss.space default_stage /opt/xrootd_cache Create file /etc/xrootd/storage.xml and place this: <storage-mapping> <lfn-to-pfn protocol=\"hadoop\" destination-match=\".*\" path-match=\".*/+tmp2/test-file\" result=\"/test-file\"/> </storage-mapping> For el7 the instrucctions are a little bit different. See: https://jira.opensciencegrid.org/browse/SOFTWARE-2198?focusedCommentId=334667&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-334667 Now from a node do: xrdcp --debug 3 root://yourdatanode.yourdomain:1094//tmp2/test-file . If it is sucessful it would have tested both cmstfc and hdfs plugins","title":"Acceptance Testing"},{"location":"release/acceptance-testing/#acceptance-testing","text":"The OSG Release Team collects and maintains testing procedures for major components in the OSG Sofware Stack. These test should verify that basic functionality of the component works in typically deployed configurations.","title":"Acceptance Testing"},{"location":"release/acceptance-testing/#cvmfs","text":"Note This acceptance testing recipe was created when access to a machine with sufficient disk space to make a complete replica of OASIS was not available.","title":"CVMFS"},{"location":"release/acceptance-testing/#creating-a-cvmfs-repository-server-stratum-0","text":"Disable SELinux by setting the following in /etc/selinux/config . SELINUX=disabled Check kernel version. uname -a CVMFS for EL7 requires OverlayFS (as of kernel version 4.2.x). If default kernel is <= 4.2.x, update kernel. root@host # rpm --import <https://www.elrepo.org/RPM-GPG-KEY-elrepo.org> root@host # rpm -Uvh <http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm> root@host # yum install yum-plugin-fastestmirror root@host # yum --enablerepo = elrepo-kernel install kernel-ml Select updated kernel by editing /etc/default/grub . GRUB_DEFAULT=0 and run: root@host # grub2-mkconfig -o /boot/grub2/grub.cfg Reboot system. Check kernel version again and make sure SELinux is disabled. root@host # uname -a root@host # sestatus If kernel >= 4.2 and SELinux is disabled, then update system and install CVMFS server and client packages. root@host # yum update root@host # yum install epel-release root@host # yum install yum-plugin-priorities root@host # rpm -Uvh <https://repo.opensciencegrid.org/osg/3.6/osg-3.6-el7-release-latest.rpm> root@host # yum install cvmfs cvmfs-server Configure web server and start it up. Edit /etc/httpd/conf.d/cvmfs.conf : Listen 8000 KeepAlive On and run: root@host # chkconfig httpd on root@host # service httpd start Make new repository. root@host # cvmfs_server mkfs test.cvmfs-stratum-0.novalocal Run transaction on new repository to enable write access. root@host # cvmfs_server transaction test.cvmfs-stratum-0.novalocal Place some sample code in new repository directory and then publish it. root@host # cd /cvmfs/test.cvmfs-stratum-0.novalocal root@host # vi [ bash \\_ pi.sh ]( %ATTACHURL%/bash_pi.sh ) root@host # chmod +x bash \\_ pi.sh root@host # cvmfs \\_ server publish test.cvmfs-stratum-0.novalocal Check repository status after publication. root@host # cvmfs \\_ server check root@host # cvmfs \\_ server tag root@host # wget -qO- <http://localhost:8000/cvmfs/test.cvmfs-stratum-0.novalocal/.cvmfswhitelist%7Ccat> -v Download a copy of the CVMFS repository's public key e.g., /etc/cvmfs/keys/test.cvmfs-stratum-0.novalocal.pub","title":"Creating a CVMFS Repository Server (Stratum 0)"},{"location":"release/acceptance-testing/#creating-a-cvmfs-replica-server-stratum-1","text":"Repeat steps 1 though 8 in the previous section on \"Creating a CVMFS Repository Server \". However, now also install mod_wsgi . root@host # yum install cvmfs cvmfs-server mod \\_ wsgi Upload a copy of the CVMFS repository's public key and place in /etc/cvmfs/keys directory. Add replica of the repository. root@host # cvmfs_server add-replica -o root <http://10.128.3.96:8000/cvmfs/test.cvmfs-stratum-0.novalocal> /etc/cvmfs/keys/test.cvmfs-stratum-0.novalocal.pub Make a snapshot of the repository. root@host # cvmfs \\_ server snapshot test.cvmfs-stratum-0.novalocal","title":"Creating a CVMFS Replica Server (Stratum 1)"},{"location":"release/acceptance-testing/#creating-a-cvmfs-client","text":"Update system and install CVMFS client package. root@host # yum update root@host # yum install epel-release root@host # yum install yum-plugin-priorities root@host # rpm -Uvh <https://repo.opensciencegrid.org/osg/3.6/osg-3.6-el7-release-latest.rpm> root@host # yum install cvmfs Upload a copy of the CVMFS repository's public key and place in /etc/cvmfs/keys directory. Edit fuse configuration /etc/fuse.conf . user_allow_other Edit autofs configuration and restart service /etc/auto.master . /cvmfs /etc/auto.cvmfs and run: root@host # service autofs restart Edit cvmfs configuration ( /etc/cvmfs/default.local ) to point to replica server. CVMFS_SERVER_URL=\"http://10.128.3.97:8000/cvmfs/@fqrn@\" CVMFS_REPOSITORIES=\"test.cvmfs-stratum-0.novalocal\" CVMFS_HTTP_PROXY=DIRECT Remove OSG CVMFS configuration file. rm /etc/cvmfs/default.d/60-osg.conf Run CVMFS config probe. cvmfs_config probe test.cvmfs-stratum-0.novalocal Check CVMFS config status. cvmfs_config stat -v test.cvmfs-stratum-0.novalocal Execute sample code published to repository from client. /cvmfs/test.cvmfs-stratum-0.novalocal/bash_pi.sh -b 8 -r 5 -s 10000","title":"Creating a CVMFS client"},{"location":"release/acceptance-testing/#creating-an-oasis-client","text":"Update system and install CVMFS client package. yum update yum install epel-release yum install yum-plugin-priorities rpm -Uvh https://repo.opensciencegrid.org/osg/3.6/osg-3.6-el7-release-latest.rpm yum install osg-oasis Verify latest versions of cvmfs, cvmfs-config-osg, and cvmfs-x509-helper have been installed. Edit fuse configuration. vi /etc/fuse.conf user_allow_other Edit cvmfs configuration to point to replica server. vi /etc/cvmfs/default.local CVMFS_REPOSITORIES=\"`echo $((echo oasis.opensciencegrid.org;echo cms.cern.ch;ls /cvmfs)|sort -u)|tr ' ' ,`\" CVMFS_QUOTA_LIMIT=20000 CVMFS_HTTP_PROXY=DIRECT Edit autofs configuration and restart service. vi /etc/auto.master /cvmfs /etc/auto.cvmfs service autofs restart Run CVMFS config probe. cvmfs_config probe Check CVMFS config status. cvmfs_config stat -v oasis.opensciencegrid.org","title":"Creating an OASIS client"},{"location":"release/acceptance-testing/#additional-documentation","text":"CERN's CVMFS Documentation OSG's CVMFS Replica Server OSG's CVMFS Client Documentation OSG's OASIS Documentation bash_pi.sh : A bash script that uses a simple Monte Carlo method to estimate the value of Pi","title":"Additional Documentation"},{"location":"release/acceptance-testing/#gratia-probe","text":"This section documents the testing procedure to test the gratia probes sufficiently tested to be promoted to the osg-testing repository. The test procedure is the same on both SL6 and SL7. install or update the gratia-probe-condor rpm as appropriate On each VM download the gratia-probe-setup.sh script and run it In /etc/gratia/condor/ProbeConfig , verify the following have been changed: change SiteName to something aside from Generic Site change EnableProbe to 1 change CollectorHost , SSLHost , and SSLRegistrationHost to the an invalid host (E.g. test.com) or the localhost Create /var/lib/osg/ and download the attached user-vo-map file and place it in that directory Edit the user-vo-map file and change the account from sthapa to the account you'll be using to submit the condor jobs in the following step Download and submit the attached condor_submit file (note, on the default fermicloud VM, this takes about 3 hours, so you may want to set NUM_CPUS to 50 so that 50 jobs will run at a time) Run /usr/share/gratia/condor/condor_meter Check /var/lib/gratia/tmp/gratiafiles/ for a subdir.condor_... directory and verify that there are 200 xml jobs and the cpus/wall times are appropriate (either PT0S or PT1M).","title":"Gratia Probe"},{"location":"release/acceptance-testing/#gsi-openssh","text":"Note Fermicloud policy forbids running the GSI OpenSSH server. You will have to test that part locally. To test a fresh installation: Spin up two VM's and set up the EPEL/OSG repos on both of them. Choose one of the VM's, it will be the server VM. The hostname of this machine will be referenced below as the <SERVER HOSTNAME> Consult these instructions to set up the server. From the other VM (client): Install the necessary packages: root@host # yum install globus-proxy-utils gsi-openssh-clients Initialize your proxy. After this, none of the gsi commands should prompt you for your password. Connect to the server: user@host $ gsissh -p 2222 <SERVER HOSTNAME> Copy a test file to the server: user@host $ gsiscp -p 2222 testfile <SERVER HOSTNAME>:/tmp Connect to the server via SFTP and grab files: user@host $ gsisftp -P 2222 <SERVER HOSTNAME> user@host $ cd /tmp user@host $ get testfile","title":"GSI OpenSSH"},{"location":"release/acceptance-testing/#htcondor-ce-collector-wip","text":"The CE Collector is a stripped-down version of HTCondor-CE that contains mostly just the collector daemon and configs. It was introduced in htcondor-ce-1.6. The production CE Collectors run at the GOC, but you may want to set up your own for testing. Make 2 VMs with the EPEL/OSG repos installed: one for the collector, and one for the CE","title":"HTCondor-CE Collector (WIP)"},{"location":"release/acceptance-testing/#setting-up-the-collector","text":"Install htcondor-ce-collector Create a file called /etc/condor-ce/config.d/99-local.conf that contains this line: COLLECTOR.ALLOW_ADVERTISE_SCHEDD = $(COLLECTOR.ALLOW_ADVERTISE_SCHEDD), your_htcondor_ce_host.example.net</pre> (with your_htcondor_ce_host replaced by the hostname the HTCondor-CE VM) Run service condor-ce-collector start","title":"Setting Up the Collector"},{"location":"release/acceptance-testing/#setting-up-the-ce","text":"Install osg-htcondor-ce-condor (replace condor with the batch system of your choice) Ensure osg-configure >= 1.0.60-2 is installed Configure your CE using osg-configure You should use the HTCondor-CE Install Docs as a reference, although you can skip several of the steps You can skip setting up Squid: set enabled to True and location to UNAVAILABLE in 01-squid.ini Set htcondor_gateway_enabled to True in 10-gateway.ini You probably don't need GUMS, but if you want it, use the Fermi GUMS server (set gums_host to gums.fnal.gov and authorization_method to xacml in 10-misc.ini) To keep osg-configure from complaining about storage, edit 10-storage.ini : Set se_available to False Set app_dir to /osg/app_dir Set data_dir to /osg/data_dir Do mkdir -p /osg/app_dir/etc; mkdir -p /osg/data_dir; chmod 1777 /osg/app_dir{,/etc} Enable your batch system by setting enabled to True in 20-<batch system>.ini Set up the site info in 40-siteinfo.ini ; in particular, you'll need to set the resource and resource_group settings \\ (you just need to pick a name; I concatenate my login name with the short host name and use that, e.g. matyasfermicloud001). \\ You can also use the following settings: group=OSG-ITB sponsor=local city=Batavia, IL country=US longitude=-88 latitude=41 Edit the file /etc/osg/config.d/30-infoservices.ini and set ce_collectors to the collector host Run osg-configure -dc Start up your batch system Run service condor-ce start The CE will report to the collector host every five minutes. If you want to force it to send now, run condor_ce_reconfig . You should see your CE if you run condor_ce_status -schedd on the collector host.","title":"Setting Up the CE"},{"location":"release/acceptance-testing/#rsv","text":"Testing a fresh installation: make sure the yum repositories required by OSG is installed on your host rpm -Uvh http://repo.opensciencegrid.org/osg/3.4/osg-3.4-el7-release-latest.rpm OR rpm -Uvh http://repo.opensciencegrid.org/osg/3.4/osg-3.4-el6-release-latest.rpm also make sure epel repo is set up. install the rpm yum --enablerepo=osg-testing install rsv edit /etc/osg/config.d/30-rsv.ini file in my case, I don't have a service cert for testing, so I use my own personal cert to create the proxy, but later on the owner of the proxy should be changed to \"rsv\" user that is created during the rpm install. in the config file, for the ce_hosts and gridftp_hosts, put in a test server, as the result from this test will be uploaded to OSG GOC, which may mess up your production service monitoring if you chose a production server for the test. osg-configure -v osg-configure -c /etc/init.d/condor-cron start /etc/init.d/rsv start rsv-control --list rsv-control --version rsv-control --run --all-enabled 11. make sure the results from the above commands look fine. Testing an upgrade installation: make sure to enable the osg-testing repo, and set its priority higher than the other repos yum --enablerepo=osg-testing upgrade rsv* you can use the old 30-rsv.ini file for configuration repeat steps 4)~11) as mentioned in the last section.","title":"RSV"},{"location":"release/acceptance-testing/#slurm","text":"This section goes through the steps needed to set up a slurm install on a VM. This is a necessary prerequisite for testing Slurm related components (CE integration, gratia, etc.). Note that the slurm setup used for this uses weak passwords for mysql. It should be sufficient for a quick setup, testing, and then tear down but should not be used without changes if it will be running for any appreciable length of time. Note need to have a VM with 2+ GB of memory","title":"Slurm"},{"location":"release/acceptance-testing/#installation-and-setup","text":"Download scripts and config files: cd /tmp/ git clone <https://github.com/sthapa/utilities.git> cd utilities/slurm setup and install slurm components export username='USERNAME' \\# user that jobs will run as export version='14.11.7' \\# slurm version to install (e.g. 16.05.2 or 14.11.7) ./slurm-setup.sh After successful completion, slurm and slurm gratia probes should be setup and enabled.","title":"Installation and setup"},{"location":"release/acceptance-testing/#running-a-job-using-slurm","text":"Generate test.sh with the following: #/bin/bash echo \"In the directory: `pwd`\" echo \"As the user: `whoami`\" echo \u201cHostname:\" /bin/hostname sleep 60 </pre> run sbatch test.sh the output from the jobs should appear in the current working directory as test.sh.[eo].nnnnn where nnnnn is a job id","title":"Running a job using slurm"},{"location":"release/acceptance-testing/#vo-client","text":"This document contains a basic recipe for testing a VO Package release","title":"VO Client"},{"location":"release/acceptance-testing/#prerequisites","text":"Testing the VO package requires a few components: * X.509 certificate with membership to at least one VO * System with working GUMS installation * System with OSG installation (voms-proxy-init and edg-mkgridmap)","title":"Prerequisites"},{"location":"release/acceptance-testing/#testing-voms-proxy-init","text":"Login in the system that has voms-proxy-init installed. Make sure that you have the correct vo-client rpms installed and that your X.509 certificate is in your home directory. For each VO that you have membership in, run the following voms-proxy-init -voms [VO] where [VO] is the appropriate VO (e.g. osg, cms, etc.). You should be able to generate a voms-proxy for that VO without errors.","title":"Testing voms-proxy-init"},{"location":"release/acceptance-testing/#xrootd-voms-testing","text":"This section is intended for OSG Software/Release teams to gather information on testing vomsxrd/xrootd-voms-plugin package. Original plugin named vomsxrd , similar to lcmaps that extracts information for authorization within xrootd of a proxy's voms extension. You need an xrootd server installation In the xrootd server yum install the following packages: xrootd xrootd-voms-plugin vo-client In the xrootd client yum install the following packages: xrootd-client voms-clients vo-client In the xrootd server add this lines to file /etc/xrootd/xrootd-clustered.cfg xrootd.seclib /usr/lib64/libXrdSec.so sec.protparm gsi -vomsfun:/usr/lib64/libXrdSecgsiVOMS.so -vomsfunparms:certfmt=raw|vos=cms|dbg -vomsat:2 sec.protocol /usr/lib64 gsi -ca:1 -crl:3 This configuration will only authorize members of VO cms . You can change it to another VO. Make sure fetch-crl has been run otherwise the xrootd service may fail to start. In the xrootd client get a proxy without voms extension or with another VO extension different that the one used in the configuration: user@host $ voms-proxy-init -voms mis Enter GRID pass phrase: Your identity: /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020 Creating temporary proxy ........................... Done Contacting voms.opensciencegrid.org:15001 [/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=http/voms.opensciencegrid.org] \"mis\" Done Creating proxy ............................................... Done user@host $ xrdcp vomsxrdtest root://fermicloud024.fnal.gov:1094//tmp/ [0B/0B][100%][==================================================][0B/s] Run: [FATAL] Auth failed Now get a proxy with cms extension and run it again: user@host $ voms-proxy-init -voms cms Enter GRID pass phrase: Your identity: /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020 Creating temporary proxy ...................................... Done Contacting voms2.cern.ch:15002 [/DC=ch/DC=cern/OU=computers/CN=voms2.cern.ch] \"cms\" Done Creating proxy .......................................... Done Your proxy is valid until Thu Dec 4 22:53:29 2014 user@host $ xrdcp vomsxrdtest root://fermicloud024.fnal.gov:1094//tmp/ [0B/0B][100%][==================================================][0B/s]","title":"XRootD VOMS Testing"},{"location":"release/acceptance-testing/#hdfs","text":"","title":"HDFS"},{"location":"release/acceptance-testing/#hadoop-name-node-installation","text":"Use the following script with option 1: #!/bin/bash set -e select NODETYPE in namenode datanode gridftp; do [[ $NODETYPE ]] && break done case $NODETYPE in namenode ) NAMENODE=$HOSTNAME ;; * ) read -p 'hostname for NAMENODE? ' NAMENODE ;; esac echo NODETYPE=$NODETYPE echo NAMENODE=$NAMENODE read -p 'ok? [y/N] ' ok case $ok in y*|Y*) ;; # ok *) exit ;; esac #yum install --enablerepo=osg-minefield osg-se-hadoop-$NODETYPE yum install osg-se-hadoop-$NODETYPE case $NODETYPE in namenode|datanode ) mkdir -p /data/{hadoop,scratch,checkpoint} chown -R hdfs:hdfs /data sed -i s/NAMENODE/$NAMENODE/ /etc/hadoop/conf.osg/{core,hdfs}-site.xml cp /etc/hadoop/conf.osg/{core,hdfs}-site.xml /etc/hadoop/conf/ touch /etc/hosts_exclude ;; gridftp ) ln -snf conf.osg /etc/hadoop/conf sed -i s/NAMENODE/$NAMENODE/ /etc/hadoop/conf.osg/{core,hdfs}-site.xml echo \"hadoop-fuse-dfs# /mnt/hadoop fuse server=$NAMENODE,port=9000,rdbuffer=131072,allow_other 0 0\" >> /etc/fstab mkdir /mnt/hadoop mount /mnt/hadoop cp -v /etc/redhat-release /mnt/hadoop/test-file sed -i '/globus_mapping/s/^# *//' /etc/grid-security/gsi-authz.conf sed -i s/yourgums.yourdomain/gums.fnal.gov/ /etc/lcmaps.db mkdir /mnt/hadoop/fnalgrid useradd fnalgrid -g fnalgrid chown fnalgrid:fnalgrid /mnt/hadoop/fnalgrid service globus-gridftp-server start if type -t globus-url-copy >/dev/null; then globus-url-copy file:////bin/bash gsiftp://$HOSTNAME/mnt/hadoop/fnalgrid/first_test else echo globus-url-copy not installed fi ;; esac case $NODETYPE in namenode ) su - hdfs -c \"hadoop namenode -format\" ;; esac service hadoop-hdfs-$NODETYPE start","title":"Hadoop name node installation"},{"location":"release/acceptance-testing/#edit-configuration","text":"Edit /etc/hadoop/conf/hdfs-site.xml set dfs.replication to 1 set dfs.replication.min to 1","title":"Edit Configuration"},{"location":"release/acceptance-testing/#hadoop-data-node-installation","text":"Run same script as before but with option number 2.","title":"Hadoop data node installation"},{"location":"release/acceptance-testing/#gridftp-installation","text":"Run same as script but with option number 3.","title":"GridFTP installation"},{"location":"release/acceptance-testing/#on-the-name-node","text":"[root@fermicloud092 ~]# hdfs dfs -ls /test-file Found 1 items -rw-r--r-- 2 root root 0 2014-07-21 15:57 /test-file","title":"On the name node"},{"location":"release/acceptance-testing/#on-the-name-node_1","text":"[root@]# hadoop fs -mkdir /matyas [root@]# hadoop fs -chown matyas /matyas [root@]# hdfs dfsadmin -setSpaceQuota 123k /matyas user@host $ dd if = /dev/zero of = /tmp/blob bs = 4096 count = 10000 user@host $ kx509 ; voms-proxy-init -noregen -voms fermilab user@host $ globus-url-copy -vb file:///tmp/blob gsiftp:// ` hostname -f ` /mnt/hadoop/matyas","title":"On the name node"},{"location":"release/acceptance-testing/#xrootd-plugins","text":"Install xrootd-server: yum install xrootd-server Install xrootd-plugins yum install xrootd-cmstfc xrootd-hdfs Modify the file /etc/xrootd/xrootd-clustered.cfg to look like this: xrd.port 1094 # The roles this server will play. all.role server all.role manager if xrootd.unl.edu # The known managers all.manager srm.unl.edu:1213 #all.manager xrootd.ultralight.org:1213 # Allow any path to be exported; this is further refined in the authfile. all.export / nostage # Hosts allowed to use this xrootd cluster cms.allow host * ### Standard directives # Simple sites probably don't need to touch these. # Logging verbosity xrootd.trace all -debug ofs.trace all -debug xrd.trace all -debug cms.trace all -debug # Integrate with CMS TFC, placed in /etc/storage.xml oss.namelib /usr/lib64/libXrdCmsTfc.so file:/etc/xrootd/storage.xml?protocol=hadoop xrootd.seclib /usr/lib64/libXrdSec.so xrootd.fslib /usr/lib64/libXrdOfs.so ofs.osslib /usr/lib64/libXrdHdfs.so all.adminpath /var/run/xrootd all.pidpath /var/run/xrootd cms.delay startup 10 cms.fxhold 60s cms.perf int 30s pgm /usr/bin/XrdOlbMonPerf 30 oss.space default_stage /opt/xrootd_cache Create file /etc/xrootd/storage.xml and place this: <storage-mapping> <lfn-to-pfn protocol=\"hadoop\" destination-match=\".*\" path-match=\".*/+tmp2/test-file\" result=\"/test-file\"/> </storage-mapping> For el7 the instrucctions are a little bit different. See: https://jira.opensciencegrid.org/browse/SOFTWARE-2198?focusedCommentId=334667&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-334667 Now from a node do: xrdcp --debug 3 root://yourdatanode.yourdomain:1094//tmp2/test-file . If it is sucessful it would have tested both cmstfc and hdfs plugins","title":"XRootD Plugins"},{"location":"release/announce-rft-packages/","text":"Ready for Testing Announcements \u00b6 Per our community testing policy , we must send weekly digests of packages that are ready for testing. Create the Announcement \u00b6 Step 1: Identify the packages that are \"Ready for Testing\" \u00b6 Run 0-generate-pkg-list from a machine that has your koji-registered user certificate: VERSIONS = \"<VERSION(S)>\" git clone https://github.com/opensciencegrid/release-tools.git cd release-tools 0 -generate-pkg-list $VERSIONS Note In the future, will we have a command the produces the package list sorted according to release series and importance. Step 2: Populate the Announcement Template \u00b6 Find the software components that the packages in the list correspond to. For example, htcondor-ce-4.4.0-1.osg35.el7 should be listed as \"HTCondor-CE 4.4.0\". Place software components into the appropriate section depending on release series and importance of the software. The major software components are listed in the community testing policy . Omit any software that does not need to tested by the community such osg-version and internal tools. Step 3: Send the \"Ready for Testing\" Announcement \u00b6 The announcement goes to: osg-sites@opensciencegrid.org cms-t2@fnal.gov usatlas-t2-l@lists.bnl.gov OIM administrative contacts Use the osg-notify tool on osg-sw-submit.chtc.wisc.edu to send the release announcement using the following command: $ osg-notify --cert your-cert.pem --key your-key.pem \\ --no-sign --type production --message <PATH TO MESSAGE FILE> \\ --subject 'OSG Packages Available for Testing' \\ --recipients \"osg-sites@opensciencegrid.org cms-t2@fnal.gov usatlas-t2-l@lists.bnl.gov\" \\ --oim-recipients resources --oim-recipients vos --oim-contact-type administrative Announcement Template \u00b6 The following email template is filled out to announce that packages are ready for testing. Text between <ANGLE BRACKETS> should be replaced and sections without packages to be tested should be omitted. Omit release numbers unless they are relevant (e.g. for a packaging-only change). Each major component should have a line about what's new. Several packages are available for testing for tentative release next week. OSG 3.5 Only: - Major Components* - <Major Component Name and Version (NV)> - <DESCRIPTION> - <Major Component NV> - <DESCRIPTION> - Minor Components - <Minor Component NV> - <Minor Component NV> Both OSG 3.5 and 3.4: - Major Components* - <Major Component NV> - <DESCRIPTION> - <Major Component NV> - <DESCRIPTION> - Minor Components - <Minor Component NV> - <Minor Component NV> OSG 3.4 Only: - Major Components* - <Major Component NV> - <DESCRIPTION> - <Major Component NV> - <DESCRIPTION> - Minor Components - <Minor Component NV> - <Minor Component NV> To install any of these packages, run the following command: # yum install --enablerepo=osg-testing <PACKAGE NAME> Please test this software and send positive or negative feedback to software-discuss@opensciencegrid.org. Be sure to include details describing your testing platform, e.g. OSG 3.4 vs 3.5, EL6 vs EL7! If you any questions, you can always contact us at help@opensciencegrid.org. JIRA Ticket Summary: https://opensciencegrid.atlassian.net/issues/?filter=12355 Sincerely, The OSG Software & Release Team * As described by our Community Software Testing Policy, (https://opensciencegrid.org/technology/policy/community-testing/) major components of the OSG Software Stack need positive feedback and the approval of the release manager before they can be released.","title":"Ready for Testing Announcements"},{"location":"release/announce-rft-packages/#ready-for-testing-announcements","text":"Per our community testing policy , we must send weekly digests of packages that are ready for testing.","title":"Ready for Testing Announcements"},{"location":"release/announce-rft-packages/#create-the-announcement","text":"","title":"Create the Announcement"},{"location":"release/announce-rft-packages/#step-1-identify-the-packages-that-are-ready-for-testing","text":"Run 0-generate-pkg-list from a machine that has your koji-registered user certificate: VERSIONS = \"<VERSION(S)>\" git clone https://github.com/opensciencegrid/release-tools.git cd release-tools 0 -generate-pkg-list $VERSIONS Note In the future, will we have a command the produces the package list sorted according to release series and importance.","title":"Step 1: Identify the packages that are \"Ready for Testing\""},{"location":"release/announce-rft-packages/#step-2-populate-the-announcement-template","text":"Find the software components that the packages in the list correspond to. For example, htcondor-ce-4.4.0-1.osg35.el7 should be listed as \"HTCondor-CE 4.4.0\". Place software components into the appropriate section depending on release series and importance of the software. The major software components are listed in the community testing policy . Omit any software that does not need to tested by the community such osg-version and internal tools.","title":"Step 2: Populate the Announcement Template"},{"location":"release/announce-rft-packages/#step-3-send-the-ready-for-testing-announcement","text":"The announcement goes to: osg-sites@opensciencegrid.org cms-t2@fnal.gov usatlas-t2-l@lists.bnl.gov OIM administrative contacts Use the osg-notify tool on osg-sw-submit.chtc.wisc.edu to send the release announcement using the following command: $ osg-notify --cert your-cert.pem --key your-key.pem \\ --no-sign --type production --message <PATH TO MESSAGE FILE> \\ --subject 'OSG Packages Available for Testing' \\ --recipients \"osg-sites@opensciencegrid.org cms-t2@fnal.gov usatlas-t2-l@lists.bnl.gov\" \\ --oim-recipients resources --oim-recipients vos --oim-contact-type administrative","title":"Step 3: Send the \"Ready for Testing\" Announcement"},{"location":"release/announce-rft-packages/#announcement-template","text":"The following email template is filled out to announce that packages are ready for testing. Text between <ANGLE BRACKETS> should be replaced and sections without packages to be tested should be omitted. Omit release numbers unless they are relevant (e.g. for a packaging-only change). Each major component should have a line about what's new. Several packages are available for testing for tentative release next week. OSG 3.5 Only: - Major Components* - <Major Component Name and Version (NV)> - <DESCRIPTION> - <Major Component NV> - <DESCRIPTION> - Minor Components - <Minor Component NV> - <Minor Component NV> Both OSG 3.5 and 3.4: - Major Components* - <Major Component NV> - <DESCRIPTION> - <Major Component NV> - <DESCRIPTION> - Minor Components - <Minor Component NV> - <Minor Component NV> OSG 3.4 Only: - Major Components* - <Major Component NV> - <DESCRIPTION> - <Major Component NV> - <DESCRIPTION> - Minor Components - <Minor Component NV> - <Minor Component NV> To install any of these packages, run the following command: # yum install --enablerepo=osg-testing <PACKAGE NAME> Please test this software and send positive or negative feedback to software-discuss@opensciencegrid.org. Be sure to include details describing your testing platform, e.g. OSG 3.4 vs 3.5, EL6 vs EL7! If you any questions, you can always contact us at help@opensciencegrid.org. JIRA Ticket Summary: https://opensciencegrid.atlassian.net/issues/?filter=12355 Sincerely, The OSG Software & Release Team * As described by our Community Software Testing Policy, (https://opensciencegrid.org/technology/policy/community-testing/) major components of the OSG Software Stack need positive feedback and the approval of the release manager before they can be released.","title":"Announcement Template"},{"location":"release/cut-data-release/","text":"Note If you are performing a software release, please follow the instructions here How to Cut a Data Release \u00b6 This document details the process for releasing new OSG Data Release version(s). This document does NOT discuss the policy for deciding what goes into a release, which can be found here . Due to the length of time that this process takes, it is recommended to do the release over three or more days to allow for errors to be corrected and tests to be run. Requirements \u00b6 User certificate registered with OSG's koji with build and release team privileges An account on UW CS machines (e.g. moria ) to access UW's AFS release-tools scripts in your PATH ( GitHub ) osg-build scripts in your PATH (installed via OSG yum repos or source ) Access to the tarball repository at UNL (osgcollab@repo.opensciencegrid.org) Pick the Version and Revision Numbers \u00b6 The rest of this document makes references to <REVISION> and <VERSION(S)> , which refer to the space-delimited list of OSG version(s) and data revision, respectively (e.g. 3.3.28 3.4.3 and 2 , respectively). If you are unsure about either the version or revision, please consult the release manager. Day 0: Generate Preliminary Release List \u00b6 The release manager often needs a tentative list of packages to be released. This is done by finding the package differences between osg-testing and the current release. Run 0-generate-pkg-list from a machine that has your koji-registered user certificate: VERSIONS = '<VERSION(S)>' REVISION = <REVISION> git clone https://github.com/opensciencegrid/release-tools.git cd release-tools ./0-generate-pkg-list -d $REVISION $VERSIONS Day 1: Verify Pre-Release and Generate Tarballs \u00b6 This section is to be performed 1-2 days before the release (as designated by the release manager) to perform last checks of the release and create the client tarballs. Step 1: Verify Pre-Release \u00b6 Compare the list of packages already in pre-release to the final list for the release put together by the OSG Release Coordinator (who should have updated release-list in git). To do this, run the 1-verify-prerelease script from git: VERSIONS = '<VERSION(S)>' REVISION = <REVISION> ./1-verify-prerelease -d $REVISION $VERSIONS If there are any discrepancies, consult the release manager. You may have to tag or untag packages with the osg-koji tool. Step 2: Test Pre-Release in VM Universe \u00b6 To test pre-release, you will be kicking off a manual VM universe test run from osg-sw-submit.chtc.wisc.edu . Ensure that you meet the pre-requisites for submitting VM universe test runs Prepare the test suite by running: osg-run-tests -P 'Testing OSG pre-release' cd into the directory specified in the output of the previous command Submit the DAG: ./master-run.sh Note Test upcoming even though nothing will be released into upcoming. It is possible that a blahp (or some other) update in 3.X could affect upcoming. Note If there are failures, consult the release-manager before proceeding. Step 3: Test the Pre-Release on the Madison ITB site \u00b6 Test the pre-release on the Madison ITB by following the ITB pre-release testing instructions . If you not local to Madison, consult the release manager for the designated person to do this testing. Step 4: Regenerate the build repositories \u00b6 To avoid 404 errors when retrieving packages, it's necessary to regenerate the build repositories. Run the following script from a machine with your koji-registered user certificate: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-regen-repos $NON_UPCOMING_VERSIONS Step 5: Create the client tarballs \u00b6 Create the OSG client tarballs on dumbo.chtc.wisc.edu using the relevant script from git: NON_UPCOMING_VERSION = \"<NON-UPCOMING VERSION>\" REVISION = <REVISION> git clone https://github.com/opensciencegrid/tarball-client.git pushd tarball-client ./docker-make-client-tarball --osgver 3 .5 --version $NON_UPCOMING_VERSION --relnum $REVISION --all popd The tarballs are found in the tarball-client directory. Step 6: Briefly test the client tarballs \u00b6 Currently, the yum repositories on dumbo.chtc.wisc.edu are configured in such a way that the verify tarball script fails. So, copy the tarballs to a known directory on moria.cs.wisc.edu. As an unprivileged user , run the script: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-verify-tarballs -d $REVISION $NON_UPCOMING_VERSIONS If you have time, try some of the binaries, such as grid-proxy-init. Todo We need to automate this and have it run on the proper architectures and version of RHEL. Step 7: Wait \u00b6 Wait for clearance. The OSG Release Coordinator (in consultation with the Software Team and any testers) need to sign off on the update before it is released. If you are releasing things over two days, this is a good place to stop for the day. Day 2: Pushing the Release \u00b6 Step 1: Upload the tarballs to AFS \u00b6 Upload the tarballs to AFS. (This step moved to release day, since repo.opensciencegrid.org tarballs are automatically updated hourly from the VDT web site served out of AFS.) ./1-upload-tarballs-to-afs -d $REVISION $NON_UPCOMING_VERSION Step 2: Update the UW AFS installation of the tarball client \u00b6 The UW keeps an installation of the tarball client in /p/vdt/workspace/tarball-client on the UW's AFS. To update it, run the following commands: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/afs-install-tarball-client $ver $REVISION done Step 3: Push from pre-release to release \u00b6 This script moves the packages into release, clones releases into new version-specific release repos, locks the repos and regenerates them. VERSIONS = '<VERSION(S)>' REVISION = <REVISION> 2 -push-release -d $REVISION $VERSIONS Step 4: Generate the release notes \u00b6 This script generates the release notes and updates the release information in AFS. VERSIONS = '<VERSION(S)>' REVISION = <REVISION> 2 -make-notes -d $REVISION $VERSIONS *.txt files are created and it should be verified that they've been moved to /p/vdt/public/html/release-info/ on UW's AFS. For each release version, use the *release-note* files to update the relevant sections of the release note pages. Step 5: Install the tarballs into OASIS \u00b6 Note You must be an OASIS manager of the mis VO to do these steps. Known managers as of 2014-07-22: Mat, Tim C, Tim T, Brian L. Get the uploader script from Git and run it with osgrun from the UW AFS install of the tarball client you made earlier. On a UW CSL machine: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" cd /tmp git clone --depth 1 file:///p/vdt/workspace/git/repo/tarball-client.git for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/current/sys/osgrun /tmp/tarball-client/upload-tarballs-to-oasis $ver $REVISION done The script will automatically ssh you to oasis-login.opensciencegrid.org and give you instructions to complete the process. Step 6: Remove old UW AFS installations of the tarball client \u00b6 To keep space usage down, remove tarball client installations and symlinks under /p/vdt/workspace/tarball-client on UW's AFS that are more than 2 months old. To remove them, first check the list: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -ls Then if the output looks reasonable (contains at least one installation, but does not contain recent installations), remove them: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -exec rm -rf {} + Step 7: Update the Docker WN client \u00b6 The GitHub repository at opensciencegrid/docker-osg-wn controls the contents and tags pushed for the opensciencegrid/osg-wn container image. Navigate to the build/push workflow Click the Run workflow button and select the master branch Verify that all builds succeed Step 8: Rebuild the Docker software base \u00b6 Go to the build-docker-image workflow page of the opensciencegrid/docker-software-base : https://github.com/opensciencegrid/docker-software-base/actions/workflows/build-container.yml Click the Run Workflow button, select the master branch, and click Run workflow . Step 8: Verify the VO Package and/or CA certificates \u00b6 Wait for the CA certificates to be updated. It may take a while for the updates to reach the mirror used to update the web site. The repository is checked hourly for updated CA certificates. Once the web page is updated, run the following command to update the VO Package and/or CA certificates in the tarball installations and verify that the version of the VO Package and/or CA certificates match the version that was promoted to release. /p/vdt/workspace/tarball-client/current/amd64_rhel7/osgrun osg-update-data Step 9: Make release note pages \u00b6 Copy the release note page from the latest data release of each series and put the new version number in the file name. Edit the release number and date. Insert the package and RPM lists generated in Step 2 above. For the list of changes, make an entry for each package. (VO Package v??, and/or CA certificates based on IGTF 1.??) Under each package, list the VOs or CAs affected. Usually, you can just paste this from their release announcement. (At the time of writing, CA certificate and VO updates are the only packages that go into a data only release.) Spell check the release note pages. Add the new pages to the release series table in docs/release/notes.md . List the major packages that are mentioned in the release announcement. Locally serve up the web pages and ensure that the formatting looks good and the links work as expected. Make a pull request, get it approved, and merged. When the web page is available, you can announce the release. Step 10: Announce the release \u00b6 The following instructions are meant for the release manager (or interim release manager). If you are not the release manager, let the release manager know that they can announce the release. The release manager writes the a release announcement for each version and sends it out. The announcement should mention a handful of the most important updates. Due to downstream formatting issues, each major change should end at column 76 or earlier. Here is a sample, replace <BRACKETED TEXT> with the appropriate values: If you are only updating certificates or only updated the VO package, delete the corresponding text: Subject: Announcing OSG CA Certificate and VO Package Updates Subject: Announcing OSG CA Certificate Update Subject: Announcing VO Package Update We are pleased to announce a data release for the OSG Software Stack. Data releases do not contain any software changes. This release contains updated CA Certificates based on IGTF <VERSION>: - <Change 1 from IGTF changelog> - <Change 2 from IGTF changelog> This release contains VO Package v<VERSION>: This release also contains VO Package v<VERSION>: - <Change 1 from VO changelog> - <Change 2 from VO changelog> Release notes and pointers to more documentation can be found at: http://www.opensciencegrid.org/docs/release/<SERIES.VERSION>/release-<RELEASE-VERSION>/ The following containers have updated 'release' tags and are available through Docker Hub (https://hub.docker.com/r/opensciencegrid/): - container name 1 - container name 2 - container name 3 Need help? Let us know: http://www.opensciencegrid.org/docs/common/help/ We welcome feedback on this release! The release manager uses the osg-notify tool on osg-sw-submit.chtc.wisc.edu to send the release announcement using the following command: $ osg-notify --cert your-cert.pem --key your-key.pem \\ --no-sign --type production --message <PATH TO MESSAGE FILE> \\ --subject '<EMAIL SUBJECT>' \\ --recipients \"osg-general@opensciencegrid.org osg-operations@opensciencegrid.org osg-sites@opensciencegrid.org software-discuss@opensciencegrid.org site-announce@opensciencegrid.org\" \\ --oim-recipients resources --oim-recipients vos --oim-contact-type administrative Replacing <EMAIL SUBJECT> with an appropriate subject for your announcement and <PATH TO MESSAGE FILE> with the path to the file containing your message in plain text. The release manager releases the tickets marked 'Ready for Release' in the release's JIRA filter using the 'bulk change' function. Day 3: Update the ITB \u00b6 Now that the release has had a chance to propagate to all the mirrors, update the Madison ITB site by following the yum update section of the Madison ITB document. If you are not local to Madison, consult the release manager for the designated person to do the update. Remember to stop the HTCondor and HTCondor-CE daemons according to the HTCondor pre-release testing instructions . Those daemons will need to be restarted after the upgrade.","title":"How to Cut a Data Release"},{"location":"release/cut-data-release/#how-to-cut-a-data-release","text":"This document details the process for releasing new OSG Data Release version(s). This document does NOT discuss the policy for deciding what goes into a release, which can be found here . Due to the length of time that this process takes, it is recommended to do the release over three or more days to allow for errors to be corrected and tests to be run.","title":"How to Cut a Data Release"},{"location":"release/cut-data-release/#requirements","text":"User certificate registered with OSG's koji with build and release team privileges An account on UW CS machines (e.g. moria ) to access UW's AFS release-tools scripts in your PATH ( GitHub ) osg-build scripts in your PATH (installed via OSG yum repos or source ) Access to the tarball repository at UNL (osgcollab@repo.opensciencegrid.org)","title":"Requirements"},{"location":"release/cut-data-release/#pick-the-version-and-revision-numbers","text":"The rest of this document makes references to <REVISION> and <VERSION(S)> , which refer to the space-delimited list of OSG version(s) and data revision, respectively (e.g. 3.3.28 3.4.3 and 2 , respectively). If you are unsure about either the version or revision, please consult the release manager.","title":"Pick the Version and Revision Numbers"},{"location":"release/cut-data-release/#day-0-generate-preliminary-release-list","text":"The release manager often needs a tentative list of packages to be released. This is done by finding the package differences between osg-testing and the current release. Run 0-generate-pkg-list from a machine that has your koji-registered user certificate: VERSIONS = '<VERSION(S)>' REVISION = <REVISION> git clone https://github.com/opensciencegrid/release-tools.git cd release-tools ./0-generate-pkg-list -d $REVISION $VERSIONS","title":"Day 0: Generate Preliminary Release List"},{"location":"release/cut-data-release/#day-1-verify-pre-release-and-generate-tarballs","text":"This section is to be performed 1-2 days before the release (as designated by the release manager) to perform last checks of the release and create the client tarballs.","title":"Day 1: Verify Pre-Release and Generate Tarballs"},{"location":"release/cut-data-release/#step-1-verify-pre-release","text":"Compare the list of packages already in pre-release to the final list for the release put together by the OSG Release Coordinator (who should have updated release-list in git). To do this, run the 1-verify-prerelease script from git: VERSIONS = '<VERSION(S)>' REVISION = <REVISION> ./1-verify-prerelease -d $REVISION $VERSIONS If there are any discrepancies, consult the release manager. You may have to tag or untag packages with the osg-koji tool.","title":"Step 1: Verify Pre-Release"},{"location":"release/cut-data-release/#step-2-test-pre-release-in-vm-universe","text":"To test pre-release, you will be kicking off a manual VM universe test run from osg-sw-submit.chtc.wisc.edu . Ensure that you meet the pre-requisites for submitting VM universe test runs Prepare the test suite by running: osg-run-tests -P 'Testing OSG pre-release' cd into the directory specified in the output of the previous command Submit the DAG: ./master-run.sh Note Test upcoming even though nothing will be released into upcoming. It is possible that a blahp (or some other) update in 3.X could affect upcoming. Note If there are failures, consult the release-manager before proceeding.","title":"Step 2: Test Pre-Release in VM Universe"},{"location":"release/cut-data-release/#step-3-test-the-pre-release-on-the-madison-itb-site","text":"Test the pre-release on the Madison ITB by following the ITB pre-release testing instructions . If you not local to Madison, consult the release manager for the designated person to do this testing.","title":"Step 3: Test the Pre-Release on the Madison ITB site"},{"location":"release/cut-data-release/#step-4-regenerate-the-build-repositories","text":"To avoid 404 errors when retrieving packages, it's necessary to regenerate the build repositories. Run the following script from a machine with your koji-registered user certificate: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-regen-repos $NON_UPCOMING_VERSIONS","title":"Step 4: Regenerate the build repositories"},{"location":"release/cut-data-release/#step-5-create-the-client-tarballs","text":"Create the OSG client tarballs on dumbo.chtc.wisc.edu using the relevant script from git: NON_UPCOMING_VERSION = \"<NON-UPCOMING VERSION>\" REVISION = <REVISION> git clone https://github.com/opensciencegrid/tarball-client.git pushd tarball-client ./docker-make-client-tarball --osgver 3 .5 --version $NON_UPCOMING_VERSION --relnum $REVISION --all popd The tarballs are found in the tarball-client directory.","title":"Step 5: Create the client tarballs"},{"location":"release/cut-data-release/#step-6-briefly-test-the-client-tarballs","text":"Currently, the yum repositories on dumbo.chtc.wisc.edu are configured in such a way that the verify tarball script fails. So, copy the tarballs to a known directory on moria.cs.wisc.edu. As an unprivileged user , run the script: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-verify-tarballs -d $REVISION $NON_UPCOMING_VERSIONS If you have time, try some of the binaries, such as grid-proxy-init. Todo We need to automate this and have it run on the proper architectures and version of RHEL.","title":"Step 6: Briefly test the client tarballs"},{"location":"release/cut-data-release/#step-7-wait","text":"Wait for clearance. The OSG Release Coordinator (in consultation with the Software Team and any testers) need to sign off on the update before it is released. If you are releasing things over two days, this is a good place to stop for the day.","title":"Step 7: Wait"},{"location":"release/cut-data-release/#day-2-pushing-the-release","text":"","title":"Day 2: Pushing the Release"},{"location":"release/cut-data-release/#step-1-upload-the-tarballs-to-afs","text":"Upload the tarballs to AFS. (This step moved to release day, since repo.opensciencegrid.org tarballs are automatically updated hourly from the VDT web site served out of AFS.) ./1-upload-tarballs-to-afs -d $REVISION $NON_UPCOMING_VERSION","title":"Step 1: Upload the tarballs to AFS"},{"location":"release/cut-data-release/#step-2-update-the-uw-afs-installation-of-the-tarball-client","text":"The UW keeps an installation of the tarball client in /p/vdt/workspace/tarball-client on the UW's AFS. To update it, run the following commands: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/afs-install-tarball-client $ver $REVISION done","title":"Step 2: Update the UW AFS installation of the tarball client"},{"location":"release/cut-data-release/#step-3-push-from-pre-release-to-release","text":"This script moves the packages into release, clones releases into new version-specific release repos, locks the repos and regenerates them. VERSIONS = '<VERSION(S)>' REVISION = <REVISION> 2 -push-release -d $REVISION $VERSIONS","title":"Step 3: Push from pre-release to release"},{"location":"release/cut-data-release/#step-4-generate-the-release-notes","text":"This script generates the release notes and updates the release information in AFS. VERSIONS = '<VERSION(S)>' REVISION = <REVISION> 2 -make-notes -d $REVISION $VERSIONS *.txt files are created and it should be verified that they've been moved to /p/vdt/public/html/release-info/ on UW's AFS. For each release version, use the *release-note* files to update the relevant sections of the release note pages.","title":"Step 4: Generate the release notes"},{"location":"release/cut-data-release/#step-5-install-the-tarballs-into-oasis","text":"Note You must be an OASIS manager of the mis VO to do these steps. Known managers as of 2014-07-22: Mat, Tim C, Tim T, Brian L. Get the uploader script from Git and run it with osgrun from the UW AFS install of the tarball client you made earlier. On a UW CSL machine: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" cd /tmp git clone --depth 1 file:///p/vdt/workspace/git/repo/tarball-client.git for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/current/sys/osgrun /tmp/tarball-client/upload-tarballs-to-oasis $ver $REVISION done The script will automatically ssh you to oasis-login.opensciencegrid.org and give you instructions to complete the process.","title":"Step 5: Install the tarballs into OASIS"},{"location":"release/cut-data-release/#step-6-remove-old-uw-afs-installations-of-the-tarball-client","text":"To keep space usage down, remove tarball client installations and symlinks under /p/vdt/workspace/tarball-client on UW's AFS that are more than 2 months old. To remove them, first check the list: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -ls Then if the output looks reasonable (contains at least one installation, but does not contain recent installations), remove them: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -exec rm -rf {} +","title":"Step 6: Remove old UW AFS installations of the tarball client"},{"location":"release/cut-data-release/#step-7-update-the-docker-wn-client","text":"The GitHub repository at opensciencegrid/docker-osg-wn controls the contents and tags pushed for the opensciencegrid/osg-wn container image. Navigate to the build/push workflow Click the Run workflow button and select the master branch Verify that all builds succeed","title":"Step 7: Update the Docker WN client"},{"location":"release/cut-data-release/#step-8-rebuild-the-docker-software-base","text":"Go to the build-docker-image workflow page of the opensciencegrid/docker-software-base : https://github.com/opensciencegrid/docker-software-base/actions/workflows/build-container.yml Click the Run Workflow button, select the master branch, and click Run workflow .","title":"Step 8: Rebuild the Docker software base"},{"location":"release/cut-data-release/#step-8-verify-the-vo-package-andor-ca-certificates","text":"Wait for the CA certificates to be updated. It may take a while for the updates to reach the mirror used to update the web site. The repository is checked hourly for updated CA certificates. Once the web page is updated, run the following command to update the VO Package and/or CA certificates in the tarball installations and verify that the version of the VO Package and/or CA certificates match the version that was promoted to release. /p/vdt/workspace/tarball-client/current/amd64_rhel7/osgrun osg-update-data","title":"Step 8: Verify the VO Package and/or CA certificates"},{"location":"release/cut-data-release/#step-9-make-release-note-pages","text":"Copy the release note page from the latest data release of each series and put the new version number in the file name. Edit the release number and date. Insert the package and RPM lists generated in Step 2 above. For the list of changes, make an entry for each package. (VO Package v??, and/or CA certificates based on IGTF 1.??) Under each package, list the VOs or CAs affected. Usually, you can just paste this from their release announcement. (At the time of writing, CA certificate and VO updates are the only packages that go into a data only release.) Spell check the release note pages. Add the new pages to the release series table in docs/release/notes.md . List the major packages that are mentioned in the release announcement. Locally serve up the web pages and ensure that the formatting looks good and the links work as expected. Make a pull request, get it approved, and merged. When the web page is available, you can announce the release.","title":"Step 9: Make release note pages"},{"location":"release/cut-data-release/#step-10-announce-the-release","text":"The following instructions are meant for the release manager (or interim release manager). If you are not the release manager, let the release manager know that they can announce the release. The release manager writes the a release announcement for each version and sends it out. The announcement should mention a handful of the most important updates. Due to downstream formatting issues, each major change should end at column 76 or earlier. Here is a sample, replace <BRACKETED TEXT> with the appropriate values: If you are only updating certificates or only updated the VO package, delete the corresponding text: Subject: Announcing OSG CA Certificate and VO Package Updates Subject: Announcing OSG CA Certificate Update Subject: Announcing VO Package Update We are pleased to announce a data release for the OSG Software Stack. Data releases do not contain any software changes. This release contains updated CA Certificates based on IGTF <VERSION>: - <Change 1 from IGTF changelog> - <Change 2 from IGTF changelog> This release contains VO Package v<VERSION>: This release also contains VO Package v<VERSION>: - <Change 1 from VO changelog> - <Change 2 from VO changelog> Release notes and pointers to more documentation can be found at: http://www.opensciencegrid.org/docs/release/<SERIES.VERSION>/release-<RELEASE-VERSION>/ The following containers have updated 'release' tags and are available through Docker Hub (https://hub.docker.com/r/opensciencegrid/): - container name 1 - container name 2 - container name 3 Need help? Let us know: http://www.opensciencegrid.org/docs/common/help/ We welcome feedback on this release! The release manager uses the osg-notify tool on osg-sw-submit.chtc.wisc.edu to send the release announcement using the following command: $ osg-notify --cert your-cert.pem --key your-key.pem \\ --no-sign --type production --message <PATH TO MESSAGE FILE> \\ --subject '<EMAIL SUBJECT>' \\ --recipients \"osg-general@opensciencegrid.org osg-operations@opensciencegrid.org osg-sites@opensciencegrid.org software-discuss@opensciencegrid.org site-announce@opensciencegrid.org\" \\ --oim-recipients resources --oim-recipients vos --oim-contact-type administrative Replacing <EMAIL SUBJECT> with an appropriate subject for your announcement and <PATH TO MESSAGE FILE> with the path to the file containing your message in plain text. The release manager releases the tickets marked 'Ready for Release' in the release's JIRA filter using the 'bulk change' function.","title":"Step 10: Announce the release"},{"location":"release/cut-data-release/#day-3-update-the-itb","text":"Now that the release has had a chance to propagate to all the mirrors, update the Madison ITB site by following the yum update section of the Madison ITB document. If you are not local to Madison, consult the release manager for the designated person to do the update. Remember to stop the HTCondor and HTCondor-CE daemons according to the HTCondor pre-release testing instructions . Those daemons will need to be restarted after the upgrade.","title":"Day 3: Update the ITB"},{"location":"release/cut-sw-release/","text":"Note If you are performing a data release, please follow the instructions here How to Cut a Software Release \u00b6 This document details the process for releasing new OSG Release version(s). This document does NOT discuss the policy for deciding what goes into a release, which can be found here . Due to the length of time that this process takes, it is recommended to do the release over three or more days to allow for errors to be corrected and tests to be run. Requirements \u00b6 User certificate registered with OSG's koji with build and release team privileges An account on UW CS machines (e.g. moria ) to access UW's AFS release-tools scripts in your PATH ( GitHub ) osg-build scripts in your PATH (installed via OSG yum repos or source ) Access to the tarball repository at UNL (osgcollab@repo.opensciencegrid.org) Pick the Version Number \u00b6 The rest of this document makes references to <VERSION(S)> and <NON-UPCOMING VERSIONS(S)> , which refer to a space-delimited list of OSG version(s) and that same list minus upcoming (e.g. 3.3.28 3.4.3 upcoming and 3.3.28 3.4.3 ). If you are unsure about either the version or revision, please consult the release manager. Day 0: Generate Preliminary Release List \u00b6 The release manager often needs a tentative list of packages to be released. This is done by finding the package differences between osg-testing and the current release. Run 0-generate-pkg-list from a machine that has your koji-registered user certificate: VERSIONS = '<VERSION(S)>' git clone https://github.com/opensciencegrid/release-tools.git cd release-tools ./0-generate-pkg-list $VERSIONS Day 1: Verify Pre-Release and Generate Tarballs \u00b6 This section is to be performed 1-2 days before the release (as designated by the release manager) to perform last checks of the release and create the client tarballs. Step 1: Verify Pre-Release \u00b6 Compare the list of packages already in pre-release to the final list for the release put together by the OSG Release Coordinator (who should have updated release-list in git). To do this, run the 1-verify-prerelease script from git: VERSIONS = '<VERSION(S)>' ./1-verify-prerelease $VERSIONS If there are any discrepancies, consult the release manager. You may have to tag or untag packages with the osg-koji tool. Step 2: Test Pre-Release in VM Universe \u00b6 To test pre-release, you will be kicking off a manual VM universe test run from osg-sw-submit.chtc.wisc.edu . Ensure that you meet the pre-requisites for submitting VM universe test runs Prepare the test suite by running: osg-run-tests -P 'Testing OSG pre-release' cd into the directory specified in the output of the previous command Submit the DAG: ./master-run.sh Note Test upcoming even though nothing will be released into upcoming. It is possible that a blahp (or some other) update in 3.X could affect upcoming. Note If there are failures, consult the release-manager before proceeding. Step 3: Test the Pre-Release on the Madison ITB site \u00b6 Test the pre-release on the Madison ITB by following the ITB pre-release testing instructions . If you not local to Madison, consult the release manager for the designated person to do this testing. Step 4: Regenerate the build repositories \u00b6 To avoid 404 errors when retrieving packages, it's necessary to regenerate the build repositories. Run the following script from a machine with your koji-registered user certificate: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-regen-repos $NON_UPCOMING_VERSIONS Step 5: Create the client tarballs \u00b6 Create the OSG client tarballs on dumbo.chtc.wisc.edu using the relevant script from git: NON_UPCOMING_VERSION = \"<NON-UPCOMING VERSION>\" git clone https://github.com/opensciencegrid/tarball-client.git pushd tarball-client ./docker-make-client-tarball --osgver 3 .5 --version $NON_UPCOMING_VERSION --all popd The tarballs are found in the tarball-client directory. Step 6: Briefly test the client tarballs \u00b6 Currently, the yum repositories on dumbo.chtc.wisc.edu are configured in such a way that the verify tarball script fails. So, copy the tarballs to a known directory on moria.cs.wisc.edu. As an unprivileged user , run the script: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-verify-tarballs $NON_UPCOMING_VERSIONS If you have time, try some of the binaries, such as grid-proxy-init. Todo We need to automate this and have it run on the proper architectures and version of RHEL. Step 7: Wait \u00b6 Wait for clearance. The OSG Release Coordinator (in consultation with the Software Team and any testers) need to sign off on the update before it is released. If you are releasing things over two days, this is a good place to stop for the day. Day 2: Pushing the Release \u00b6 Step 1: Upload the tarballs to AFS \u00b6 Upload the tarballs to AFS. (This step moved to release day, since repo.opensciencegrid.org tarballs are automatically updated hourly from the VDT web site served out of AFS.) ./1-upload-tarballs-to-afs $NON_UPCOMING_VERSIONS Step 2: Update the UW AFS installation of the tarball client \u00b6 The UW keeps an installation of the tarball client in /p/vdt/workspace/tarball-client on the UW's AFS. To update it, run the following commands: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/afs-install-tarball-client $ver done Step 3: Push from pre-release to release \u00b6 This script moves the packages into release, clones releases into new version-specific release repos, locks the repos and regenerates them. VERSIONS = '<VERSION(S)>' 2 -push-release $VERSIONS Step 4: Generate the release notes \u00b6 This script generates the release notes and updates the release information in AFS. VERSIONS = '<VERSION(S)>' 2 -make-notes $VERSIONS *.txt files are created and it should be verified that they've been moved to /p/vdt/public/html/release-info/ on UW's AFS. For each release version, use the *release-note* files to update the relevant sections of the release note pages. Step 5: Install the tarballs into OASIS \u00b6 Note You must be an OASIS manager of the mis VO to do these steps. Known managers as of 2014-07-22: Mat, Tim C, Tim T, Brian L. Get the uploader script from Git and run it with osgrun from the UW AFS install of the tarball client you made earlier. On a UW CSL machine: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" cd /tmp git clone --depth 1 file:///p/vdt/workspace/git/repo/tarball-client.git for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/current/sys/osgrun /tmp/tarball-client/upload-tarballs-to-oasis $ver done The script will automatically ssh you to oasis-login.opensciencegrid.org and give you instructions to complete the process. Step 6: Remove old UW AFS installations of the tarball client \u00b6 To keep space usage down, remove tarball client installations and symlinks under /p/vdt/workspace/tarball-client on UW's AFS that are more than 2 months old. To remove them, first check the list: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -ls Then if the output looks reasonable (contains at least one installation, but does not contain recent installations), remove them: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -exec rm -rf {} + Step 7: Update the Docker WN client \u00b6 The GitHub repository at opensciencegrid/docker-osg-wn controls the contents and tags pushed for the opensciencegrid/osg-wn container image. Navigate to the build/push workflow Click the Run workflow button and select the master branch Verify that all builds succeed Step 8: Rebuild the Docker software base \u00b6 Go to the build-docker-image workflow page of the opensciencegrid/docker-software-base : https://github.com/opensciencegrid/docker-software-base/actions/workflows/build-container.yml Click the Run Workflow button, select the master branch, and click Run workflow . Step 9: Verify the VO Package and/or CA certificates \u00b6 If this release contains either the vo-client or osg-ca-certs package, verify that the CA web site has been updated. Wait for the CA certificates to be updated. It may take a while for the updates to reach the mirror used to update the web site. The repository is checked hourly for updated CA certificates. Once the web page is updated, run the following command to update the VO Package and/or CA certificates in the tarball installations and verify that the version of the VO Package and/or CA certificates match the version that was promoted to release. /p/vdt/workspace/tarball-client/current/amd64_rhel7/osgrun osg-update-data Step 10: Merge any pending documentation \u00b6 For each documentation ticket in this release, merge the pull requests mentioned in the description or comments. Step 11: Make release note pages \u00b6 Copy the release note page from the latest software release of each series and put the new version number in the file name. Edit the release number and date. Insert the package and RPM lists generated in Step 2 above. For the list of changes, make an entry for each package that contains short descriptive text that would inform a system administrator whether or not this change is of concern to them. Also, link in any release announcement web page that is available for the software. Look a prior releases of the same software for hints on where to find such a page. Examine the known issues and remove any that were resolved with this release. Of course, add any new ones that have come up. Spell check the release note pages. Add the new pages to the release series table in docs/release/notes.md . List the major packages that are mentioned in the release announcement. Locally serve up the web pages and ensure that the formatting looks good and the links work as expected. Make a pull request, get it approved, and merged. When the web page is available, you can announce the release. Step 11: Announce the release \u00b6 The following instructions are meant for the release manager (or interim release manager). If you are not the release manager, let the release manager know that they can announce the release. The release manager writes the a release announcement for each version and sends it out. The announcement should mention a handful of the most important updates. Due to downstream formatting issues, each major change should end at column 76 or earlier. Here is a sample, replace <BRACKETED TEXT> with the appropriate values: Subject: Announcing OSG Software version <VERSION> We are pleased to announce OSG Software version <VERSION>! Changes to OSG <VERSION> include: - Major Change 1 - Major Change 2 - Major Change 3 Release notes and pointers to more documentation can be found at: http://www.opensciencegrid.org/docs/release/<SERIES.VERSION>/release-<RELEASE-VERSION>/ The following containers have updated 'release' tags and are available through Docker Hub (https://hub.docker.com/r/opensciencegrid/): - container name 1 - container name 2 - container name 3 Need help? Let us know: http://www.opensciencegrid.org/docs/common/help/ We welcome feedback on this release! The release manager uses the osg-notify tool on osg-sw-submit.chtc.wisc.edu to send the release announcement using the following command: $ osg-notify --cert your-cert.pem --key your-key.pem \\ --no-sign --type production --message <PATH TO MESSAGE FILE> \\ --subject '<EMAIL SUBJECT>' \\ --recipients \"osg-general@opensciencegrid.org osg-operations@opensciencegrid.org osg-sites@opensciencegrid.org software-discuss@opensciencegrid.org site-announce@opensciencegrid.org\" \\ --oim-recipients resources --oim-recipients vos --oim-contact-type administrative Replacing <EMAIL SUBJECT> with an appropriate subject for your announcement and <PATH TO MESSAGE FILE> with the path to the file containing your message in plain text. The release manager releases the tickets marked 'Ready for Release' in the release's JIRA filter using the 'bulk change' function. Day 3: Update the ITB \u00b6 Now that the release has had a chance to propagate to all the mirrors, update the Madison ITB site by following the yum update section of the Madison ITB document. If you are not local to Madison, consult the release manager for the designated person to do the update. Remember to stop the HTCondor and HTCondor-CE daemons according to the HTCondor pre-release testing instructions . Those daemons will need to be restarted after the upgrade.","title":"How to Cut a Release"},{"location":"release/cut-sw-release/#how-to-cut-a-software-release","text":"This document details the process for releasing new OSG Release version(s). This document does NOT discuss the policy for deciding what goes into a release, which can be found here . Due to the length of time that this process takes, it is recommended to do the release over three or more days to allow for errors to be corrected and tests to be run.","title":"How to Cut a Software Release"},{"location":"release/cut-sw-release/#requirements","text":"User certificate registered with OSG's koji with build and release team privileges An account on UW CS machines (e.g. moria ) to access UW's AFS release-tools scripts in your PATH ( GitHub ) osg-build scripts in your PATH (installed via OSG yum repos or source ) Access to the tarball repository at UNL (osgcollab@repo.opensciencegrid.org)","title":"Requirements"},{"location":"release/cut-sw-release/#pick-the-version-number","text":"The rest of this document makes references to <VERSION(S)> and <NON-UPCOMING VERSIONS(S)> , which refer to a space-delimited list of OSG version(s) and that same list minus upcoming (e.g. 3.3.28 3.4.3 upcoming and 3.3.28 3.4.3 ). If you are unsure about either the version or revision, please consult the release manager.","title":"Pick the Version Number"},{"location":"release/cut-sw-release/#day-0-generate-preliminary-release-list","text":"The release manager often needs a tentative list of packages to be released. This is done by finding the package differences between osg-testing and the current release. Run 0-generate-pkg-list from a machine that has your koji-registered user certificate: VERSIONS = '<VERSION(S)>' git clone https://github.com/opensciencegrid/release-tools.git cd release-tools ./0-generate-pkg-list $VERSIONS","title":"Day 0: Generate Preliminary Release List"},{"location":"release/cut-sw-release/#day-1-verify-pre-release-and-generate-tarballs","text":"This section is to be performed 1-2 days before the release (as designated by the release manager) to perform last checks of the release and create the client tarballs.","title":"Day 1: Verify Pre-Release and Generate Tarballs"},{"location":"release/cut-sw-release/#step-1-verify-pre-release","text":"Compare the list of packages already in pre-release to the final list for the release put together by the OSG Release Coordinator (who should have updated release-list in git). To do this, run the 1-verify-prerelease script from git: VERSIONS = '<VERSION(S)>' ./1-verify-prerelease $VERSIONS If there are any discrepancies, consult the release manager. You may have to tag or untag packages with the osg-koji tool.","title":"Step 1: Verify Pre-Release"},{"location":"release/cut-sw-release/#step-2-test-pre-release-in-vm-universe","text":"To test pre-release, you will be kicking off a manual VM universe test run from osg-sw-submit.chtc.wisc.edu . Ensure that you meet the pre-requisites for submitting VM universe test runs Prepare the test suite by running: osg-run-tests -P 'Testing OSG pre-release' cd into the directory specified in the output of the previous command Submit the DAG: ./master-run.sh Note Test upcoming even though nothing will be released into upcoming. It is possible that a blahp (or some other) update in 3.X could affect upcoming. Note If there are failures, consult the release-manager before proceeding.","title":"Step 2: Test Pre-Release in VM Universe"},{"location":"release/cut-sw-release/#step-3-test-the-pre-release-on-the-madison-itb-site","text":"Test the pre-release on the Madison ITB by following the ITB pre-release testing instructions . If you not local to Madison, consult the release manager for the designated person to do this testing.","title":"Step 3: Test the Pre-Release on the Madison ITB site"},{"location":"release/cut-sw-release/#step-4-regenerate-the-build-repositories","text":"To avoid 404 errors when retrieving packages, it's necessary to regenerate the build repositories. Run the following script from a machine with your koji-registered user certificate: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-regen-repos $NON_UPCOMING_VERSIONS","title":"Step 4: Regenerate the build repositories"},{"location":"release/cut-sw-release/#step-5-create-the-client-tarballs","text":"Create the OSG client tarballs on dumbo.chtc.wisc.edu using the relevant script from git: NON_UPCOMING_VERSION = \"<NON-UPCOMING VERSION>\" git clone https://github.com/opensciencegrid/tarball-client.git pushd tarball-client ./docker-make-client-tarball --osgver 3 .5 --version $NON_UPCOMING_VERSION --all popd The tarballs are found in the tarball-client directory.","title":"Step 5: Create the client tarballs"},{"location":"release/cut-sw-release/#step-6-briefly-test-the-client-tarballs","text":"Currently, the yum repositories on dumbo.chtc.wisc.edu are configured in such a way that the verify tarball script fails. So, copy the tarballs to a known directory on moria.cs.wisc.edu. As an unprivileged user , run the script: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" ./1-verify-tarballs $NON_UPCOMING_VERSIONS If you have time, try some of the binaries, such as grid-proxy-init. Todo We need to automate this and have it run on the proper architectures and version of RHEL.","title":"Step 6: Briefly test the client tarballs"},{"location":"release/cut-sw-release/#step-7-wait","text":"Wait for clearance. The OSG Release Coordinator (in consultation with the Software Team and any testers) need to sign off on the update before it is released. If you are releasing things over two days, this is a good place to stop for the day.","title":"Step 7: Wait"},{"location":"release/cut-sw-release/#day-2-pushing-the-release","text":"","title":"Day 2: Pushing the Release"},{"location":"release/cut-sw-release/#step-1-upload-the-tarballs-to-afs","text":"Upload the tarballs to AFS. (This step moved to release day, since repo.opensciencegrid.org tarballs are automatically updated hourly from the VDT web site served out of AFS.) ./1-upload-tarballs-to-afs $NON_UPCOMING_VERSIONS","title":"Step 1: Upload the tarballs to AFS"},{"location":"release/cut-sw-release/#step-2-update-the-uw-afs-installation-of-the-tarball-client","text":"The UW keeps an installation of the tarball client in /p/vdt/workspace/tarball-client on the UW's AFS. To update it, run the following commands: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/afs-install-tarball-client $ver done","title":"Step 2: Update the UW AFS installation of the tarball client"},{"location":"release/cut-sw-release/#step-3-push-from-pre-release-to-release","text":"This script moves the packages into release, clones releases into new version-specific release repos, locks the repos and regenerates them. VERSIONS = '<VERSION(S)>' 2 -push-release $VERSIONS","title":"Step 3: Push from pre-release to release"},{"location":"release/cut-sw-release/#step-4-generate-the-release-notes","text":"This script generates the release notes and updates the release information in AFS. VERSIONS = '<VERSION(S)>' 2 -make-notes $VERSIONS *.txt files are created and it should be verified that they've been moved to /p/vdt/public/html/release-info/ on UW's AFS. For each release version, use the *release-note* files to update the relevant sections of the release note pages.","title":"Step 4: Generate the release notes"},{"location":"release/cut-sw-release/#step-5-install-the-tarballs-into-oasis","text":"Note You must be an OASIS manager of the mis VO to do these steps. Known managers as of 2014-07-22: Mat, Tim C, Tim T, Brian L. Get the uploader script from Git and run it with osgrun from the UW AFS install of the tarball client you made earlier. On a UW CSL machine: NON_UPCOMING_VERSIONS = \"<NON-UPCOMING VERSION(S)>\" cd /tmp git clone --depth 1 file:///p/vdt/workspace/git/repo/tarball-client.git for ver in $NON_UPCOMING_VERSIONS ; do /p/vdt/workspace/tarball-client/current/sys/osgrun /tmp/tarball-client/upload-tarballs-to-oasis $ver done The script will automatically ssh you to oasis-login.opensciencegrid.org and give you instructions to complete the process.","title":"Step 5: Install the tarballs into OASIS"},{"location":"release/cut-sw-release/#step-6-remove-old-uw-afs-installations-of-the-tarball-client","text":"To keep space usage down, remove tarball client installations and symlinks under /p/vdt/workspace/tarball-client on UW's AFS that are more than 2 months old. To remove them, first check the list: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -ls Then if the output looks reasonable (contains at least one installation, but does not contain recent installations), remove them: find /p/vdt/workspace/tarball-client -maxdepth 1 -mtime +60 -name 3 \\* -exec rm -rf {} +","title":"Step 6: Remove old UW AFS installations of the tarball client"},{"location":"release/cut-sw-release/#step-7-update-the-docker-wn-client","text":"The GitHub repository at opensciencegrid/docker-osg-wn controls the contents and tags pushed for the opensciencegrid/osg-wn container image. Navigate to the build/push workflow Click the Run workflow button and select the master branch Verify that all builds succeed","title":"Step 7: Update the Docker WN client"},{"location":"release/cut-sw-release/#step-8-rebuild-the-docker-software-base","text":"Go to the build-docker-image workflow page of the opensciencegrid/docker-software-base : https://github.com/opensciencegrid/docker-software-base/actions/workflows/build-container.yml Click the Run Workflow button, select the master branch, and click Run workflow .","title":"Step 8: Rebuild the Docker software base"},{"location":"release/cut-sw-release/#step-9-verify-the-vo-package-andor-ca-certificates","text":"If this release contains either the vo-client or osg-ca-certs package, verify that the CA web site has been updated. Wait for the CA certificates to be updated. It may take a while for the updates to reach the mirror used to update the web site. The repository is checked hourly for updated CA certificates. Once the web page is updated, run the following command to update the VO Package and/or CA certificates in the tarball installations and verify that the version of the VO Package and/or CA certificates match the version that was promoted to release. /p/vdt/workspace/tarball-client/current/amd64_rhel7/osgrun osg-update-data","title":"Step 9: Verify the VO Package and/or CA certificates"},{"location":"release/cut-sw-release/#step-10-merge-any-pending-documentation","text":"For each documentation ticket in this release, merge the pull requests mentioned in the description or comments.","title":"Step 10: Merge any pending documentation"},{"location":"release/cut-sw-release/#step-11-make-release-note-pages","text":"Copy the release note page from the latest software release of each series and put the new version number in the file name. Edit the release number and date. Insert the package and RPM lists generated in Step 2 above. For the list of changes, make an entry for each package that contains short descriptive text that would inform a system administrator whether or not this change is of concern to them. Also, link in any release announcement web page that is available for the software. Look a prior releases of the same software for hints on where to find such a page. Examine the known issues and remove any that were resolved with this release. Of course, add any new ones that have come up. Spell check the release note pages. Add the new pages to the release series table in docs/release/notes.md . List the major packages that are mentioned in the release announcement. Locally serve up the web pages and ensure that the formatting looks good and the links work as expected. Make a pull request, get it approved, and merged. When the web page is available, you can announce the release.","title":"Step 11: Make release note pages"},{"location":"release/cut-sw-release/#step-11-announce-the-release","text":"The following instructions are meant for the release manager (or interim release manager). If you are not the release manager, let the release manager know that they can announce the release. The release manager writes the a release announcement for each version and sends it out. The announcement should mention a handful of the most important updates. Due to downstream formatting issues, each major change should end at column 76 or earlier. Here is a sample, replace <BRACKETED TEXT> with the appropriate values: Subject: Announcing OSG Software version <VERSION> We are pleased to announce OSG Software version <VERSION>! Changes to OSG <VERSION> include: - Major Change 1 - Major Change 2 - Major Change 3 Release notes and pointers to more documentation can be found at: http://www.opensciencegrid.org/docs/release/<SERIES.VERSION>/release-<RELEASE-VERSION>/ The following containers have updated 'release' tags and are available through Docker Hub (https://hub.docker.com/r/opensciencegrid/): - container name 1 - container name 2 - container name 3 Need help? Let us know: http://www.opensciencegrid.org/docs/common/help/ We welcome feedback on this release! The release manager uses the osg-notify tool on osg-sw-submit.chtc.wisc.edu to send the release announcement using the following command: $ osg-notify --cert your-cert.pem --key your-key.pem \\ --no-sign --type production --message <PATH TO MESSAGE FILE> \\ --subject '<EMAIL SUBJECT>' \\ --recipients \"osg-general@opensciencegrid.org osg-operations@opensciencegrid.org osg-sites@opensciencegrid.org software-discuss@opensciencegrid.org site-announce@opensciencegrid.org\" \\ --oim-recipients resources --oim-recipients vos --oim-contact-type administrative Replacing <EMAIL SUBJECT> with an appropriate subject for your announcement and <PATH TO MESSAGE FILE> with the path to the file containing your message in plain text. The release manager releases the tickets marked 'Ready for Release' in the release's JIRA filter using the 'bulk change' function.","title":"Step 11: Announce the release"},{"location":"release/cut-sw-release/#day-3-update-the-itb","text":"Now that the release has had a chance to propagate to all the mirrors, update the Madison ITB site by following the yum update section of the Madison ITB document. If you are not local to Madison, consult the release manager for the designated person to do the update. Remember to stop the HTCondor and HTCondor-CE daemons according to the HTCondor pre-release testing instructions . Those daemons will need to be restarted after the upgrade.","title":"Day 3: Update the ITB"},{"location":"release/empty-pkgs/","text":"Procedure for updating empty-* packages \u00b6 Background \u00b6 The empty-* packages were introduced a workaround for sites that install certain software (for example HTCondor or CA certs) from tarballs or other means that do not involve Yum/RPM. The packages contain no files, and exist merely to satisfy RPM dependencies so that other packages can be installed. It is the admin's responsibility to make sure that whatever component they installed the empty package for is functional. The empty packages are kept in a separate repository to prevent them from being accidentally installed instead of the component they claim to provide. Because of this, they do not go through the normal release process of development to testing to prerelease to release, but are moved straight from osg-development into osg-empty after developer testing. Warning It is important to untag the packages from osg-development immediately after promotion to osg-empty Procedure \u00b6 Prepare the package update, but do not build yet. Coordinate with the Software and Release Managers to set aside a good time to update the package. An empty package should not remain in the development repos for longer than a few hours. Build into development. Test out of development. Be thorough , as there is no separate acceptance testing for empty packages. In the JIRA ticket, document your testing procedure and request permission from both the Software and the Release Managers. (Since there is no acceptance testing, both of them have to sign off on the new build). After receiving permission, tag the builds into the osg-empty tags, and untag them from the osg-development tags. Then regenerate the osg-empty repos. osg-koji move-pkg osg-3.3-el6-development osg-3.3-el6-empty <EL6_BUILD_NVR> osg-koji move-pkg osg-3.3-el7-development osg-3.3-el7-empty <EL7_BUILD_NVR> osg-koji regen-repo --nowait osg-3.3-el6-empty osg-koji regen-repo --nowait osg-3.3-el7-empty","title":"Empty Packages"},{"location":"release/empty-pkgs/#procedure-for-updating-empty-packages","text":"","title":"Procedure for updating empty-* packages"},{"location":"release/empty-pkgs/#background","text":"The empty-* packages were introduced a workaround for sites that install certain software (for example HTCondor or CA certs) from tarballs or other means that do not involve Yum/RPM. The packages contain no files, and exist merely to satisfy RPM dependencies so that other packages can be installed. It is the admin's responsibility to make sure that whatever component they installed the empty package for is functional. The empty packages are kept in a separate repository to prevent them from being accidentally installed instead of the component they claim to provide. Because of this, they do not go through the normal release process of development to testing to prerelease to release, but are moved straight from osg-development into osg-empty after developer testing. Warning It is important to untag the packages from osg-development immediately after promotion to osg-empty","title":"Background"},{"location":"release/empty-pkgs/#procedure","text":"Prepare the package update, but do not build yet. Coordinate with the Software and Release Managers to set aside a good time to update the package. An empty package should not remain in the development repos for longer than a few hours. Build into development. Test out of development. Be thorough , as there is no separate acceptance testing for empty packages. In the JIRA ticket, document your testing procedure and request permission from both the Software and the Release Managers. (Since there is no acceptance testing, both of them have to sign off on the new build). After receiving permission, tag the builds into the osg-empty tags, and untag them from the osg-development tags. Then regenerate the osg-empty repos. osg-koji move-pkg osg-3.3-el6-development osg-3.3-el6-empty <EL6_BUILD_NVR> osg-koji move-pkg osg-3.3-el7-development osg-3.3-el7-empty <EL7_BUILD_NVR> osg-koji regen-repo --nowait osg-3.3-el6-empty osg-koji regen-repo --nowait osg-3.3-el7-empty","title":"Procedure"},{"location":"release/itb-testing/","text":"Testing OSG Software Prereleases on the Madison ITB Site \u00b6 This document contains basic recipes for testing a OSG software prereleases on the Madison ITB site, which includes HTCondor prerelease builds and full OSG software stack prereleases from Yum. Prerequisites \u00b6 The following items are known prerequisites to using this recipe. If you are not running the Ansible commands from osghost, there are almost certainly other prerequisites that are not listed below. And even using osghost for Ansible and itb-submit for the submissions, there may be other prerequisites missing. Please improve this document by adding other prerequisites as they are identified! A checkout of the osgitb directory from our local git instance (not GitHub) Your X.509 DN in the osgitb/unmanaged/htcondor-ce/grid-mapfile file and (via Ansible) on itb-ce1 and itb-ce2 Gathering Information \u00b6 Technically skippable, this section is about checking on the state of the ITB machines before making changes. The plan is to keep the ITB machines generally up-to-date independently, so those steps are not listed here. And honestly, the steps below are just some ideas; do whatever makes sense for the given update. The commands can be run as-is from within the osgitb directory from git. Check OS versions for all current ITB hosts: ansible current -i inventory -f 20 -o -m command -a 'cat /etc/redhat-release' Check the date and time on all hosts (in case NTP stops working): ansible current -i inventory -f 20 -o -m command -a 'date' Check software versions for certain hosts (e.g., for the condor package on hosts in the workers group): ansible workers -i inventory -f 20 -o -m command -a 'rpm -q condor' Installing HTCondor Prerelease \u00b6 Use this section to install a new version of HTCondor, specifically a prerelease build from the development or upcoming-development repository, on the test hosts. Obtain the NVR of the HTCondor prerelease build from OSG to test. Do this by talking to Tim T. and checking Koji. Shut down HTCondor and HTCondor-CE on prerelease machines: ansible 'testing:&ces' -i inventory -bK -f 20 -m service -a 'name=condor-ce state=stopped' ansible 'testing:&condor' -i inventory -bK -f 20 -m service -a 'name=condor state=stopped' Install new version of HTCondor on prerelease machines: ansible 'testing:&condor' -i inventory -bK -f 10 -m command -a 'yum --enablerepo=osg-development --assumeyes update condor' or, if you need to install an NVR that is \u201cearlier\u201d (in the RPM sense) than what is currently installed: ansible 'testing:&condor' -i inventory -bK -f 10 -m command -a 'yum --enablerepo=osg-development --assumeyes downgrade condor condor-classads condor-python condor-procd blahp' Verify correct RPM versions across the site: ansible condor -i inventory -f 20 -o -m command -a 'rpm -q condor' Restart HTCondor and HTCondor-CE on prerelease machines: ansible 'testing:&condor' -i inventory -bK -f 20 -m service -a 'name=condor state=started' ansible 'testing:&ces' -i inventory -bK -f 20 -m service -a 'name=condor-ce state=started' Installing a Prerelease of the OSG Software Stack \u00b6 Use this section to install new versions of all OSG software from a prerelease repository in Yum. Check with the Release Manager to make sure that the prerelease repository has been populated with the desired package versions. Make sure that software is generally up-to-date on the hosts \u2014 see the Madison ITB Site doc for more details It may be desirable to update only non-OSG software at this stage, in which case one could simply disable the OSG repositories by adding command-line options to the yum update commands. Install new software on prerelease hosts: ansible testing -i inventory -bK -f 20 -m command -a 'yum --enablerepo=osg-prerelease --assumeyes update' Read the Yum output carefully, and follow up on any warnings, etc. If the osg-configure package was updated on any host(s), run the osg-configure command on the host(s): ansible testing -i inventory -bK -f 20 -m command -a 'osg-configure -v' -l [HOST(S)] ansible testing -i inventory -bK -f 20 -m command -a 'osg-configure -c' -l [HOST(S)] Verify OSG software updates by inspecting the Yum output carefully or examining specific package versions: ansible current -i inventory -f 20 -o -m command -a 'rpm -q osg-wn-client' Use an inventory group and package names that best fit the situation. Running Tests \u00b6 For the first two test workflows, use your personal space on itb-submit . Copy or checkout the osgitb/htcondor-tests directory to get the test directories. Part \u2160: Submitting jobs directly \u00b6 Change into the 1-direct-jobs subdirectory If there are old result files in the directory, remove them: make distclean Submit the test workflow condor_submit_dag test.dag Monitor the jobs until they are complete or stuck In the initial test runs, the entire workflow ran in a few minutes. If the DAG or jobs exit immediately, go on hold, or otherwise fail, then you have some troubleshooting to do! Keep trying steps 2 and 3 until you get a clean run (or one or more HTCondor bug tickets). Check the final output file: cat count-by-hostnames.txt You should see a reasonable distribution of jobs by hostname, keeping in mind the different number of cores per machine and the fact that HTCondor can and will reuse claims to process many jobs on a single host. Especially watch out for a case in which no jobs run on the newly updated hosts (at the time of writing: itb-data[456] ). (Optional) Clean up, using the make clean or make distclean commands. Use the clean target to remove intermediate result and log files generated by a workflow run but preserve the final output file; use the distclean target to remove all workflow-generated files (plus Emacs backup files). Part \u2161: Submitting jobs using HTCondor-C \u00b6 If direct submissions fail, there is probably no point to doing this step. Change into the 2-htcondor-c-jobs subdirectory If there are old result files in the directory, remove them: make distclean Get a proxy for your X.509 credentials voms-proxy-init Submit the test workflow condor_submit_dag test.dag Monitor the jobs until they are complete or stuck In the initial test runs, the entire workflow ran in 10 minutes or less; generally, this test takes longer than the direct submission test, because of the layers of indirection. Also, status updates from the CEs back to the submit host are infrequent. For direct information about the CEs, log in to itb-ce1 and itb-ce2 to check status; don\u2019t forget to check both condor_ce_q and condor_q on the CEs, probably in that order. If the DAG or jobs exit immediately, go on hold, or otherwise fail, then you have some troubleshooting to do! Keep trying steps 2 and 3 until you get a clean run (or one or more HTCondor bug tickets). Check the final output file: cat count-by-hostnames.txt Again, look for a reasonable distribution of jobs by hostname. (Optional) Clean up, using the make clean or make distclean commands. Part \u2162: Submitting jobs from a GlideinWMS VO Frontend \u00b6 For this workflow, use your personal space on glidein3.chtc.wisc.edu . Copy or checkout the osgitb/htcondor-tests directory to get the test directories. Again, if previous steps fail, do not bother with this step. Change into the 3-frontend-jobs subdirectory If there are old result files in the directory, remove them: make distclean Submit the test workflow condor_submit_dag test.dag Monitor the jobs until they are complete or stuck This workflow could take much longer than the first two, maybe an hour or so. Also, unless there are active glideins, it will take 10 minutes or longer for the first glideins to appear and start matching jobs. Thus it is helpful to monitor condor_q -totals until all of the jobs are submitted (there should be 2001), then switch to monitoring condor_status until glideins start appearing. After the first jobs start running and finishing, it is probably safe to ignore the rest of the run. If the jobs do not appear in the local queue, if glideins do not appear, or if jobs do not start running on the glideins, it is time to start troubleshooting. Check the final output file: cat count-by-hostnames.txt The distribution of jobs per execute node may be more skewed than in the first two workflows, due to the way in which pilots ramp up over time and how HTCondor allocates jobs to slots. (Optional) Clean up, using the make clean or make distclean commands.","title":"ITB Prerelease Testing"},{"location":"release/itb-testing/#testing-osg-software-prereleases-on-the-madison-itb-site","text":"This document contains basic recipes for testing a OSG software prereleases on the Madison ITB site, which includes HTCondor prerelease builds and full OSG software stack prereleases from Yum.","title":"Testing OSG Software Prereleases on the Madison ITB Site"},{"location":"release/itb-testing/#prerequisites","text":"The following items are known prerequisites to using this recipe. If you are not running the Ansible commands from osghost, there are almost certainly other prerequisites that are not listed below. And even using osghost for Ansible and itb-submit for the submissions, there may be other prerequisites missing. Please improve this document by adding other prerequisites as they are identified! A checkout of the osgitb directory from our local git instance (not GitHub) Your X.509 DN in the osgitb/unmanaged/htcondor-ce/grid-mapfile file and (via Ansible) on itb-ce1 and itb-ce2","title":"Prerequisites"},{"location":"release/itb-testing/#gathering-information","text":"Technically skippable, this section is about checking on the state of the ITB machines before making changes. The plan is to keep the ITB machines generally up-to-date independently, so those steps are not listed here. And honestly, the steps below are just some ideas; do whatever makes sense for the given update. The commands can be run as-is from within the osgitb directory from git. Check OS versions for all current ITB hosts: ansible current -i inventory -f 20 -o -m command -a 'cat /etc/redhat-release' Check the date and time on all hosts (in case NTP stops working): ansible current -i inventory -f 20 -o -m command -a 'date' Check software versions for certain hosts (e.g., for the condor package on hosts in the workers group): ansible workers -i inventory -f 20 -o -m command -a 'rpm -q condor'","title":"Gathering Information"},{"location":"release/itb-testing/#installing-htcondor-prerelease","text":"Use this section to install a new version of HTCondor, specifically a prerelease build from the development or upcoming-development repository, on the test hosts. Obtain the NVR of the HTCondor prerelease build from OSG to test. Do this by talking to Tim T. and checking Koji. Shut down HTCondor and HTCondor-CE on prerelease machines: ansible 'testing:&ces' -i inventory -bK -f 20 -m service -a 'name=condor-ce state=stopped' ansible 'testing:&condor' -i inventory -bK -f 20 -m service -a 'name=condor state=stopped' Install new version of HTCondor on prerelease machines: ansible 'testing:&condor' -i inventory -bK -f 10 -m command -a 'yum --enablerepo=osg-development --assumeyes update condor' or, if you need to install an NVR that is \u201cearlier\u201d (in the RPM sense) than what is currently installed: ansible 'testing:&condor' -i inventory -bK -f 10 -m command -a 'yum --enablerepo=osg-development --assumeyes downgrade condor condor-classads condor-python condor-procd blahp' Verify correct RPM versions across the site: ansible condor -i inventory -f 20 -o -m command -a 'rpm -q condor' Restart HTCondor and HTCondor-CE on prerelease machines: ansible 'testing:&condor' -i inventory -bK -f 20 -m service -a 'name=condor state=started' ansible 'testing:&ces' -i inventory -bK -f 20 -m service -a 'name=condor-ce state=started'","title":"Installing HTCondor Prerelease"},{"location":"release/itb-testing/#installing-a-prerelease-of-the-osg-software-stack","text":"Use this section to install new versions of all OSG software from a prerelease repository in Yum. Check with the Release Manager to make sure that the prerelease repository has been populated with the desired package versions. Make sure that software is generally up-to-date on the hosts \u2014 see the Madison ITB Site doc for more details It may be desirable to update only non-OSG software at this stage, in which case one could simply disable the OSG repositories by adding command-line options to the yum update commands. Install new software on prerelease hosts: ansible testing -i inventory -bK -f 20 -m command -a 'yum --enablerepo=osg-prerelease --assumeyes update' Read the Yum output carefully, and follow up on any warnings, etc. If the osg-configure package was updated on any host(s), run the osg-configure command on the host(s): ansible testing -i inventory -bK -f 20 -m command -a 'osg-configure -v' -l [HOST(S)] ansible testing -i inventory -bK -f 20 -m command -a 'osg-configure -c' -l [HOST(S)] Verify OSG software updates by inspecting the Yum output carefully or examining specific package versions: ansible current -i inventory -f 20 -o -m command -a 'rpm -q osg-wn-client' Use an inventory group and package names that best fit the situation.","title":"Installing a Prerelease of the OSG Software Stack"},{"location":"release/itb-testing/#running-tests","text":"For the first two test workflows, use your personal space on itb-submit . Copy or checkout the osgitb/htcondor-tests directory to get the test directories.","title":"Running Tests"},{"location":"release/itb-testing/#part-i-submitting-jobs-directly","text":"Change into the 1-direct-jobs subdirectory If there are old result files in the directory, remove them: make distclean Submit the test workflow condor_submit_dag test.dag Monitor the jobs until they are complete or stuck In the initial test runs, the entire workflow ran in a few minutes. If the DAG or jobs exit immediately, go on hold, or otherwise fail, then you have some troubleshooting to do! Keep trying steps 2 and 3 until you get a clean run (or one or more HTCondor bug tickets). Check the final output file: cat count-by-hostnames.txt You should see a reasonable distribution of jobs by hostname, keeping in mind the different number of cores per machine and the fact that HTCondor can and will reuse claims to process many jobs on a single host. Especially watch out for a case in which no jobs run on the newly updated hosts (at the time of writing: itb-data[456] ). (Optional) Clean up, using the make clean or make distclean commands. Use the clean target to remove intermediate result and log files generated by a workflow run but preserve the final output file; use the distclean target to remove all workflow-generated files (plus Emacs backup files).","title":"Part \u2160: Submitting jobs directly"},{"location":"release/itb-testing/#part-ii-submitting-jobs-using-htcondor-c","text":"If direct submissions fail, there is probably no point to doing this step. Change into the 2-htcondor-c-jobs subdirectory If there are old result files in the directory, remove them: make distclean Get a proxy for your X.509 credentials voms-proxy-init Submit the test workflow condor_submit_dag test.dag Monitor the jobs until they are complete or stuck In the initial test runs, the entire workflow ran in 10 minutes or less; generally, this test takes longer than the direct submission test, because of the layers of indirection. Also, status updates from the CEs back to the submit host are infrequent. For direct information about the CEs, log in to itb-ce1 and itb-ce2 to check status; don\u2019t forget to check both condor_ce_q and condor_q on the CEs, probably in that order. If the DAG or jobs exit immediately, go on hold, or otherwise fail, then you have some troubleshooting to do! Keep trying steps 2 and 3 until you get a clean run (or one or more HTCondor bug tickets). Check the final output file: cat count-by-hostnames.txt Again, look for a reasonable distribution of jobs by hostname. (Optional) Clean up, using the make clean or make distclean commands.","title":"Part \u2161: Submitting jobs using HTCondor-C"},{"location":"release/itb-testing/#part-iii-submitting-jobs-from-a-glideinwms-vo-frontend","text":"For this workflow, use your personal space on glidein3.chtc.wisc.edu . Copy or checkout the osgitb/htcondor-tests directory to get the test directories. Again, if previous steps fail, do not bother with this step. Change into the 3-frontend-jobs subdirectory If there are old result files in the directory, remove them: make distclean Submit the test workflow condor_submit_dag test.dag Monitor the jobs until they are complete or stuck This workflow could take much longer than the first two, maybe an hour or so. Also, unless there are active glideins, it will take 10 minutes or longer for the first glideins to appear and start matching jobs. Thus it is helpful to monitor condor_q -totals until all of the jobs are submitted (there should be 2001), then switch to monitoring condor_status until glideins start appearing. After the first jobs start running and finishing, it is probably safe to ignore the rest of the run. If the jobs do not appear in the local queue, if glideins do not appear, or if jobs do not start running on the glideins, it is time to start troubleshooting. Check the final output file: cat count-by-hostnames.txt The distribution of jobs per execute node may be more skewed than in the first two workflows, due to the way in which pilots ramp up over time and how HTCondor allocates jobs to slots. (Optional) Clean up, using the make clean or make distclean commands.","title":"Part \u2162: Submitting jobs from a GlideinWMS VO Frontend"},{"location":"release/new-release-series/","text":"How to Prepare a New Release Series \u00b6 Throughout this document, we will refer to the new release series as 3.X , and the previous release series as 3.OLD . For example, if we are creating OSG 3.6, then 3.X refers to 3.6 , and 3.OLD refers to 3.5 . Do first, anytime before the month of the release \u00b6 Add 3.X koji tags and targets Modify this script as appropriate and run: https://github.com/opensciencegrid/osg-next-tools/blob/master/koji/create-new-koji-osg3X-tags-etc In particular, update SERIES as appropriate, and include any applicable enterprise linux versions to the EL loop (eg, el7 el8 ) - Note that, at first, upcoming-build will continue to inherit from 3.OLD-devel Add Koji package signing On koji.chtc.wisc.edu, /etc/koji-hub/plugins/sign.conf ; copy all the [osg-3.OLD-*] entries to new entries, renaming the 3.OLD parts in the new enties to 3.X . Ensure the permissions for /etc/koji-hub/plugins/sign.conf are 0600 apache:apache Save the result with etckeeper commit Update osg-build to use the new koji tags and targets (not by default of course) See the Git commits on opensciencegrid/osg-build for SOFTWARE-2693 for details on how to do this You will be using this version of osg-build for some tasks, even if it hasn't been released Do afterward, anytime before the month of the release \u00b6 Create a blank osg-3.X SVN branch and add buildsys-macros package svn copy buildsys-macros from trunk and hand-edit it to hardcode the new osg_version and dver values Do the following steps for all EL versions relevant to the new series; e.g., for EL 7: Edit the spec file and set dver to 7 , and osg_version to 3.X Run the following commands (adjust the NVR as necessary): $ osg-build rpmbuild --el7 $ osg-koji import _build_results/buildsys-macros-*.el7.src.rpm $ osg-koji import _build_results/buildsys-macros-*.el7.noarch.rpm $ pkg = $( basename _build_results/buildsys-macros-*.el7.src.rpm ) $ pkg = ${ pkg %.src.rpm } $ osg-koji tag-pkg osg-3.X-el7-development \" $pkg \" Do a 'real' build of buildsys-macros Bump the revision in the buildsys-macros spec file and edit the %changelog . Again, you will need a version of osg-build with 3.X support. Do the following steps for all EL versions relevant to the new series; e.g., for EL 7: Set dver to 7. Commit $ osg-build koji --repo = 3 .X --el7 Update tarball-client bundles.ini patches/ upload-tarballs-to-oasis (for 3.X, foreach_dver_arch will need to be updated for the new set of 3.X dver_arches ) Add relase-series specific repos/osg-3.X-el<DVER>.repo.in for each supported distro version (e.g., 7 , 8 ) Populate the bootstrap tags Need to have them inherit from the 3.OLD development tags, but only packages, not builds (hence the --noconfig ; yes, the name is weird) # set 3 .OLD and 3 .X as appropriate, specify any relevant dvers for el $ for el in el7 ; do \\ for repo in 3.OLD upcoming; do \\ osg-koji add-tag-inheritance --noconfig --priority=2 \\ osg-3.X-$el-bootstrap osg-$repo-$el-development; \\ done; \\ done Get the actual NVRs to tag I put Brian's spreadsheet into Excel and used its filtering feature to separate out: the packages going into 3.X.0 package differences between each dver (eg, el7 vs el8) save the NVRs for each dver to a separate file, eg, pkgtotag-el7.txt and pkgtotag-el8.txt Tagging: # set 3 .X as appropriate, specify any relevant dvers for el $ for el in el7 el8 ; do \\ xargs -a pkgtotag-$el osg-koji tag-pkg osg-3.X-$el-bootstrap; \\ done (btw, xargs -a doesn't work on a Mac) In order to make testing easier, build the new osg-release and osg-release-itb packages and promote them all the way to release, so that all the 3.X repos exist and have at least one rpm in them. Do on the month of the 3.X.0 release \u00b6 Populate SVN branch and tags (as in fill it with the packages we're going to release for 3.X) Mass rebuild Don't forget to update the empty and contrib tags with the appropriate packages; remove the empty* packages from the development tags after they've been tagged into the empty tags Update mash On repo-itb On repo Update documentation here Update osg-test / vmu-test-runs They're only going to test from minefield (and eventurally testing) until the release Drop the osg-3.X-elY-bootstrap koji tags (after the successful mass rebuild only) Update docker-software-base and any container images that are based on it Do immediately after the 3.X.0 release \u00b6 Update tag inheritance on the upcoming-build tags to inherit from 3.X-devel instead of 3.OLD-devel Do sometime after the 3.X.0 release \u00b6 Do these three at the same time: Move the SVN trunk to branches/osg-3.OLD and move branches/osg-3.X to trunk Update the koji osg-elY build targets to build from and to 3.X instead of 3.OLD Notify the software list of this change Update osg-test / vmu-test-runs again to add release and release -> testing tests Update the docker-osg-wn-client scripts to build from 3.X (need direct push access) Update the constants in the genbranches script in the docker-osg-wn-scripts repo Update the branches in docker-osg-wn-client ; a script like this ought to work: git clone git@github.com:opensciencegrid/docker-osg-wn-scripts.git git clone git@github.com:opensciencegrid/docker-osg-wn.git cd docker-osg-wn-scripts ./genbranches cd ../docker-osg-wn for bpath in ../docker-osg-wn-scripts/branches/* ; do b = ${ bpath ##*/ } git checkout -b $b master && \\ mv $bpath Dockerfile.in && \\ git add Dockerfile.in && \\ git commit -m \"Add branch $b \" done and then run a similar script to update the existing branches Check the results before pushing, and then run git push --all Update the arrays in update-all and osg-wn-nightly-build in docker-osg-wn-scripts Update the default promotion route aliases in osg-promote Update documentation again to reflect that 3.X is now the main branch and 3.OLD is the maintenance branch Notes on lessons learned \u00b6 Since the upcoming repos are not tied to an upcoming relative to 3.OLD or 3.X , the meaning of the upcoming repo changes when the new OSG series is released. Users which have the upcoming repo enabled before the cutover to 3.X will find that a yum update will pull down packages relative to the new upcoming , relative to 3.X , instead of the old upcoming, which was relative to 3.OLD . This may catch them by surprise, as it happens whether or not they update their osg-release package to the new 3.X version. If it is not their intention to update to packages in the new upcoming , users should disable their upcoming yum repo by the time of the new OSG series cutover, and the continuation of their old upcoming packages will effectively be the main osg repo for the new 3.X series, after they have updated their osg-release package (usually by installing osg-3.X-elY-release-latest.rpm ).","title":"New Release Series"},{"location":"release/new-release-series/#how-to-prepare-a-new-release-series","text":"Throughout this document, we will refer to the new release series as 3.X , and the previous release series as 3.OLD . For example, if we are creating OSG 3.6, then 3.X refers to 3.6 , and 3.OLD refers to 3.5 .","title":"How to Prepare a New Release Series"},{"location":"release/new-release-series/#do-first-anytime-before-the-month-of-the-release","text":"Add 3.X koji tags and targets Modify this script as appropriate and run: https://github.com/opensciencegrid/osg-next-tools/blob/master/koji/create-new-koji-osg3X-tags-etc In particular, update SERIES as appropriate, and include any applicable enterprise linux versions to the EL loop (eg, el7 el8 ) - Note that, at first, upcoming-build will continue to inherit from 3.OLD-devel Add Koji package signing On koji.chtc.wisc.edu, /etc/koji-hub/plugins/sign.conf ; copy all the [osg-3.OLD-*] entries to new entries, renaming the 3.OLD parts in the new enties to 3.X . Ensure the permissions for /etc/koji-hub/plugins/sign.conf are 0600 apache:apache Save the result with etckeeper commit Update osg-build to use the new koji tags and targets (not by default of course) See the Git commits on opensciencegrid/osg-build for SOFTWARE-2693 for details on how to do this You will be using this version of osg-build for some tasks, even if it hasn't been released","title":"Do first, anytime before the month of the release"},{"location":"release/new-release-series/#do-afterward-anytime-before-the-month-of-the-release","text":"Create a blank osg-3.X SVN branch and add buildsys-macros package svn copy buildsys-macros from trunk and hand-edit it to hardcode the new osg_version and dver values Do the following steps for all EL versions relevant to the new series; e.g., for EL 7: Edit the spec file and set dver to 7 , and osg_version to 3.X Run the following commands (adjust the NVR as necessary): $ osg-build rpmbuild --el7 $ osg-koji import _build_results/buildsys-macros-*.el7.src.rpm $ osg-koji import _build_results/buildsys-macros-*.el7.noarch.rpm $ pkg = $( basename _build_results/buildsys-macros-*.el7.src.rpm ) $ pkg = ${ pkg %.src.rpm } $ osg-koji tag-pkg osg-3.X-el7-development \" $pkg \" Do a 'real' build of buildsys-macros Bump the revision in the buildsys-macros spec file and edit the %changelog . Again, you will need a version of osg-build with 3.X support. Do the following steps for all EL versions relevant to the new series; e.g., for EL 7: Set dver to 7. Commit $ osg-build koji --repo = 3 .X --el7 Update tarball-client bundles.ini patches/ upload-tarballs-to-oasis (for 3.X, foreach_dver_arch will need to be updated for the new set of 3.X dver_arches ) Add relase-series specific repos/osg-3.X-el<DVER>.repo.in for each supported distro version (e.g., 7 , 8 ) Populate the bootstrap tags Need to have them inherit from the 3.OLD development tags, but only packages, not builds (hence the --noconfig ; yes, the name is weird) # set 3 .OLD and 3 .X as appropriate, specify any relevant dvers for el $ for el in el7 ; do \\ for repo in 3.OLD upcoming; do \\ osg-koji add-tag-inheritance --noconfig --priority=2 \\ osg-3.X-$el-bootstrap osg-$repo-$el-development; \\ done; \\ done Get the actual NVRs to tag I put Brian's spreadsheet into Excel and used its filtering feature to separate out: the packages going into 3.X.0 package differences between each dver (eg, el7 vs el8) save the NVRs for each dver to a separate file, eg, pkgtotag-el7.txt and pkgtotag-el8.txt Tagging: # set 3 .X as appropriate, specify any relevant dvers for el $ for el in el7 el8 ; do \\ xargs -a pkgtotag-$el osg-koji tag-pkg osg-3.X-$el-bootstrap; \\ done (btw, xargs -a doesn't work on a Mac) In order to make testing easier, build the new osg-release and osg-release-itb packages and promote them all the way to release, so that all the 3.X repos exist and have at least one rpm in them.","title":"Do afterward, anytime before the month of the release"},{"location":"release/new-release-series/#do-on-the-month-of-the-3x0-release","text":"Populate SVN branch and tags (as in fill it with the packages we're going to release for 3.X) Mass rebuild Don't forget to update the empty and contrib tags with the appropriate packages; remove the empty* packages from the development tags after they've been tagged into the empty tags Update mash On repo-itb On repo Update documentation here Update osg-test / vmu-test-runs They're only going to test from minefield (and eventurally testing) until the release Drop the osg-3.X-elY-bootstrap koji tags (after the successful mass rebuild only) Update docker-software-base and any container images that are based on it","title":"Do on the month of the 3.X.0 release"},{"location":"release/new-release-series/#do-immediately-after-the-3x0-release","text":"Update tag inheritance on the upcoming-build tags to inherit from 3.X-devel instead of 3.OLD-devel","title":"Do immediately after the 3.X.0 release"},{"location":"release/new-release-series/#do-sometime-after-the-3x0-release","text":"Do these three at the same time: Move the SVN trunk to branches/osg-3.OLD and move branches/osg-3.X to trunk Update the koji osg-elY build targets to build from and to 3.X instead of 3.OLD Notify the software list of this change Update osg-test / vmu-test-runs again to add release and release -> testing tests Update the docker-osg-wn-client scripts to build from 3.X (need direct push access) Update the constants in the genbranches script in the docker-osg-wn-scripts repo Update the branches in docker-osg-wn-client ; a script like this ought to work: git clone git@github.com:opensciencegrid/docker-osg-wn-scripts.git git clone git@github.com:opensciencegrid/docker-osg-wn.git cd docker-osg-wn-scripts ./genbranches cd ../docker-osg-wn for bpath in ../docker-osg-wn-scripts/branches/* ; do b = ${ bpath ##*/ } git checkout -b $b master && \\ mv $bpath Dockerfile.in && \\ git add Dockerfile.in && \\ git commit -m \"Add branch $b \" done and then run a similar script to update the existing branches Check the results before pushing, and then run git push --all Update the arrays in update-all and osg-wn-nightly-build in docker-osg-wn-scripts Update the default promotion route aliases in osg-promote Update documentation again to reflect that 3.X is now the main branch and 3.OLD is the maintenance branch","title":"Do sometime after the 3.X.0 release"},{"location":"release/new-release-series/#notes-on-lessons-learned","text":"Since the upcoming repos are not tied to an upcoming relative to 3.OLD or 3.X , the meaning of the upcoming repo changes when the new OSG series is released. Users which have the upcoming repo enabled before the cutover to 3.X will find that a yum update will pull down packages relative to the new upcoming , relative to 3.X , instead of the old upcoming, which was relative to 3.OLD . This may catch them by surprise, as it happens whether or not they update their osg-release package to the new 3.X version. If it is not their intention to update to packages in the new upcoming , users should disable their upcoming yum repo by the time of the new OSG series cutover, and the continuation of their old upcoming packages will effectively be the main osg repo for the new 3.X series, after they have updated their osg-release package (usually by installing osg-3.X-elY-release-latest.rpm ).","title":"Notes on lessons learned"},{"location":"release/old-release-removal/","text":"Old Release Series Removal Plan \u00b6 In order to reduce clutter and disk usage on our repositories and build system, we will remove older OSG Software release series. This will result in packages from those series becoming unavailable, so we will remove a release series when its packages are no longer needed. We will remove a release series no earlier than when the following series is completely out of support. For example, OSG 3.1 will be removed when OSG 3.2 is out of support, and OSG 3.2 will be removed when OSG 3.3 is out of support. Tasks \u00b6 Removing a release series requires work from both Operations and Software & Release. The first step is to create a JIRA ticket in the SOFTWARE project to track the work. Second, Software & Release will enumerate the directories for Operations to remove. Operations tasks should be completed before Software & Release tasks. Operations \u00b6 These tasks should be completed in order. Two weeks in advance, notify sites (including mirror sites) that the release series is going away. See the template email below. Remove the series from the mash configs on the repo.opensciencegrid.org machines: Add the koji tags for the old series to the /usr/local/osg-tags.excluded file: # cd /usr/local # fgrep osg-3.1 osg-tags osg-3.1-el5-contrib osg-3.1-el5-development osg-3.1-el5-release osg-3.1-el5-testing osg-3.1-el6-contrib osg-3.1-el6-development osg-3.1-el6-release osg-3.1-el6-testing # fgrep osg-3.1 osg-tags >> osg-tags.exclude Re-run update_mashfiles.sh to update the mash config files: # ./update_mashfiles.sh Remove the appropriate repo directories from /usr/local/repo/osg . # rm -rf repo*/osg/3.1/ Reclaim space from any cached rpms in the mash cache which are no longer linked elsewhere: # find mash/cache/ -name \\* .rpm -type f -links 1 -delete Wait for mash to run and verify that the repos are no longer getting updated: Look at the mash logs in /var/log/repo . Verify that mash did not recreate the repo directory under /usr/local/repo/osg corresponding to the old release series. Software & Release \u00b6 These tasks can be completed in any order. Tag and remove the SVN branch corresponding to the release series. Edit vm-test-runs and remove any \"long tail\" tests that reference the series. Edit tarball-client : Remove bundles from bundles.ini . Remove patch and other files that were used only by those bundles. Test that the current bundles didn't get broken by your changes. Edit osg-build : Remove the promotion routes from promoter.ini . Remove references in constants.py . Test your changes; also run the unit tests. Remove things from Koji: All targets referencing the series. All tags referencing the series. Remove references to the series from opensciencegrid/docker-osg-wn-scripts on GitHub, including the genbranches and update-all scripts. Remove branches from opensciencegrid/docker-osg-wn on GitHub. Move files in /p/vdt/public/html/release-info to its attic subdirectory. Undoing \u00b6 If we really need RPMs from a removed release series, we can look at the text files in /p/vdt/public/html/release-info/attic to determine the exact NVRs we need, and download them from Koji. Template Email \u00b6 Subject: OSG 3.X packages will be removed from the repositories YYYY-MM-DD On <DAYNAME, MONTH DAY>, the OSG will be removing the OSG <3.X> release series from our repositories. This includes both RPMs and tarballs hosted on repo.opensciencegrid.org. As a reminder, support for OSG <3.X> ended after <MONTH YEAR>. If your site is running OSG <3.X>, you should upgrade to the current release series, OSG 3.Y. See our upgrade documentation [1] for instructions. If you need assistance upgrading, please contact us at help@opensciencegrid.org. [1] https://opensciencegrid.org/docs/release/release_series/#updating-from-osg-31-32-33-to-34 If we're dropping support for a distro (e.g. EL 5 when we drop OSG 3.2), add the following after the first paragraph: Note that OSG <3.X> was the last release that supported Enterprise Linux <Z> distributions. If you believe that you still need support for this operating system series, please contact us at help@opensciencegrid.org. Since we're dropping support for i386 (32-bit) when we drop OSG 3.3, add the following after the first paragraph: Note that OSG 3.3 was the last release that contained 32-bit packages. If you believe that you still need support for this architecture, please contacts us at help@opensciencegrid.org.","title":"Old Release Series Removal"},{"location":"release/old-release-removal/#old-release-series-removal-plan","text":"In order to reduce clutter and disk usage on our repositories and build system, we will remove older OSG Software release series. This will result in packages from those series becoming unavailable, so we will remove a release series when its packages are no longer needed. We will remove a release series no earlier than when the following series is completely out of support. For example, OSG 3.1 will be removed when OSG 3.2 is out of support, and OSG 3.2 will be removed when OSG 3.3 is out of support.","title":"Old Release Series Removal Plan"},{"location":"release/old-release-removal/#tasks","text":"Removing a release series requires work from both Operations and Software & Release. The first step is to create a JIRA ticket in the SOFTWARE project to track the work. Second, Software & Release will enumerate the directories for Operations to remove. Operations tasks should be completed before Software & Release tasks.","title":"Tasks"},{"location":"release/old-release-removal/#operations","text":"These tasks should be completed in order. Two weeks in advance, notify sites (including mirror sites) that the release series is going away. See the template email below. Remove the series from the mash configs on the repo.opensciencegrid.org machines: Add the koji tags for the old series to the /usr/local/osg-tags.excluded file: # cd /usr/local # fgrep osg-3.1 osg-tags osg-3.1-el5-contrib osg-3.1-el5-development osg-3.1-el5-release osg-3.1-el5-testing osg-3.1-el6-contrib osg-3.1-el6-development osg-3.1-el6-release osg-3.1-el6-testing # fgrep osg-3.1 osg-tags >> osg-tags.exclude Re-run update_mashfiles.sh to update the mash config files: # ./update_mashfiles.sh Remove the appropriate repo directories from /usr/local/repo/osg . # rm -rf repo*/osg/3.1/ Reclaim space from any cached rpms in the mash cache which are no longer linked elsewhere: # find mash/cache/ -name \\* .rpm -type f -links 1 -delete Wait for mash to run and verify that the repos are no longer getting updated: Look at the mash logs in /var/log/repo . Verify that mash did not recreate the repo directory under /usr/local/repo/osg corresponding to the old release series.","title":"Operations"},{"location":"release/old-release-removal/#software-release","text":"These tasks can be completed in any order. Tag and remove the SVN branch corresponding to the release series. Edit vm-test-runs and remove any \"long tail\" tests that reference the series. Edit tarball-client : Remove bundles from bundles.ini . Remove patch and other files that were used only by those bundles. Test that the current bundles didn't get broken by your changes. Edit osg-build : Remove the promotion routes from promoter.ini . Remove references in constants.py . Test your changes; also run the unit tests. Remove things from Koji: All targets referencing the series. All tags referencing the series. Remove references to the series from opensciencegrid/docker-osg-wn-scripts on GitHub, including the genbranches and update-all scripts. Remove branches from opensciencegrid/docker-osg-wn on GitHub. Move files in /p/vdt/public/html/release-info to its attic subdirectory.","title":"Software &amp; Release"},{"location":"release/old-release-removal/#undoing","text":"If we really need RPMs from a removed release series, we can look at the text files in /p/vdt/public/html/release-info/attic to determine the exact NVRs we need, and download them from Koji.","title":"Undoing"},{"location":"release/old-release-removal/#template-email","text":"Subject: OSG 3.X packages will be removed from the repositories YYYY-MM-DD On <DAYNAME, MONTH DAY>, the OSG will be removing the OSG <3.X> release series from our repositories. This includes both RPMs and tarballs hosted on repo.opensciencegrid.org. As a reminder, support for OSG <3.X> ended after <MONTH YEAR>. If your site is running OSG <3.X>, you should upgrade to the current release series, OSG 3.Y. See our upgrade documentation [1] for instructions. If you need assistance upgrading, please contact us at help@opensciencegrid.org. [1] https://opensciencegrid.org/docs/release/release_series/#updating-from-osg-31-32-33-to-34 If we're dropping support for a distro (e.g. EL 5 when we drop OSG 3.2), add the following after the first paragraph: Note that OSG <3.X> was the last release that supported Enterprise Linux <Z> distributions. If you believe that you still need support for this operating system series, please contact us at help@opensciencegrid.org. Since we're dropping support for i386 (32-bit) when we drop OSG 3.3, add the following after the first paragraph: Note that OSG 3.3 was the last release that contained 32-bit packages. If you believe that you still need support for this architecture, please contacts us at help@opensciencegrid.org.","title":"Template Email"},{"location":"software/ce-test-scaling/","text":"How to Run Scalability Tests on a CE \u00b6 Introduction \u00b6 This document is intended as a general overview of the process for scalability testing of an OSG CE (Compute Element). All examples are for testing an HTCondor-CE , but they should be applicable for other CE software. The focus of testing a CE is on the number of concurrent running jobs the CE can sustain as well as the ramp-up rate when many jobs are queued. Sleeper Pool \u00b6 With the focus on the CE, actual job payloads can be minimal \u2013 simple long sleep jobs are fine. Thus, then can run on nearly any resources, and it is even possible to allow far more of these jobs to run on a single resource than would be sensible for real jobs. When large-scale testing a CE, one of the objectives is to see if the CE can fully utilize all resources (cores) available to it or if there are bottlenecks preventing that outcome. However to do this would normally require using up production slots, and it is hard to find a site willing to give up so many production slots for so long. Thus, running resourceless jobs in parallel with production jobs allows the testing to proceed without interfering with real work. Setting Up a Sleeper Pool \u00b6 A sleeper pool is created by \u201ctricking\u201d a worker node into thinking it has more cores than physically available. Then, the host is configured so that jobs marked for the sleeper pool are routed to the extra slots. In HTCondor, this is done by changing the START expression on each startd. For example, on a 32-core machine: START = ( \\ (SlotID >= 1) && \\ (SlotID < 33) && \\ (RequiresWholeMachine =!= TRUE ) && \\ (SleepSlot =!= TRUE) && \\ (distro =?= \"RHEL6\" ) && \\ (CPU_Only == TRUE ) \\ ) || \\ ( (SlotID >= 33) && (distro =?= \"RHEL6\" ) && (SleepSlot == TRUE) ) Usual Topology of the Tests \u00b6 A brief introduction to the topology involved in the tests. Batch System and Sleeper Pool \u00b6 This is normally the batch system of the resources which will be behind the CE to be tested. It is normally set up by a site administrator. CE \u00b6 This is the physical hardware where the CE software runs, hopefully mimicking real production hardware specifications. Submitter \u00b6 An HTCondor submit host. It can be a virtual machine for most test submissions. Monitoring tools \u00b6 To monitor tests, two software components are needed (which can be installed on the same node): ganglia-gmond and ganglia-gmetad. Once they are installed, then some ad-hoc metrics can be created to monitor the CE; for example: condor_q -pool red.unl.edu:9619 -name sleeper@red.unl.edu -const 'JobStatus=?=2' | wc -l gmetric --name RunningJobsCE Generating Load \u00b6 Location \u00b6 The load_generators are found in the OSgscal github repo . The binary of interest here is loadtest_condor Use \u00b6 Just untar it or check it out from mas on the HTCondor submit node (see above): git checkout https://github.com/efajardo/osgscal cd load_generators/loadtest_condor/trunk/bin Keep in mind that you also need a valid proxy for grid submissions. For example, if the goal is to keep 1,000 jobs in the queue and run 6-hour sleep jobs (on average), you can run this command: ./loadtest_condor.sh -type grid condor sleeper@red.unl.edu red.unl.edu:9619 -jobs 40000 -cluster 10 -proxy /home/submituser/.globus/cmspilot01.proxy -end random 21600 -maxidle 1000 -in sandbox 50","title":"CE Scale Testing"},{"location":"software/ce-test-scaling/#how-to-run-scalability-tests-on-a-ce","text":"","title":"How to Run Scalability Tests on a CE"},{"location":"software/ce-test-scaling/#introduction","text":"This document is intended as a general overview of the process for scalability testing of an OSG CE (Compute Element). All examples are for testing an HTCondor-CE , but they should be applicable for other CE software. The focus of testing a CE is on the number of concurrent running jobs the CE can sustain as well as the ramp-up rate when many jobs are queued.","title":"Introduction"},{"location":"software/ce-test-scaling/#sleeper-pool","text":"With the focus on the CE, actual job payloads can be minimal \u2013 simple long sleep jobs are fine. Thus, then can run on nearly any resources, and it is even possible to allow far more of these jobs to run on a single resource than would be sensible for real jobs. When large-scale testing a CE, one of the objectives is to see if the CE can fully utilize all resources (cores) available to it or if there are bottlenecks preventing that outcome. However to do this would normally require using up production slots, and it is hard to find a site willing to give up so many production slots for so long. Thus, running resourceless jobs in parallel with production jobs allows the testing to proceed without interfering with real work.","title":"Sleeper Pool"},{"location":"software/ce-test-scaling/#setting-up-a-sleeper-pool","text":"A sleeper pool is created by \u201ctricking\u201d a worker node into thinking it has more cores than physically available. Then, the host is configured so that jobs marked for the sleeper pool are routed to the extra slots. In HTCondor, this is done by changing the START expression on each startd. For example, on a 32-core machine: START = ( \\ (SlotID >= 1) && \\ (SlotID < 33) && \\ (RequiresWholeMachine =!= TRUE ) && \\ (SleepSlot =!= TRUE) && \\ (distro =?= \"RHEL6\" ) && \\ (CPU_Only == TRUE ) \\ ) || \\ ( (SlotID >= 33) && (distro =?= \"RHEL6\" ) && (SleepSlot == TRUE) )","title":"Setting Up a Sleeper Pool"},{"location":"software/ce-test-scaling/#usual-topology-of-the-tests","text":"A brief introduction to the topology involved in the tests.","title":"Usual Topology of the Tests"},{"location":"software/ce-test-scaling/#batch-system-and-sleeper-pool","text":"This is normally the batch system of the resources which will be behind the CE to be tested. It is normally set up by a site administrator.","title":"Batch System and Sleeper Pool"},{"location":"software/ce-test-scaling/#ce","text":"This is the physical hardware where the CE software runs, hopefully mimicking real production hardware specifications.","title":"CE"},{"location":"software/ce-test-scaling/#submitter","text":"An HTCondor submit host. It can be a virtual machine for most test submissions.","title":"Submitter"},{"location":"software/ce-test-scaling/#monitoring-tools","text":"To monitor tests, two software components are needed (which can be installed on the same node): ganglia-gmond and ganglia-gmetad. Once they are installed, then some ad-hoc metrics can be created to monitor the CE; for example: condor_q -pool red.unl.edu:9619 -name sleeper@red.unl.edu -const 'JobStatus=?=2' | wc -l gmetric --name RunningJobsCE","title":"Monitoring tools"},{"location":"software/ce-test-scaling/#generating-load","text":"","title":"Generating Load"},{"location":"software/ce-test-scaling/#location","text":"The load_generators are found in the OSgscal github repo . The binary of interest here is loadtest_condor","title":"Location"},{"location":"software/ce-test-scaling/#use","text":"Just untar it or check it out from mas on the HTCondor submit node (see above): git checkout https://github.com/efajardo/osgscal cd load_generators/loadtest_condor/trunk/bin Keep in mind that you also need a valid proxy for grid submissions. For example, if the goal is to keep 1,000 jobs in the queue and run 6-hour sleep jobs (on average), you can run this command: ./loadtest_condor.sh -type grid condor sleeper@red.unl.edu red.unl.edu:9619 -jobs 40000 -cluster 10 -proxy /home/submituser/.globus/cmspilot01.proxy -end random 21600 -maxidle 1000 -in sandbox 50","title":"Use"},{"location":"software/container-development-guide/","text":"Container Development Guide \u00b6 This document contains instructions for OSG Technology Team members, including: How to to develop OSG Software container images that are automatically pushed to Docker Hub that adhere to our container release policy How to build a new version of an existing image How to manage tags for images in the OSG DockerHub organization Tips for container image development Creating New OSG Software Containers \u00b6 OSG Software service container images intended for OSG site admin use need to be automatically updated once per week to pick up any OS updates, as well as upon any changes to the images themselves. To do this, we use GitHub Actions to: Build new images on commits to master Update the docker-software-base on a schedule, which triggers builds for all image repos through repository dispatch Push container images to Docker Hub. Prepare the GitHub repository \u00b6 Create a Git repository in the opensciencegrid organization whose name is prefixed with docker- , e.g. docker-frontier-squid Create a README.md file describing the software provided by the image Create a LICENSE file containing the Apache 2.0 license text Set the repository topic to container Create a Dockerfile based off of the OSG Software Base image: FROM opensciencegrid/software-base:<OSG RELEASE SERIES>-<EL MAJOR VERSION>-release LABEL maintainer OSG Software <help@opensciencegrid.org> RUN yum update -y && \\ yum clean all && \\ rm -rf /var/cache/yum/* RUN yum install -y <PACKAGE> && \\ yum clean all && \\ rm -rf /var/cache/yum/* Replacing <PACKAGE> with the name of the RPM you'd like to provide in this container image, <OSG RELEASE SERIES> with the OSG release series version (e.g., 3.6 ), and <EL MAJOR VERSION> with the Enterprise Linux major version (e.g., 7 ). Add the pre-defined OSG Software container publishing GitHub Actions workflow. From the GitHub repository, perform the following steps: Go to the Actions tab Select the Publish OSG Software container image workflow (you may have to click Add new workflow first if the repository has existing workflows) Click Start commit then Commit new file Give write permissions to the \"osg-bot\" user for this GitHub repo, navigating to: \"Settings\" \"Manage access\" \"Invite teams or people\" Search for and select \"osg-bot\" Choose the \"Write\" role, and click the button to Add osg-bot to the repo. (The osg-bot user needs this permission in order to trigger automatic builds.) Ask the Software Manager to give this repo access to the following organizational secrets DOCKER_USERNAME DOCKER_PASSWORD OSG_HARBOR_ROBOT_USER OSG_HARBOR_ROBOT_PASSWORD Repository dispatch Any repository that sends dispatches to another repository (e.g. docker-software-base , docker-compute-entrypoint ) needs access to the REPO_ACCESS_TOKEN organization secret. Ask the Software Manager for access. Prepare the Docker Hub repository \u00b6 Ask the Software Manager to create a Docker Hub repo in the OSG organization. The name should generally match the GitHub repo name, without the docker- prefix. Go to the permissions tab and give the robots and technology teams Read & Write access Set up repository dispatch from docker-software-base \u00b6 Edit the GitHub Actions workflow for docker-software-base , and add the new GitHub repo name to the dispatch-repo: list (under jobs: dispatch: strategy: matrix: ). Make a Pull Request for your change. Triggering Container Image Builds \u00b6 To build a new version of an existing container image , e.g. for a new RPM version of software in the container, you can kick off a new build in one of two ways: If there are no changes necessary to the container packaging: go to the GitHub repository's latest build under Actions, e.g. https://github.com/opensciencegrid/docker-frontier-squid/actions/ , and click \"Re-run jobs\" -> \"Re-run all jobs\". If changes need to be made to the container packaging: submit a pull request with your changes to the relevant GitHub repository and request that another team member review it. Once merged into master , a GitHub Actions build should start automatically. If the GitHub Actions build completes successfully, you should shortly see new fresh and timestamp tags appear in the DockerHub repository. Automatic weekly rebuilds If the repo's GitHub Actions are configured as above, container images will automatically rebuild, and therefore pick up new packages available in minefield once per week. Managing Tags in DockerHub \u00b6 Adding tags \u00b6 Images that have passed acceptance testing should be tagged as stable : Install the jq utility: yum install jq Get the sha256 repo digest of the image that the user has tested. All you need is the part that starts with sha256:... (aka the <DIGEST> ). A Kubernetes user can get the digest from the \"Image ID\" line obtained by running: kubectl describe pod <POD> A Docker user can get the digest by running: docker image inspect <IMAGE NAME>:<TAG> | jq '.[0].Id' (Optional) If you are tagging multiple images, you can enter your Docker Hub username and password into environment variables, to avoid having to re-type them. Otherwise the script will prompt for them. read user # enter dockerhub username read -s pass # enter dockerhub password export user pass Run the Docker container image tagging command from release-tools : ./dockerhub-tag-fresh-to-stable.sh <IMAGE NAME> <DIGEST> Removing tags \u00b6 Run the Docker container image pruning command from release-tools : ./dockerhub-prune-tags.py <IMAGE NAME> Making Slim Containers \u00b6 Here are some resources for creating slim, efficient containers: https://developers.redhat.com/blog/2016/03/09/more-about-docker-images-size/ https://github.com/opensciencegrid/topology/pull/399 https://docs.docker.com/develop/develop-images/multistage-build/","title":"Container Development Guide"},{"location":"software/container-development-guide/#container-development-guide","text":"This document contains instructions for OSG Technology Team members, including: How to to develop OSG Software container images that are automatically pushed to Docker Hub that adhere to our container release policy How to build a new version of an existing image How to manage tags for images in the OSG DockerHub organization Tips for container image development","title":"Container Development Guide"},{"location":"software/container-development-guide/#creating-new-osg-software-containers","text":"OSG Software service container images intended for OSG site admin use need to be automatically updated once per week to pick up any OS updates, as well as upon any changes to the images themselves. To do this, we use GitHub Actions to: Build new images on commits to master Update the docker-software-base on a schedule, which triggers builds for all image repos through repository dispatch Push container images to Docker Hub.","title":"Creating New OSG Software Containers"},{"location":"software/container-development-guide/#prepare-the-github-repository","text":"Create a Git repository in the opensciencegrid organization whose name is prefixed with docker- , e.g. docker-frontier-squid Create a README.md file describing the software provided by the image Create a LICENSE file containing the Apache 2.0 license text Set the repository topic to container Create a Dockerfile based off of the OSG Software Base image: FROM opensciencegrid/software-base:<OSG RELEASE SERIES>-<EL MAJOR VERSION>-release LABEL maintainer OSG Software <help@opensciencegrid.org> RUN yum update -y && \\ yum clean all && \\ rm -rf /var/cache/yum/* RUN yum install -y <PACKAGE> && \\ yum clean all && \\ rm -rf /var/cache/yum/* Replacing <PACKAGE> with the name of the RPM you'd like to provide in this container image, <OSG RELEASE SERIES> with the OSG release series version (e.g., 3.6 ), and <EL MAJOR VERSION> with the Enterprise Linux major version (e.g., 7 ). Add the pre-defined OSG Software container publishing GitHub Actions workflow. From the GitHub repository, perform the following steps: Go to the Actions tab Select the Publish OSG Software container image workflow (you may have to click Add new workflow first if the repository has existing workflows) Click Start commit then Commit new file Give write permissions to the \"osg-bot\" user for this GitHub repo, navigating to: \"Settings\" \"Manage access\" \"Invite teams or people\" Search for and select \"osg-bot\" Choose the \"Write\" role, and click the button to Add osg-bot to the repo. (The osg-bot user needs this permission in order to trigger automatic builds.) Ask the Software Manager to give this repo access to the following organizational secrets DOCKER_USERNAME DOCKER_PASSWORD OSG_HARBOR_ROBOT_USER OSG_HARBOR_ROBOT_PASSWORD Repository dispatch Any repository that sends dispatches to another repository (e.g. docker-software-base , docker-compute-entrypoint ) needs access to the REPO_ACCESS_TOKEN organization secret. Ask the Software Manager for access.","title":"Prepare the GitHub repository"},{"location":"software/container-development-guide/#prepare-the-docker-hub-repository","text":"Ask the Software Manager to create a Docker Hub repo in the OSG organization. The name should generally match the GitHub repo name, without the docker- prefix. Go to the permissions tab and give the robots and technology teams Read & Write access","title":"Prepare the Docker Hub repository"},{"location":"software/container-development-guide/#set-up-repository-dispatch-from-docker-software-base","text":"Edit the GitHub Actions workflow for docker-software-base , and add the new GitHub repo name to the dispatch-repo: list (under jobs: dispatch: strategy: matrix: ). Make a Pull Request for your change.","title":"Set up repository dispatch from docker-software-base"},{"location":"software/container-development-guide/#triggering-container-image-builds","text":"To build a new version of an existing container image , e.g. for a new RPM version of software in the container, you can kick off a new build in one of two ways: If there are no changes necessary to the container packaging: go to the GitHub repository's latest build under Actions, e.g. https://github.com/opensciencegrid/docker-frontier-squid/actions/ , and click \"Re-run jobs\" -> \"Re-run all jobs\". If changes need to be made to the container packaging: submit a pull request with your changes to the relevant GitHub repository and request that another team member review it. Once merged into master , a GitHub Actions build should start automatically. If the GitHub Actions build completes successfully, you should shortly see new fresh and timestamp tags appear in the DockerHub repository. Automatic weekly rebuilds If the repo's GitHub Actions are configured as above, container images will automatically rebuild, and therefore pick up new packages available in minefield once per week.","title":"Triggering Container Image Builds"},{"location":"software/container-development-guide/#managing-tags-in-dockerhub","text":"","title":"Managing Tags in DockerHub"},{"location":"software/container-development-guide/#adding-tags","text":"Images that have passed acceptance testing should be tagged as stable : Install the jq utility: yum install jq Get the sha256 repo digest of the image that the user has tested. All you need is the part that starts with sha256:... (aka the <DIGEST> ). A Kubernetes user can get the digest from the \"Image ID\" line obtained by running: kubectl describe pod <POD> A Docker user can get the digest by running: docker image inspect <IMAGE NAME>:<TAG> | jq '.[0].Id' (Optional) If you are tagging multiple images, you can enter your Docker Hub username and password into environment variables, to avoid having to re-type them. Otherwise the script will prompt for them. read user # enter dockerhub username read -s pass # enter dockerhub password export user pass Run the Docker container image tagging command from release-tools : ./dockerhub-tag-fresh-to-stable.sh <IMAGE NAME> <DIGEST>","title":"Adding tags"},{"location":"software/container-development-guide/#removing-tags","text":"Run the Docker container image pruning command from release-tools : ./dockerhub-prune-tags.py <IMAGE NAME>","title":"Removing tags"},{"location":"software/container-development-guide/#making-slim-containers","text":"Here are some resources for creating slim, efficient containers: https://developers.redhat.com/blog/2016/03/09/more-about-docker-images-size/ https://github.com/opensciencegrid/topology/pull/399 https://docs.docker.com/develop/develop-images/multistage-build/","title":"Making Slim Containers"},{"location":"software/create-vo-client/","text":"Creating the VO Client Package \u00b6 Overview \u00b6 This document will explain the step-by-step procedures for creating and releasing the VO Client Package. The VO Client Package sources can be found here: https://github.com/opensciencegrid/osg-vo-config When upstream changes have been made and are ready for a new VO Client Package release, these sources will be used to prepare a release tarball, which will in turn be used for the RPMs. In order to build the RPM, one needs: The tarball containing the: edg-mkgridmap.conf file gums.config.template file grid-vorolemap file (generated) voms-mapfile-default file (generated) vomses file vomsdir directory tree, containing the .lsc files. The RPM spec file, maintained in the OSG packaging area. JIRA Ticket for the Release \u00b6 There should be an associated JIRA ticket with a summary line of the form \"Release VO Package 85\". (Throughout this document, this release number will be referred to as <NN> .) The JIRA ticket should contain the details of the changes expected in the new VO Client Package release, which you should verify before proceeding. You can verify this with your favorite git tool (eg, git diff or gitk ), or just view the changes directly on GitHub: https://github.com/opensciencegrid/osg-vo-config/compare/release-84...master Here, release-84 is the previous release tag, which you are comparing to the latest changes in master . To use GitHub to view the comparison, you need to specify whatever is the most recent previous release tag. Alternatively, you can proceed to make the tarball , and compare the result to the previous vo-client tarball (from the upstream source cache) before publishing the new release . However you choose to do it, the point is to verify that the changes going into the release match what is expected in the JIRA ticket before publishing a new release. Updates to the GUMS Template \u00b6 Most commonly, VO Client Package releases do not involve changes to the gums.config.template file, though on occasion it needs to be updated. Before proceeding, any changes to gums.config.template related to this release should be committed to git and pushed to the upstream repo on GitHub. The procedure for updating gums.config.template is outside the scope of this document, but the main important point is that any updates to this file should be done with the GUMS web interface rather than editing its xml contents by hand. Making the Tarball \u00b6 The process to make a new tarball has been mostly scripted. To make the tarball: Start with a clean checkout of the latest master branch of the osg-vo-config source repo . This checked out commit should be the one intended to be tagged for the new release. - Run the mk-vo-client-tarball script with the new release number <NN> : $ ./bin/mk-vo-client-tarball <NN> For example: $ ./bin/mk-vo-client-tarball 85 This will create a file vo-client-<NN>-osg.tar.gz in the current directory. Once the tarball is created: If you have not already verified the changes expected in the JIRA ticket, compare the contents of the new tarball with the previous version in the upstream source cache . Upload the tarball into the upstream source cache , under the vo-client/<NN>/ directory. RPM Spec File Maintenance \u00b6 The OSG RPM spec file is maintained in Subversion . The VO Client package is located in native/redhat/trunk/vo-client ; that is, here . There are two files that need to be maintained: osg/vo-client.spec The Version: field should be updated to match the <NN> number for the release A %changelog entry should be added for the new release, mentioning any changes and their associated tickets upstream/release_tarball.source Update the relative path for the new tarball within the upstream source cache . Typically this will be vo-client/<NN>/vo-client-<NN>-osg.tar.gz . RPM Building \u00b6 After installing the osg-build tools , check out a clean copy of the vo-client packaging directory from svn, then: osg-build prebuild . Once there are no errors, run osg-build koji . --scratch . (This can be done without making any permanent change.) Once that builds successfully, run osg-build koji . (This is permanent, unlike when you ran with --scratch .) You cannot rebuild this version of the RPM again; to rebuild with changes, you must bump the release number and edit the changelog. This will push the RPMs into the OSG development repository. Note Koji requires additional setup compared to rpmbuild; see the documentation here . Publishing the New Release \u00b6 The final version of the sources in the osg-vo-config , which was used to create the tarball that was used in the koji build, needs be tagged in git with a release-<NN> tag (eg, release-85 ) and published as a release on GitHub. You can create and push the release-<NN> from your git checkout of osg-vo-config , OR create the tag while publishing the release on GitHub (recommended). To publish the new release on GitHub: Go to https://github.com/opensciencegrid/osg-vo-config/releases/new In the \"Tag version\" field, enter release-<NN> (eg, release-85 ) If you are creating this tag on GitHub, click the \"Target\" dropdown button, and under the \"Recent Commits\" tab, make sure to select the commit you used when creating the tarball (It should be the first one) In the \"Release title\" field, enter <MONTH> <YEAR> VO Package Release <NN> (eg, December 2018 VO Package Release 85 ) In the release description, list the changes in this release and their associated ticket numbers, similar to the new %changelog entry added in the rpm spec file (You can view the releases page for examples) - Click the \"Publish release\" button Promotion to Testing and Release: \u00b6 Read Release Policy . Note that the vo-client package frequently is part of a separate -data release; it does not necessarily have to wait for the main release cycle.","title":"Creating the VO Client Package"},{"location":"software/create-vo-client/#creating-the-vo-client-package","text":"","title":"Creating the VO Client Package"},{"location":"software/create-vo-client/#overview","text":"This document will explain the step-by-step procedures for creating and releasing the VO Client Package. The VO Client Package sources can be found here: https://github.com/opensciencegrid/osg-vo-config When upstream changes have been made and are ready for a new VO Client Package release, these sources will be used to prepare a release tarball, which will in turn be used for the RPMs. In order to build the RPM, one needs: The tarball containing the: edg-mkgridmap.conf file gums.config.template file grid-vorolemap file (generated) voms-mapfile-default file (generated) vomses file vomsdir directory tree, containing the .lsc files. The RPM spec file, maintained in the OSG packaging area.","title":"Overview"},{"location":"software/create-vo-client/#jira-ticket-for-the-release","text":"There should be an associated JIRA ticket with a summary line of the form \"Release VO Package 85\". (Throughout this document, this release number will be referred to as <NN> .) The JIRA ticket should contain the details of the changes expected in the new VO Client Package release, which you should verify before proceeding. You can verify this with your favorite git tool (eg, git diff or gitk ), or just view the changes directly on GitHub: https://github.com/opensciencegrid/osg-vo-config/compare/release-84...master Here, release-84 is the previous release tag, which you are comparing to the latest changes in master . To use GitHub to view the comparison, you need to specify whatever is the most recent previous release tag. Alternatively, you can proceed to make the tarball , and compare the result to the previous vo-client tarball (from the upstream source cache) before publishing the new release . However you choose to do it, the point is to verify that the changes going into the release match what is expected in the JIRA ticket before publishing a new release.","title":"JIRA Ticket for the Release"},{"location":"software/create-vo-client/#updates-to-the-gums-template","text":"Most commonly, VO Client Package releases do not involve changes to the gums.config.template file, though on occasion it needs to be updated. Before proceeding, any changes to gums.config.template related to this release should be committed to git and pushed to the upstream repo on GitHub. The procedure for updating gums.config.template is outside the scope of this document, but the main important point is that any updates to this file should be done with the GUMS web interface rather than editing its xml contents by hand.","title":"Updates to the GUMS Template"},{"location":"software/create-vo-client/#making-the-tarball","text":"The process to make a new tarball has been mostly scripted. To make the tarball: Start with a clean checkout of the latest master branch of the osg-vo-config source repo . This checked out commit should be the one intended to be tagged for the new release. - Run the mk-vo-client-tarball script with the new release number <NN> : $ ./bin/mk-vo-client-tarball <NN> For example: $ ./bin/mk-vo-client-tarball 85 This will create a file vo-client-<NN>-osg.tar.gz in the current directory. Once the tarball is created: If you have not already verified the changes expected in the JIRA ticket, compare the contents of the new tarball with the previous version in the upstream source cache . Upload the tarball into the upstream source cache , under the vo-client/<NN>/ directory.","title":"Making the Tarball"},{"location":"software/create-vo-client/#rpm-spec-file-maintenance","text":"The OSG RPM spec file is maintained in Subversion . The VO Client package is located in native/redhat/trunk/vo-client ; that is, here . There are two files that need to be maintained: osg/vo-client.spec The Version: field should be updated to match the <NN> number for the release A %changelog entry should be added for the new release, mentioning any changes and their associated tickets upstream/release_tarball.source Update the relative path for the new tarball within the upstream source cache . Typically this will be vo-client/<NN>/vo-client-<NN>-osg.tar.gz .","title":"RPM Spec File Maintenance"},{"location":"software/create-vo-client/#rpm-building","text":"After installing the osg-build tools , check out a clean copy of the vo-client packaging directory from svn, then: osg-build prebuild . Once there are no errors, run osg-build koji . --scratch . (This can be done without making any permanent change.) Once that builds successfully, run osg-build koji . (This is permanent, unlike when you ran with --scratch .) You cannot rebuild this version of the RPM again; to rebuild with changes, you must bump the release number and edit the changelog. This will push the RPMs into the OSG development repository. Note Koji requires additional setup compared to rpmbuild; see the documentation here .","title":"RPM Building"},{"location":"software/create-vo-client/#publishing-the-new-release","text":"The final version of the sources in the osg-vo-config , which was used to create the tarball that was used in the koji build, needs be tagged in git with a release-<NN> tag (eg, release-85 ) and published as a release on GitHub. You can create and push the release-<NN> from your git checkout of osg-vo-config , OR create the tag while publishing the release on GitHub (recommended). To publish the new release on GitHub: Go to https://github.com/opensciencegrid/osg-vo-config/releases/new In the \"Tag version\" field, enter release-<NN> (eg, release-85 ) If you are creating this tag on GitHub, click the \"Target\" dropdown button, and under the \"Recent Commits\" tab, make sure to select the commit you used when creating the tarball (It should be the first one) In the \"Release title\" field, enter <MONTH> <YEAR> VO Package Release <NN> (eg, December 2018 VO Package Release 85 ) In the release description, list the changes in this release and their associated ticket numbers, similar to the new %changelog entry added in the rpm spec file (You can view the releases page for examples) - Click the \"Publish release\" button","title":"Publishing the New Release"},{"location":"software/create-vo-client/#promotion-to-testing-and-release","text":"Read Release Policy . Note that the vo-client package frequently is part of a separate -data release; it does not necessarily have to wait for the main release cycle.","title":"Promotion to Testing and Release:"},{"location":"software/development-process/","text":"Software Development Process \u00b6 This page is for the OSG Software team and other contributors to the OSG software stack. It is meant to be the central source for all development processes for the Software team. (But right now, it is just a starting point.) Overall Development Cycle \u00b6 For a typical update to an existing package, the overall development cycle is roughly as follows: Download the new upstream source (tarball, source RPM, checkout) into the UW AFS upstream area In a checkout of our packaging code , update the reference to the upstream file and, as needed, the RPM spec file Use osg-build to perform a scratch build of the updated package Verify that the build succeeded; if not, redo previous steps until success Optionally, lightly test the new RPM(s); if there are problems, redo previous steps until success Use osg-build to perform an official build of the updated package (which will go into the development repos) Perform standard developer testing of the new RPM(s) \u2014 see below for details Obtain permission from the Software Manager to promote the package Promote the package to testing \u2014 see below for details Versioning Guidelines \u00b6 OSG-owned software should contain three digits, X.Y.Z, where X represents the major version, Y the minor version, and Z the maintenance version. New releases of software should increment one of the major, minor, or maintenance according to the following guidelines: Major: Major new software, typically (but not limited to) full rewrites, new architectures, major new features; can certainly break backward compatibility (but should provide a smooth upgrade path). Worthy of introduction into Upcoming. Minor: Notable changes to the software, including significant feature changes, API changes, etc.; may break compatibility, but must provide an upgrade path from other versions within the same Major series. Maintenance: Bug fixes, minor feature tweaks, etc.; must not break compatibility with other versions within the same Major.Minor series. If you are unsure about which version number to increment in a software update, consult the Software Manager. Build Procedures \u00b6 Building packages for multiple OSG release series \u00b6 The OSG Software team supports multiple release series, independent but in parallel to a large degree. In many cases, a single package is the same across release series, and therefore we want to build the package once and share it among the series. The procedure below suggests a way to accomplish this task. Current definitions: maintenance: OSG 3.4 ( trunk ) current: OSG 3.5 ( branches/osg-3.5 ) Procedure: Make changes to trunk Optionally, make and test a scratch build from trunk Commit the changes Make an official build from trunk (e.g.: osg-build koji <PACKAGE> ) Perform the standard 4 tests for the current series (see below) Merge the relevant commits from trunk into the maintenance branch (see below for tips) Optionally, make and test a scratch build from the maintenance branch Commit the merge Make an official build from the maintenance branch (e.g.: osg-build koji --repo=3.4 <PACKAGE> ) Perform the standard 4 tests for the maintenance series (see below) As needed (or directed by the Software manager), perform the cross-series tests (see below) Note Do not change the RPM Release number in the maintenance branch before rebuilding; the %dist tag will differ automatically, and hence the maintenance and current NVRs will not conflict. Merging changes from one release series to another \u00b6 These instructions assume that you are merging from trunk to branches/osg-3.5 . They also assume that the current directory you are in is a checkout of branches/osg-3.5 . I will use $pkg to refer to the name of your package. First, you will need the commit numbers for your changes: svn log \\^/native/redhat/trunk/$pkg | less Write down the commits you want to merge. If you only have one commit, merge that commit with -c as follows: svn merge -c $commit_num \\^/native/redhat/trunk/$pkg $pkg Where $commit_num is the SVN revision number of that commit (e.g. 17000). Merging an individual change like this is referred to as \"cherry-picking\". If you have a range of commits and you wish to merge all commits within that range, then do the following: svn merge -r $start_num:$end_num \\^/native/redhat/trunk/$pkg $pkg Where $start_num is the SVN revision of the commit BEFORE your first commit, and $end_num is the SVN revision of your last commit in that range. Note: Be very careful when merging a range from trunk into the maintenance branch so that you do not introduce more changes to the maintenance branch than are necessary. If you have multiple commits but they are not contiguous (i.e. there are commits made by you or someone else in that range that you do not want to merge), you will need to cherry-pick each individual commit. svn merge -c $commit1 \\^/native/redhat/trunk/$pkg $pkg svn merge -c $commit2 \\^/native/redhat/trunk/$pkg $pkg ... Where $commit1 , $commit2 are the commit numbers of the individual changes. Note that merge tracking in recent versions of SVN (1.5 or newer) should prevent commits from accidentally being merged multiple times. You should still look out for conflicts and examine the changes via svn diff before committing the merge. Testing Procedures \u00b6 Before promoting a package to a testing repository, each build must be tested lightly from the development repos to make sure that it is not completely broken, thereby wasting time during acceptance testing. Normally, the person who builds a package performs the development testing. If you are not doing your own development testing for a package , contact the Software Manager and/or leave a comment in the associated ticket; otherwise, your package may never be promoted to testing and hence never released. The \"Standard 4\" tests, defined \u00b6 In most cases, the Software manager will ask a developer to perform the \u201cstandard 4\u201d tests on an updated package in a release series before promotion. This is a shorthand description for a standard set of 4 test runs: Fresh install on el6 Fresh install on el7 Update install on el6 Update install on el7 An \u201cupdate install\u201d is a fresh install of the relevant package (or better yet, metapackage that includes it) from the production repository , followed by an update to the new build from the development repository . For each test run, the amount of functional testing required will vary. For very simple changes, it may be sufficient to verify that each installation succeeds and that the expected files are in place For some changes, it may be sufficient to run osg-test on the resulting installation For some changes, it will be necessary to perform careful functional tests of the affected component(s) If you have questions, check with the Software Manager to determine the amount of testing that is required per test run. The \"Cross-Series\" test, defined \u00b6 The cross-series test may need to be run for packages that have been built for multiple release series of the OSG software stack (i.e. 3.4 and 3.5): On el7, install from the 3.4 repositories, then update from the 3.5 repositories Viewed another way, this test is similar to the update installs, above, except from 3.4-release to 3.5-development. The \"Long Tail\" tests, defined \u00b6 These tests may need to be run when updating a package that's also in the old, unsupported (3.3) branch. They will consist of: Install from 3.3-release and update to 3.5-development (on el7 only) The \"full set of tests\", defined \u00b6 All of the tests mentioned above. Running the tests in VM Universe \u00b6 In the case that the package you're testing is covered by osg-tested-internal, you can run the full set of tests in a manual VM universe test run. Make sure you meet the pre-requisites required to submit VM Universe jobs on osghost.chtc.wisc.edu . After that's done, prepare the test suite with a comment describing the test run. For example, if you were testing a new htcondor-ce package: osg-run-tests 'Testing htcondor-ce-3.2.1-1' After you cd into the directory specified in the output of the previous command, you will need to edit the *.yaml files in parameters.d to reflect the tests that you will want to run, i.e. clean installs, upgrade installs and upgrade installs between OSG versions. Once you're satisfied with your list of parameters, submit the dag: condor_submit_dag master-run.dag Promoting a Package to Testing \u00b6 Once development and development testing is complete, the final OSG Software step is to promote the package(s) to our testing repositories. After that, the Release team takes over with acceptance testing and ultimately release. Of course if they discover problems, the ticket(s) will be returned to OSG Software for further development, essentially restarting the development cycle. Preparing a Good Promotion Request \u00b6 Developers must obtain permission from the OSG Software manager to promote a package from development to testing. A promotion request goes into at least one affected JIRA ticket and will be answered there as well. Below are some tips for writing a good promotion request: Make sure that relevant information about goals, history, and resolution is in the associated ticket(s) Include globs for the NVRs to be promoted (or a detailed list, if it is that complicated, which it almost never is) If you ran automated tests: Link to the results page(s) Verify that relevant tests ran successfully (as opposed to being skipped or failing) \u2013 briefly summarize your findings Note whether the automated tests are just regression tests or actually test the current change(s) If there are any failures, explain why they are not important to the promotion request If you ran manual tests: Summarize your tests and findings If there were failures, explain why they are not important to the promotion request If there are critical build dependencies that we typically check, include reports from the built-against-pkgs tool Note: This step is really just for known, specific cases, like the {HTCondor, BLAHP} set Occasionally, the OSG Software manager will request the tool to be run for other cases If other packages depend on the to-be-promoted package, explain whether the dependent packages must be rebuilt or, if not, why not For example (hypothetical promotion request for HTCondor-CE): May I promote htcondor-ce-2.3.4-2.osg3*.el* ? I ran a complete set of automated tests <LINK THE PRECEDING TEXT OR SEPARATELY HERE>; the HTCondor-CE tests ran and passed in all cases. There were some spurious failures of RSV in the All condition for RHEL 6, but this is a known failure case that is independent of HTCondor-CE. I also did a few spot checks manually (one VM each for SL 6 and SL 7), and in each case setting use_frobnosticator = true in the configuration resulted in the expected behavior as defined in the description field above. The built-against-pkgs tool shows that I built against all the latest HTCondor and BLAHP builds, see below. <JIRA-formatted table comes after> Promoting \u00b6 Follow these steps to request promotion, promote a package, and note the promotion in JIRA: Make sure the package update has at least one associated JIRA ticket; if there is no ticket, at least create one for releasing the package(s) Obtain permission to promote the package(s) from the Software Manager (see above) Use osg-promote to promote the package(s) from development to testing Comment on the associated JIRA ticket(s) with osg-promote's JIRA-formatted output (or at least the build NVRs) and, if you know, suggestions for acceptance testing Update the JIRA ticket description with a bulleted list describing changes in the promoted version(s) compared to the currently released version(s) Mark each associated JIRA ticket as \u201cReady For Testing\u201d","title":"Development Process"},{"location":"software/development-process/#software-development-process","text":"This page is for the OSG Software team and other contributors to the OSG software stack. It is meant to be the central source for all development processes for the Software team. (But right now, it is just a starting point.)","title":"Software Development Process"},{"location":"software/development-process/#overall-development-cycle","text":"For a typical update to an existing package, the overall development cycle is roughly as follows: Download the new upstream source (tarball, source RPM, checkout) into the UW AFS upstream area In a checkout of our packaging code , update the reference to the upstream file and, as needed, the RPM spec file Use osg-build to perform a scratch build of the updated package Verify that the build succeeded; if not, redo previous steps until success Optionally, lightly test the new RPM(s); if there are problems, redo previous steps until success Use osg-build to perform an official build of the updated package (which will go into the development repos) Perform standard developer testing of the new RPM(s) \u2014 see below for details Obtain permission from the Software Manager to promote the package Promote the package to testing \u2014 see below for details","title":"Overall Development Cycle"},{"location":"software/development-process/#versioning-guidelines","text":"OSG-owned software should contain three digits, X.Y.Z, where X represents the major version, Y the minor version, and Z the maintenance version. New releases of software should increment one of the major, minor, or maintenance according to the following guidelines: Major: Major new software, typically (but not limited to) full rewrites, new architectures, major new features; can certainly break backward compatibility (but should provide a smooth upgrade path). Worthy of introduction into Upcoming. Minor: Notable changes to the software, including significant feature changes, API changes, etc.; may break compatibility, but must provide an upgrade path from other versions within the same Major series. Maintenance: Bug fixes, minor feature tweaks, etc.; must not break compatibility with other versions within the same Major.Minor series. If you are unsure about which version number to increment in a software update, consult the Software Manager.","title":"Versioning Guidelines"},{"location":"software/development-process/#build-procedures","text":"","title":"Build Procedures"},{"location":"software/development-process/#building-packages-for-multiple-osg-release-series","text":"The OSG Software team supports multiple release series, independent but in parallel to a large degree. In many cases, a single package is the same across release series, and therefore we want to build the package once and share it among the series. The procedure below suggests a way to accomplish this task. Current definitions: maintenance: OSG 3.4 ( trunk ) current: OSG 3.5 ( branches/osg-3.5 ) Procedure: Make changes to trunk Optionally, make and test a scratch build from trunk Commit the changes Make an official build from trunk (e.g.: osg-build koji <PACKAGE> ) Perform the standard 4 tests for the current series (see below) Merge the relevant commits from trunk into the maintenance branch (see below for tips) Optionally, make and test a scratch build from the maintenance branch Commit the merge Make an official build from the maintenance branch (e.g.: osg-build koji --repo=3.4 <PACKAGE> ) Perform the standard 4 tests for the maintenance series (see below) As needed (or directed by the Software manager), perform the cross-series tests (see below) Note Do not change the RPM Release number in the maintenance branch before rebuilding; the %dist tag will differ automatically, and hence the maintenance and current NVRs will not conflict.","title":"Building packages for multiple OSG release series"},{"location":"software/development-process/#merging-changes-from-one-release-series-to-another","text":"These instructions assume that you are merging from trunk to branches/osg-3.5 . They also assume that the current directory you are in is a checkout of branches/osg-3.5 . I will use $pkg to refer to the name of your package. First, you will need the commit numbers for your changes: svn log \\^/native/redhat/trunk/$pkg | less Write down the commits you want to merge. If you only have one commit, merge that commit with -c as follows: svn merge -c $commit_num \\^/native/redhat/trunk/$pkg $pkg Where $commit_num is the SVN revision number of that commit (e.g. 17000). Merging an individual change like this is referred to as \"cherry-picking\". If you have a range of commits and you wish to merge all commits within that range, then do the following: svn merge -r $start_num:$end_num \\^/native/redhat/trunk/$pkg $pkg Where $start_num is the SVN revision of the commit BEFORE your first commit, and $end_num is the SVN revision of your last commit in that range. Note: Be very careful when merging a range from trunk into the maintenance branch so that you do not introduce more changes to the maintenance branch than are necessary. If you have multiple commits but they are not contiguous (i.e. there are commits made by you or someone else in that range that you do not want to merge), you will need to cherry-pick each individual commit. svn merge -c $commit1 \\^/native/redhat/trunk/$pkg $pkg svn merge -c $commit2 \\^/native/redhat/trunk/$pkg $pkg ... Where $commit1 , $commit2 are the commit numbers of the individual changes. Note that merge tracking in recent versions of SVN (1.5 or newer) should prevent commits from accidentally being merged multiple times. You should still look out for conflicts and examine the changes via svn diff before committing the merge.","title":"Merging changes from one release series to another"},{"location":"software/development-process/#testing-procedures","text":"Before promoting a package to a testing repository, each build must be tested lightly from the development repos to make sure that it is not completely broken, thereby wasting time during acceptance testing. Normally, the person who builds a package performs the development testing. If you are not doing your own development testing for a package , contact the Software Manager and/or leave a comment in the associated ticket; otherwise, your package may never be promoted to testing and hence never released.","title":"Testing Procedures"},{"location":"software/development-process/#the-standard-4-tests-defined","text":"In most cases, the Software manager will ask a developer to perform the \u201cstandard 4\u201d tests on an updated package in a release series before promotion. This is a shorthand description for a standard set of 4 test runs: Fresh install on el6 Fresh install on el7 Update install on el6 Update install on el7 An \u201cupdate install\u201d is a fresh install of the relevant package (or better yet, metapackage that includes it) from the production repository , followed by an update to the new build from the development repository . For each test run, the amount of functional testing required will vary. For very simple changes, it may be sufficient to verify that each installation succeeds and that the expected files are in place For some changes, it may be sufficient to run osg-test on the resulting installation For some changes, it will be necessary to perform careful functional tests of the affected component(s) If you have questions, check with the Software Manager to determine the amount of testing that is required per test run.","title":"The \"Standard 4\" tests, defined"},{"location":"software/development-process/#the-cross-series-test-defined","text":"The cross-series test may need to be run for packages that have been built for multiple release series of the OSG software stack (i.e. 3.4 and 3.5): On el7, install from the 3.4 repositories, then update from the 3.5 repositories Viewed another way, this test is similar to the update installs, above, except from 3.4-release to 3.5-development.","title":"The \"Cross-Series\" test, defined"},{"location":"software/development-process/#the-long-tail-tests-defined","text":"These tests may need to be run when updating a package that's also in the old, unsupported (3.3) branch. They will consist of: Install from 3.3-release and update to 3.5-development (on el7 only)","title":"The \"Long Tail\" tests, defined"},{"location":"software/development-process/#the-full-set-of-tests-defined","text":"All of the tests mentioned above.","title":"The \"full set of tests\", defined"},{"location":"software/development-process/#running-the-tests-in-vm-universe","text":"In the case that the package you're testing is covered by osg-tested-internal, you can run the full set of tests in a manual VM universe test run. Make sure you meet the pre-requisites required to submit VM Universe jobs on osghost.chtc.wisc.edu . After that's done, prepare the test suite with a comment describing the test run. For example, if you were testing a new htcondor-ce package: osg-run-tests 'Testing htcondor-ce-3.2.1-1' After you cd into the directory specified in the output of the previous command, you will need to edit the *.yaml files in parameters.d to reflect the tests that you will want to run, i.e. clean installs, upgrade installs and upgrade installs between OSG versions. Once you're satisfied with your list of parameters, submit the dag: condor_submit_dag master-run.dag","title":"Running the tests in VM Universe"},{"location":"software/development-process/#promoting-a-package-to-testing","text":"Once development and development testing is complete, the final OSG Software step is to promote the package(s) to our testing repositories. After that, the Release team takes over with acceptance testing and ultimately release. Of course if they discover problems, the ticket(s) will be returned to OSG Software for further development, essentially restarting the development cycle.","title":"Promoting a Package to Testing"},{"location":"software/development-process/#preparing-a-good-promotion-request","text":"Developers must obtain permission from the OSG Software manager to promote a package from development to testing. A promotion request goes into at least one affected JIRA ticket and will be answered there as well. Below are some tips for writing a good promotion request: Make sure that relevant information about goals, history, and resolution is in the associated ticket(s) Include globs for the NVRs to be promoted (or a detailed list, if it is that complicated, which it almost never is) If you ran automated tests: Link to the results page(s) Verify that relevant tests ran successfully (as opposed to being skipped or failing) \u2013 briefly summarize your findings Note whether the automated tests are just regression tests or actually test the current change(s) If there are any failures, explain why they are not important to the promotion request If you ran manual tests: Summarize your tests and findings If there were failures, explain why they are not important to the promotion request If there are critical build dependencies that we typically check, include reports from the built-against-pkgs tool Note: This step is really just for known, specific cases, like the {HTCondor, BLAHP} set Occasionally, the OSG Software manager will request the tool to be run for other cases If other packages depend on the to-be-promoted package, explain whether the dependent packages must be rebuilt or, if not, why not For example (hypothetical promotion request for HTCondor-CE): May I promote htcondor-ce-2.3.4-2.osg3*.el* ? I ran a complete set of automated tests <LINK THE PRECEDING TEXT OR SEPARATELY HERE>; the HTCondor-CE tests ran and passed in all cases. There were some spurious failures of RSV in the All condition for RHEL 6, but this is a known failure case that is independent of HTCondor-CE. I also did a few spot checks manually (one VM each for SL 6 and SL 7), and in each case setting use_frobnosticator = true in the configuration resulted in the expected behavior as defined in the description field above. The built-against-pkgs tool shows that I built against all the latest HTCondor and BLAHP builds, see below. <JIRA-formatted table comes after>","title":"Preparing a Good Promotion Request"},{"location":"software/development-process/#promoting","text":"Follow these steps to request promotion, promote a package, and note the promotion in JIRA: Make sure the package update has at least one associated JIRA ticket; if there is no ticket, at least create one for releasing the package(s) Obtain permission to promote the package(s) from the Software Manager (see above) Use osg-promote to promote the package(s) from development to testing Comment on the associated JIRA ticket(s) with osg-promote's JIRA-formatted output (or at least the build NVRs) and, if you know, suggestions for acceptance testing Update the JIRA ticket description with a bulleted list describing changes in the promoted version(s) compared to the currently released version(s) Mark each associated JIRA ticket as \u201cReady For Testing\u201d","title":"Promoting"},{"location":"software/effort-tracking/","text":"Effort Tracking \u00b6 This page describes a simple plan for tracking effort in the OSG Technology teams. Basic Ideas \u00b6 At its simplest, we would like to understand how much effort is spent on various OSG Technology activities over time. The focus is on having reasonably accurate, unbiased data. We might use the data later, for example, to hone future OSG proposals. And of course, all federal funding is subject to effort tracking. There are just a few simple ideas to keep in mind: Each week, report your effort on OSG Technology activities Update your numbers in the effort tracking google spreadsheet (ask BrianL for access) and include a section in your weekly status report; here is an example: EFFORT External development: 63% Support: 12% Leave: 20% Outside: 5 Follow standard federal regulations for calculating effort (e.g., OMB Circular A-21) The main idea is that all of your job-related activity for a week equals 100%, whether that is exactly 40 hours of work, a little less (subject to your local institution\u2019s rules), or more. This implies that the same hours worked could result in different effort percentages reported from week to week; for example, 4 hours in a 40-hour week is 10%, but 4 hours in a 50-hour week (which I hope is exceedingly rare) is 8%. Report 100% of your effort each week, but note that all effort outside of the Technology area falls into a single category. Unless you work at UW\u2013Madison, we do not need to know any details about your effort outside of the Technology area. (BrianL will talk to UW\u2013Madison folks about local expectations.) If you are assigned to the Technology area for less than 100%, please report your actual Technology effort accurately. Workloads vary from week to week. For example, suppose you are 50% Technology in general, but you actually work 24 hours in a 40-hour week; you should report 60% effort for that week. The goal is to present reality, not what you think management wants to see. Effort is reported as integer percentages, no less accurate than 5% intervals So please do not report percentages like 43.21% and please do not round to the nearest 10%. Effort Categories \u00b6 Here are the categories in which to track effort: Investigations Work on the Investigations team External Software work that (generally) benefits our users; e.g., creating packages; updating existing ones; designing, coding, and testing new tools, existing tools, patches, or our software components Internal Software work on tools that we use to get work done; e.g., working on osg-test (for now), osg-build, Koji maintenance, the UW or UC ITB instances Documentation Work on our TWiki or Markdown documentation Release Release team activities, primarily acceptance testing and cutting releases Support User support, including working on GOC tickets, direct support emails, some JIRA tickets that are more support than development, etc. It might be tricky to decide when support work becomes development work; generally, once a support ticket turns into a JIRA ticket and goes through the normal development lifecycle, then the JIRA-based work is development. If there is still extensive communication with GOC ticket users, that is still support. Management This is mainly for team leads; e.g., managing team activities and tickets (generally); hiring; leading (not just attending) meetings Education Not for general learning or training activities The OSG Education area is essentially part of the Software area, because many technology-area members contribute to the OSG School. So this category is for OSG School effort (or other sanctioned OSG Education activities. Admin General administrative activities that benefit the OSG Technology area but that do not fit elsewhere \u2014 use sparingly!! Outside For all activities outside of the OSG Technology area (Madison team members should provide extra details, see BrianL) Leave This is for holidays, vacation, and sick leave; count a full day of leave as 8.0 hours, count a half day as 4.0 hours A few thoughts about tricky situations: Meetings. If a meeting is specific to one of the categories above, use that category. If the meeting is more general (e.g., the weekly Monday meeting, or the OSG AHM), amortize your time according to your usual breakdown by category. For example, someone who spends nearly all of their time working on development tasks should count the Monday meeting as development time. Administrative activities. This is probably the trickiest category. It certainly covers any administrative work that pertains to your activity in the OSG Technology area. But what about administrative activities that pertain to your employment in general, and not to any particular activity? In that case, and that case only, you should amortize the administrative activity between Admin and Outside according to either (a) your appointment percentages between OSG Technology and non-Technology activities, or (b) your actual percentages between OSG Technology and non-Technology activities. Outside (non-Technology) activities that benefit the OSG Technology area. The simplest approach is to amortize the time. The more correct approach is to figure out where credit will be given for the work; if the OSG Annual Report will describe the work in one of the Technology sections, then it should be a Technology category; otherwise not. Learning activities. Put short amounts of learning time in their relevant development category. For instance, if Igor is showing Edgar how to use GlideTester, that goes into Internal . But for longer training events, or for events that are less obviously related to day-to-day activities, mark the time as Admin , and maybe add a comment explaining the activity. Ultimately, if you are not sure how to deal with a situation, ask BrianL and he will make something up and document it here (generically) for future reference.","title":"Effort Tracking"},{"location":"software/effort-tracking/#effort-tracking","text":"This page describes a simple plan for tracking effort in the OSG Technology teams.","title":"Effort Tracking"},{"location":"software/effort-tracking/#basic-ideas","text":"At its simplest, we would like to understand how much effort is spent on various OSG Technology activities over time. The focus is on having reasonably accurate, unbiased data. We might use the data later, for example, to hone future OSG proposals. And of course, all federal funding is subject to effort tracking. There are just a few simple ideas to keep in mind: Each week, report your effort on OSG Technology activities Update your numbers in the effort tracking google spreadsheet (ask BrianL for access) and include a section in your weekly status report; here is an example: EFFORT External development: 63% Support: 12% Leave: 20% Outside: 5 Follow standard federal regulations for calculating effort (e.g., OMB Circular A-21) The main idea is that all of your job-related activity for a week equals 100%, whether that is exactly 40 hours of work, a little less (subject to your local institution\u2019s rules), or more. This implies that the same hours worked could result in different effort percentages reported from week to week; for example, 4 hours in a 40-hour week is 10%, but 4 hours in a 50-hour week (which I hope is exceedingly rare) is 8%. Report 100% of your effort each week, but note that all effort outside of the Technology area falls into a single category. Unless you work at UW\u2013Madison, we do not need to know any details about your effort outside of the Technology area. (BrianL will talk to UW\u2013Madison folks about local expectations.) If you are assigned to the Technology area for less than 100%, please report your actual Technology effort accurately. Workloads vary from week to week. For example, suppose you are 50% Technology in general, but you actually work 24 hours in a 40-hour week; you should report 60% effort for that week. The goal is to present reality, not what you think management wants to see. Effort is reported as integer percentages, no less accurate than 5% intervals So please do not report percentages like 43.21% and please do not round to the nearest 10%.","title":"Basic Ideas"},{"location":"software/effort-tracking/#effort-categories","text":"Here are the categories in which to track effort: Investigations Work on the Investigations team External Software work that (generally) benefits our users; e.g., creating packages; updating existing ones; designing, coding, and testing new tools, existing tools, patches, or our software components Internal Software work on tools that we use to get work done; e.g., working on osg-test (for now), osg-build, Koji maintenance, the UW or UC ITB instances Documentation Work on our TWiki or Markdown documentation Release Release team activities, primarily acceptance testing and cutting releases Support User support, including working on GOC tickets, direct support emails, some JIRA tickets that are more support than development, etc. It might be tricky to decide when support work becomes development work; generally, once a support ticket turns into a JIRA ticket and goes through the normal development lifecycle, then the JIRA-based work is development. If there is still extensive communication with GOC ticket users, that is still support. Management This is mainly for team leads; e.g., managing team activities and tickets (generally); hiring; leading (not just attending) meetings Education Not for general learning or training activities The OSG Education area is essentially part of the Software area, because many technology-area members contribute to the OSG School. So this category is for OSG School effort (or other sanctioned OSG Education activities. Admin General administrative activities that benefit the OSG Technology area but that do not fit elsewhere \u2014 use sparingly!! Outside For all activities outside of the OSG Technology area (Madison team members should provide extra details, see BrianL) Leave This is for holidays, vacation, and sick leave; count a full day of leave as 8.0 hours, count a half day as 4.0 hours A few thoughts about tricky situations: Meetings. If a meeting is specific to one of the categories above, use that category. If the meeting is more general (e.g., the weekly Monday meeting, or the OSG AHM), amortize your time according to your usual breakdown by category. For example, someone who spends nearly all of their time working on development tasks should count the Monday meeting as development time. Administrative activities. This is probably the trickiest category. It certainly covers any administrative work that pertains to your activity in the OSG Technology area. But what about administrative activities that pertain to your employment in general, and not to any particular activity? In that case, and that case only, you should amortize the administrative activity between Admin and Outside according to either (a) your appointment percentages between OSG Technology and non-Technology activities, or (b) your actual percentages between OSG Technology and non-Technology activities. Outside (non-Technology) activities that benefit the OSG Technology area. The simplest approach is to amortize the time. The more correct approach is to figure out where credit will be given for the work; if the OSG Annual Report will describe the work in one of the Technology sections, then it should be a Technology category; otherwise not. Learning activities. Put short amounts of learning time in their relevant development category. For instance, if Igor is showing Edgar how to use GlideTester, that goes into Internal . But for longer training events, or for events that are less obviously related to day-to-day activities, mark the time as Admin , and maybe add a comment explaining the activity. Ultimately, if you are not sure how to deal with a situation, ask BrianL and he will make something up and document it here (generically) for future reference.","title":"Effort Categories"},{"location":"software/git-software-development/","text":"Git software development workflow \u00b6 This document describes the development workflow for OSG software packages kept in GitHub. It is intended for people who wish to contribute to OSG software. Git and GitHub basics \u00b6 If you are unfamiliar with Git and GitHub, the GitHub website has a good series of tutorials at https://help.github.com/categories/bootcamp/ Getting shell access to GitHub \u00b6 There are multiple ways of authenticating to GitHub from the shell. This section will cover using SSH keys. This is no longer the method recommended by GitHub, but is easier to set up for someone with existing SSH experience. The instructions here are derived from GitHub's own instructions on using SSH keys . Creating a new SSH key (optional but recommended) \u00b6 If you already have an SSH keypair in your ~/.ssh directory that you want to use for GitHub, you may skip this step. It is more secure, however, to create a new keypair specifically for use with GitHub. The instructions below will create an SSH public/private key pair with the private key stored in ~/.ssh/id_github and public key stored in ~/.ssh/id_github.pub . Generating the key \u00b6 Use ssh-keygen to generate the SSH keypair. For <EMAIL_ADDRESS> , use the email address associated with your GitHub account. [user@client ~ ] $ ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_github -C <EMAIL_ADDRESS> Configuring SSH to use the key for GitHub \u00b6 Make sure SSH uses the new key by default to access GitHub. Create or edit ~/.ssh/config and append the following lines: Host github.com IdentityFile <YOUR_HOME_DIR>/.ssh/id_github Where is the output of the command: echo $HOME Adding the SSH public key to GitHub \u00b6 Using the GitHub web interface: On the upper right of the screen, click on your profile picture In the menu that pops up, click \"Settings\" On the left-hand sidebar, click \"SSH and GPG keys\" In the top right of the \"SSH keys\" box, click \"New SSH key\" In the \"Title\" field of the dialog that pops up, enter a descriptive name for the key Open the public key file (e.g. ~/.ssh/id_github.pub (don't forget the .pub )) in a text editor and copy its full contents to the clipboard In the \"Key\" field, paste the public key Below the \"Key\" field, click \"Add SSH key\" You should see your new key in the \"SSH keys\" list. Testing that shell access works \u00b6 To verify you can authenticate to GitHub using SSH, SSH to git@github.com . You should see a message that 'you've successfully authenticated, but GitHub does not provide shell access.' Contribution workflow \u00b6 We use the standard GitHub pull request workflow for making contributions to OSG software. If you've never contributed to this project on GitHub before, do the following steps first: Using the GitHub web interface, fork the repo you wish to contribute to. Make a clone of your forked repo on your local machine. [user@client ~ ] $ git clone git@github.com:<USERNAME/PROJECT> Where <USERNAME> is your github username and <PROJECT> is the name of the project you want to contribute to, e.g. in order to clone my local fork of the openscience/technology repository: [user@client ~ ] $ git clone https://github.com/ddavila0/technology.git Note If you get a \"Permission denied\" error, your public key may not be set up with GitHub -- please see the \"Getting shell access to GitHub\" section above. If you get some other error, the GitHub page on SSH may contain useful information on troubleshooting. Once you have your local repo, do the following: Create a branch to hold changes that are related to the issue you are working on. Give the <BRANCH> a name that will remind you of its purpose, including any relevant ticket numbers, such as SOFTWARE-2345.pathchange : [user@client ~ ] $ git checkout -b <BRANCH> Make your commits to this branch, then push the branch to your repo on GitHub. [user@client ~ ] $ git push origin <BRANCH> The Art of Good Commits In addition to writing good code, it's important to organize your changes that are helpful to those viewing them in the future (including yourself!). This includes: Splitting up changes into logically separate chunks ( git rebase can be a helpful tool for this) Describing the \"why\" of the change in addition to the \"what\" and \"how\" (utilizing the commit body if necessary) Writing succint commit message titles in the imperative (limited to 72 chars) Including any relevant ticket numbers (e.g., Change that default path (SOFTWARE-2345) ). See online guides such as this one for more details. Select your branch in the GitHub web interface, then create a \"pull request\" against the original repo. Add a good description of your change into the message for the pull request. Enter a JIRA ticket number in the message to automatically link the pull request to the JIRA ticket. Request a review from the drop down menu on the right and wait for your pull request to be reviewed by a software team member. If the team member accepts your changes, they will merge your pull request, and your changes will be incorporated upstream. You may then delete the branch you created your pull request from. If your changes are rejected, then you may make additional changes to the branch that your pull request is for. Once you push the changes from your local repo to your GitHub repo, they will automatically be added to the pull request. Release workflow \u00b6 This section is intended for OSG Software team members or the primary developers of a software project (i.e. those that make releases). Some of the steps require direct write access the GitHub repo for the project owned by opensciencegrid . (If you can approve pull requests, you have write access). A release of a software is created from your local clone of a software project. Before you release, you need to make sure your local clone is in sync with the GitHub repo owned by opensciencegrid (the OSG repo): If you haven't already, add the OSG repo as a \"remote\" to your repo: [user@client ~ ] $ git remote add upstream git@github.com:opensciencegrid/<PROJECT> Where <PROJECT> is the name of the project you are going to release, e.g. for openscience/technology repository it would be technology.git Fetch changes from the OSG repo: [user@client ~ ] $ git fetch upstream Compare your branch you are releasing from (probably master ) to its copy in the OSG repo: [user@client ~ ] $ git checkout master ; git diff upstream/master There should be no differences. Once this is done, release the software as you usually do. This process varies from one project to another, but often it involves running make upstream or similar. Check your project's README file for instructions. Test your software. Tag the commit that you made the release from. Git release tags are conventionally called VERSION , where VERSION is the version of the software you are releasing. So if you're releasing version 1.3.0, you would create the <TAG> v1.3.0 . Note Once a tag has been pushed to the OSG repo, it should not be changed. Be sure the commit you want to tag is the final one you made the release from. Create the tag in your local repo: [user@client ~ ] $ git tag <TAG> Push the tag to your own GitHub repo: [user@client ~ ] $ git push origin <TAG> Push the tag to the OSG repo: [user@client ~ ] $ git push upstream <TAG>","title":"Git Software Development Process"},{"location":"software/git-software-development/#git-software-development-workflow","text":"This document describes the development workflow for OSG software packages kept in GitHub. It is intended for people who wish to contribute to OSG software.","title":"Git software development workflow"},{"location":"software/git-software-development/#git-and-github-basics","text":"If you are unfamiliar with Git and GitHub, the GitHub website has a good series of tutorials at https://help.github.com/categories/bootcamp/","title":"Git and GitHub basics"},{"location":"software/git-software-development/#getting-shell-access-to-github","text":"There are multiple ways of authenticating to GitHub from the shell. This section will cover using SSH keys. This is no longer the method recommended by GitHub, but is easier to set up for someone with existing SSH experience. The instructions here are derived from GitHub's own instructions on using SSH keys .","title":"Getting shell access to GitHub"},{"location":"software/git-software-development/#creating-a-new-ssh-key-optional-but-recommended","text":"If you already have an SSH keypair in your ~/.ssh directory that you want to use for GitHub, you may skip this step. It is more secure, however, to create a new keypair specifically for use with GitHub. The instructions below will create an SSH public/private key pair with the private key stored in ~/.ssh/id_github and public key stored in ~/.ssh/id_github.pub .","title":"Creating a new SSH key (optional but recommended)"},{"location":"software/git-software-development/#generating-the-key","text":"Use ssh-keygen to generate the SSH keypair. For <EMAIL_ADDRESS> , use the email address associated with your GitHub account. [user@client ~ ] $ ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_github -C <EMAIL_ADDRESS>","title":"Generating the key"},{"location":"software/git-software-development/#configuring-ssh-to-use-the-key-for-github","text":"Make sure SSH uses the new key by default to access GitHub. Create or edit ~/.ssh/config and append the following lines: Host github.com IdentityFile <YOUR_HOME_DIR>/.ssh/id_github Where is the output of the command: echo $HOME","title":"Configuring SSH to use the key for GitHub"},{"location":"software/git-software-development/#adding-the-ssh-public-key-to-github","text":"Using the GitHub web interface: On the upper right of the screen, click on your profile picture In the menu that pops up, click \"Settings\" On the left-hand sidebar, click \"SSH and GPG keys\" In the top right of the \"SSH keys\" box, click \"New SSH key\" In the \"Title\" field of the dialog that pops up, enter a descriptive name for the key Open the public key file (e.g. ~/.ssh/id_github.pub (don't forget the .pub )) in a text editor and copy its full contents to the clipboard In the \"Key\" field, paste the public key Below the \"Key\" field, click \"Add SSH key\" You should see your new key in the \"SSH keys\" list.","title":"Adding the SSH public key to GitHub"},{"location":"software/git-software-development/#testing-that-shell-access-works","text":"To verify you can authenticate to GitHub using SSH, SSH to git@github.com . You should see a message that 'you've successfully authenticated, but GitHub does not provide shell access.'","title":"Testing that shell access works"},{"location":"software/git-software-development/#contribution-workflow","text":"We use the standard GitHub pull request workflow for making contributions to OSG software. If you've never contributed to this project on GitHub before, do the following steps first: Using the GitHub web interface, fork the repo you wish to contribute to. Make a clone of your forked repo on your local machine. [user@client ~ ] $ git clone git@github.com:<USERNAME/PROJECT> Where <USERNAME> is your github username and <PROJECT> is the name of the project you want to contribute to, e.g. in order to clone my local fork of the openscience/technology repository: [user@client ~ ] $ git clone https://github.com/ddavila0/technology.git Note If you get a \"Permission denied\" error, your public key may not be set up with GitHub -- please see the \"Getting shell access to GitHub\" section above. If you get some other error, the GitHub page on SSH may contain useful information on troubleshooting. Once you have your local repo, do the following: Create a branch to hold changes that are related to the issue you are working on. Give the <BRANCH> a name that will remind you of its purpose, including any relevant ticket numbers, such as SOFTWARE-2345.pathchange : [user@client ~ ] $ git checkout -b <BRANCH> Make your commits to this branch, then push the branch to your repo on GitHub. [user@client ~ ] $ git push origin <BRANCH> The Art of Good Commits In addition to writing good code, it's important to organize your changes that are helpful to those viewing them in the future (including yourself!). This includes: Splitting up changes into logically separate chunks ( git rebase can be a helpful tool for this) Describing the \"why\" of the change in addition to the \"what\" and \"how\" (utilizing the commit body if necessary) Writing succint commit message titles in the imperative (limited to 72 chars) Including any relevant ticket numbers (e.g., Change that default path (SOFTWARE-2345) ). See online guides such as this one for more details. Select your branch in the GitHub web interface, then create a \"pull request\" against the original repo. Add a good description of your change into the message for the pull request. Enter a JIRA ticket number in the message to automatically link the pull request to the JIRA ticket. Request a review from the drop down menu on the right and wait for your pull request to be reviewed by a software team member. If the team member accepts your changes, they will merge your pull request, and your changes will be incorporated upstream. You may then delete the branch you created your pull request from. If your changes are rejected, then you may make additional changes to the branch that your pull request is for. Once you push the changes from your local repo to your GitHub repo, they will automatically be added to the pull request.","title":"Contribution workflow"},{"location":"software/git-software-development/#release-workflow","text":"This section is intended for OSG Software team members or the primary developers of a software project (i.e. those that make releases). Some of the steps require direct write access the GitHub repo for the project owned by opensciencegrid . (If you can approve pull requests, you have write access). A release of a software is created from your local clone of a software project. Before you release, you need to make sure your local clone is in sync with the GitHub repo owned by opensciencegrid (the OSG repo): If you haven't already, add the OSG repo as a \"remote\" to your repo: [user@client ~ ] $ git remote add upstream git@github.com:opensciencegrid/<PROJECT> Where <PROJECT> is the name of the project you are going to release, e.g. for openscience/technology repository it would be technology.git Fetch changes from the OSG repo: [user@client ~ ] $ git fetch upstream Compare your branch you are releasing from (probably master ) to its copy in the OSG repo: [user@client ~ ] $ git checkout master ; git diff upstream/master There should be no differences. Once this is done, release the software as you usually do. This process varies from one project to another, but often it involves running make upstream or similar. Check your project's README file for instructions. Test your software. Tag the commit that you made the release from. Git release tags are conventionally called VERSION , where VERSION is the version of the software you are releasing. So if you're releasing version 1.3.0, you would create the <TAG> v1.3.0 . Note Once a tag has been pushed to the OSG repo, it should not be changed. Be sure the commit you want to tag is the final one you made the release from. Create the tag in your local repo: [user@client ~ ] $ git tag <TAG> Push the tag to your own GitHub repo: [user@client ~ ] $ git push origin <TAG> Push the tag to the OSG repo: [user@client ~ ] $ git push upstream <TAG>","title":"Release workflow"},{"location":"software/globus-mass-update-procedure/","text":"Globus mass update procedure \u00b6 Globus consists of many packages, which we tend to update at the same time. This requires extra work, primarily to prevent dependency issues. Prep work \u00b6 Docs \u00b6 Create a spreadsheet or table of the builds. Table should have NVR, perhaps URL, status (not started, imported, built, tested), and comments (mostly to record if it was a simple pass-through or not). Get packages to update, using osg-outdated-epel-pkgs from opensciencegrid/tools . To get in N-V-R format: [you@host]$ ./osg-outdated-epel-pkgs | \\ egrep '^(globus|myproxy|gsi)' | \\ awk 'BEGIN {OFS=\"\"} {print $1, \"-\", $3}' or to split up N and V-R in a comma-separated way (which you can feed into a Google Sheet to turn it into two columns): [you@host]$ ./osg-outdated-epel-pkgs | \\ egrep '^(globus|myproxy|gsi)' | \\ awk 'BEGIN {OFS=\"\"} {print $1, \",\", $3}' SVN \u00b6 Create a separate SVN branch and populate it with all the packages you will update. (Get the list from the doc created above). [you@uw]$ svn mkdir file:///p/vdt/workspace/svn/native/redhat/branches/globus # ## From a checkout, in native/redhat [you@uw]$ for x in <PACKAGES> ; do \\ svn copy $x branches/globus/${x#trunk/}; \\ done Change <PACKAGES> for the list of package names from generated in the above section ( Docs )) Koji (Mat/Carl) \u00b6 This requires a Koji administrator. Koji admins as of August 2017 are Mat Selmeci and Carl Edquist. Ensure Koji tags exist: a destination tag, and a build tag, one for each dver, e.g.: el6-globus el6-globus-build el7-globus el7-globus-build Set up tag inheritence: base the build tags off of the corresponding dist-el?-build tag. This is because we don't want old osg packages interfering with the new versions we're building. These may already exist -- check the el?-globus-build tags in the web interface. [you@host]$ for el in el6 el7 ; do \\ osg-koji add-tag --parent=dist-$el-build \\ --arches=x86_64 $el-globus-build; \\ done Tag buildsys-macros for the OSG release into the build tags: [you@host]$ for el in el6 el7 ; do \\ buildsys_macros_nvr=$(osg-koji -q list-tagged osg-3.4-$el-development \\ buildsys-macros --latest | awk '{print $1}'); \\ osg-koji tag-pkg $el-globus-build $buildsys_macros_nvr; \\ done Ensure Koji targets exist, one for each dver, e.g.: el6-globus (el6-globus-build \u2192 el6-globus) el7-globus (el7-globus-build \u2192 el7-globus) kojira-fake-el6-globus (el6-globus \u2192 kojira-fake) kojira-fake-el7-globus (el7-globus \u2192 kojira-fake) [you@host]$ for el in el6 el7 ; do \\ osg-koji add-target $el-globus $el-globus-build $el-globus; \\ osg-koji add-target kojira-fake-$el-globus $el-globus kojira-fake; \\ done If basing the packages off of the Globus repos, add the Globus repos as external repos, and add them to the build tags (but not the dest tags). Edit /etc/koji-hub/plugins/sign.conf and set up the GPG signing for the RPMs. Run /etc/koji-hub/plugins/fix-permissions after editing the file. Per-package work \u00b6 cd into branches/globus Download packages from https://dl.fedoraproject.org/pub/epel/7/source/tree/Packages/ A useful alias: [you@host]$ alias osg-build-globus = \"osg-build koji --ktt el6-globus --ktt el7-globus\" Strict pass-through (no osg/ directory) \u00b6 Run: [you@uw]$ osg-import-srpm <URL> [you@uw]$ osg-build-globus --scratch <PKG> Change <URL> for the URL from where the package will be donwloaded e.g. https://dl.fedoraproject.org/pub/epel/7/SRPMS/Packages/g/globus-authz-4.3-1.el7.src.rpm and <PKG> > for the name of the package e.g. globus-authz Commit - use a message like \"Update to 3.12-1 from EPEL (SOFTWARE-2197)\" Do a non-scratch build. Non-strict pass-through \u00b6 Run: [you@uw]$ osg-import-srpm --diff3 <URL> Change <URL> for the URL from where the package will be donwloaded e.g. https://dl.fedoraproject.org/pub/epel/7/SRPMS/Packages/g/globus-authz-4.3-1.el7.src.rpm Fix merge conflicts in the spec file. If not already there, put a .1 after the Release number to mark the changes as ours. Run: [you@uw]$ osg-build quilt <PKG> Change <PKG> > for the name of the package e.g. globus-authz Fix patches if necessary. Run: [you@uw>]$ osg-build-globus --scratch <PKG> Change <PKG> > for the name of the package e.g. globus-authz Commit - use a message like \"Update to 8.29-1 from EPEL and merge OSG changes (SOFTWARE-2197)\" Do a non-scratch build. Testing \u00b6 Create a yum .repo file similar to osg-minefield that installs from the el?-globus repos. Enable this and osg-minefield . EL7 example: [globus] name = globus baseurl = http://koji.chtc.wisc.edu/mnt/koji/repos/el7-globus/latest/$basearch/ failovermethod = priority priority = 98 enabled = 1 gpgcheck = 0 gpgkey = file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OSG consider_as_osg = yes Merge \u00b6 Koji (Mat/Carl) \u00b6 This requires a Koji administrator. Koji admins as of August 2017 are Mat Selmeci and Carl Edquist. Untag broken versions that we don't want to ship. Use move-pkg : [you@host>]$ for el in el6 el7 ; do \\ osg-koji -q list-tagged ${el}-globus | \\ awk '{print $1}' > ${el}-tagged.txt; \\ done # ## Check the txts if they look sane [you@host>]$ for el in el6 el7 ; do \\ xargs -a ${el}-tagged.txt \\ osg-koji move-pkg ${el}-globus \\ osg-3.3-${el}-development; \\ done SVN \u00b6 Merge from trunk to branches/globus first, to pick up any globus changes that may have happened in trunk. Merge from branches/globus to trunk . Move branches/globus to tags/globus-<DATE> . Where <DATE> is the current date in the following format: YYYY-MM-DD, e.g. 2016-08-29","title":"Globus Mass Update Procedure"},{"location":"software/globus-mass-update-procedure/#globus-mass-update-procedure","text":"Globus consists of many packages, which we tend to update at the same time. This requires extra work, primarily to prevent dependency issues.","title":"Globus mass update procedure"},{"location":"software/globus-mass-update-procedure/#prep-work","text":"","title":"Prep work"},{"location":"software/globus-mass-update-procedure/#docs","text":"Create a spreadsheet or table of the builds. Table should have NVR, perhaps URL, status (not started, imported, built, tested), and comments (mostly to record if it was a simple pass-through or not). Get packages to update, using osg-outdated-epel-pkgs from opensciencegrid/tools . To get in N-V-R format: [you@host]$ ./osg-outdated-epel-pkgs | \\ egrep '^(globus|myproxy|gsi)' | \\ awk 'BEGIN {OFS=\"\"} {print $1, \"-\", $3}' or to split up N and V-R in a comma-separated way (which you can feed into a Google Sheet to turn it into two columns): [you@host]$ ./osg-outdated-epel-pkgs | \\ egrep '^(globus|myproxy|gsi)' | \\ awk 'BEGIN {OFS=\"\"} {print $1, \",\", $3}'","title":"Docs"},{"location":"software/globus-mass-update-procedure/#svn","text":"Create a separate SVN branch and populate it with all the packages you will update. (Get the list from the doc created above). [you@uw]$ svn mkdir file:///p/vdt/workspace/svn/native/redhat/branches/globus # ## From a checkout, in native/redhat [you@uw]$ for x in <PACKAGES> ; do \\ svn copy $x branches/globus/${x#trunk/}; \\ done Change <PACKAGES> for the list of package names from generated in the above section ( Docs ))","title":"SVN"},{"location":"software/globus-mass-update-procedure/#koji-matcarl","text":"This requires a Koji administrator. Koji admins as of August 2017 are Mat Selmeci and Carl Edquist. Ensure Koji tags exist: a destination tag, and a build tag, one for each dver, e.g.: el6-globus el6-globus-build el7-globus el7-globus-build Set up tag inheritence: base the build tags off of the corresponding dist-el?-build tag. This is because we don't want old osg packages interfering with the new versions we're building. These may already exist -- check the el?-globus-build tags in the web interface. [you@host]$ for el in el6 el7 ; do \\ osg-koji add-tag --parent=dist-$el-build \\ --arches=x86_64 $el-globus-build; \\ done Tag buildsys-macros for the OSG release into the build tags: [you@host]$ for el in el6 el7 ; do \\ buildsys_macros_nvr=$(osg-koji -q list-tagged osg-3.4-$el-development \\ buildsys-macros --latest | awk '{print $1}'); \\ osg-koji tag-pkg $el-globus-build $buildsys_macros_nvr; \\ done Ensure Koji targets exist, one for each dver, e.g.: el6-globus (el6-globus-build \u2192 el6-globus) el7-globus (el7-globus-build \u2192 el7-globus) kojira-fake-el6-globus (el6-globus \u2192 kojira-fake) kojira-fake-el7-globus (el7-globus \u2192 kojira-fake) [you@host]$ for el in el6 el7 ; do \\ osg-koji add-target $el-globus $el-globus-build $el-globus; \\ osg-koji add-target kojira-fake-$el-globus $el-globus kojira-fake; \\ done If basing the packages off of the Globus repos, add the Globus repos as external repos, and add them to the build tags (but not the dest tags). Edit /etc/koji-hub/plugins/sign.conf and set up the GPG signing for the RPMs. Run /etc/koji-hub/plugins/fix-permissions after editing the file.","title":"Koji (Mat/Carl)"},{"location":"software/globus-mass-update-procedure/#per-package-work","text":"cd into branches/globus Download packages from https://dl.fedoraproject.org/pub/epel/7/source/tree/Packages/ A useful alias: [you@host]$ alias osg-build-globus = \"osg-build koji --ktt el6-globus --ktt el7-globus\"","title":"Per-package work"},{"location":"software/globus-mass-update-procedure/#strict-pass-through-no-osg-directory","text":"Run: [you@uw]$ osg-import-srpm <URL> [you@uw]$ osg-build-globus --scratch <PKG> Change <URL> for the URL from where the package will be donwloaded e.g. https://dl.fedoraproject.org/pub/epel/7/SRPMS/Packages/g/globus-authz-4.3-1.el7.src.rpm and <PKG> > for the name of the package e.g. globus-authz Commit - use a message like \"Update to 3.12-1 from EPEL (SOFTWARE-2197)\" Do a non-scratch build.","title":"Strict pass-through (no osg/ directory)"},{"location":"software/globus-mass-update-procedure/#non-strict-pass-through","text":"Run: [you@uw]$ osg-import-srpm --diff3 <URL> Change <URL> for the URL from where the package will be donwloaded e.g. https://dl.fedoraproject.org/pub/epel/7/SRPMS/Packages/g/globus-authz-4.3-1.el7.src.rpm Fix merge conflicts in the spec file. If not already there, put a .1 after the Release number to mark the changes as ours. Run: [you@uw]$ osg-build quilt <PKG> Change <PKG> > for the name of the package e.g. globus-authz Fix patches if necessary. Run: [you@uw>]$ osg-build-globus --scratch <PKG> Change <PKG> > for the name of the package e.g. globus-authz Commit - use a message like \"Update to 8.29-1 from EPEL and merge OSG changes (SOFTWARE-2197)\" Do a non-scratch build.","title":"Non-strict pass-through"},{"location":"software/globus-mass-update-procedure/#testing","text":"Create a yum .repo file similar to osg-minefield that installs from the el?-globus repos. Enable this and osg-minefield . EL7 example: [globus] name = globus baseurl = http://koji.chtc.wisc.edu/mnt/koji/repos/el7-globus/latest/$basearch/ failovermethod = priority priority = 98 enabled = 1 gpgcheck = 0 gpgkey = file:///etc/pki/rpm-gpg/RPM-GPG-KEY-OSG consider_as_osg = yes","title":"Testing"},{"location":"software/globus-mass-update-procedure/#merge","text":"","title":"Merge"},{"location":"software/globus-mass-update-procedure/#koji-matcarl_1","text":"This requires a Koji administrator. Koji admins as of August 2017 are Mat Selmeci and Carl Edquist. Untag broken versions that we don't want to ship. Use move-pkg : [you@host>]$ for el in el6 el7 ; do \\ osg-koji -q list-tagged ${el}-globus | \\ awk '{print $1}' > ${el}-tagged.txt; \\ done # ## Check the txts if they look sane [you@host>]$ for el in el6 el7 ; do \\ xargs -a ${el}-tagged.txt \\ osg-koji move-pkg ${el}-globus \\ osg-3.3-${el}-development; \\ done","title":"Koji (Mat/Carl)"},{"location":"software/globus-mass-update-procedure/#svn_1","text":"Merge from trunk to branches/globus first, to pick up any globus changes that may have happened in trunk. Merge from branches/globus to trunk . Move branches/globus to tags/globus-<DATE> . Where <DATE> is the current date in the following format: YYYY-MM-DD, e.g. 2016-08-29","title":"SVN"},{"location":"software/ipv6-testing/","text":"Testing Software with IPv6 \u00b6 About this Document \u00b6 This document provides instructions on setting up a host with an IPv6 address for testing the OSG software stack. The plan is to be able to spin up special Fermicloud VM\u2019s that have corresponding public IPv6 addresses meaning that there will be a limit of ~15 VM\u2019s at one time. For more information on IPv6, consult Wikipedia . Requirements \u00b6 Be familiar with your institute's network policy and firewall configuration 1 Root access is required to configure iptables Enabling IPV6 \u00b6 Determine the public IPv6 address of your host. In the example below that would be 2001:400:2410:29::182 : user@host $ nslookup -type = aaaa <HOSTNAME> Server: 132.239.0.252 Address: 132.239.0.252#53 Non-authoritative answer: ipv6vm001.fnal.gov has AAAA address 2001:400:2410:29::182 Replacing <HOSTNAME> with your machine's hostname. Ask your network administrator for your IPv6 default gateway Modify /etc/sysconfig/network-scripts/ifcfg-eth0 and be sure these lines exist, and : IPV6INIT=yes IPV6_AUTOCONF=no IPV6ADDR=<IPV6 ADDRESS>\" IPV6_DEFAULTGW=\"The IPV6 Default Gateway\" Replace <IPV6 ADDRESS> with the address found in step 1. Restart the network devices: root@host # service network restart Shutting down interface eth0: [ OK ] Shutting down loopback interface: [ OK ] Bringing up loopback interface: [ OK ] Bringing up interface eth0: [ OK ] Testing IPv6 connectivity \u00b6 To verify that the VM is capable of IPv6 we will be using the ping6 command between the test VM and another IPv6 capable machine From another IPv6 capable machine, ping your VM: user@host $ ping6 ipv6vm001.fnal.gov PING ipv6vm001.fnal.gov(ipv6vm001.fnal.gov) 56 data bytes 64 bytes from ipv6vm001.fnal.gov: icmp_seq=1 ttl=51 time=68.1 ms 64 bytes from ipv6vm001.fnal.gov: icmp_seq=2 ttl=51 time=57.6 ms From your test VM, ping another IPv6 capable machine: [efajardo@ipv6vm001 ~]# ping6 uaf-4.t2.ucsd.edu PING uaf-4.t2.ucsd.edu(uaf-4.t2.ucsd.edu) 56 data bytes 64 bytes from uaf-4.t2.ucsd.edu: icmp_seq=1 ttl=51 time=57.6 ms Verifying SSH over IPv6 \u00b6 Make sure you can login to your VM over IPv6. Currently, Fermilab's kerberos does not support SSH over IPv6. Add your ssh_key to your machine and make sure /etc/ssh/sshd_config has the following lines: RSAAuthentication yes PubkeyAuthentication yes Try connecting to you IPv6 enabled machine over SSH: efajardo@uaf-4 ~$ ssh -6 root@ipv6vm001.fnal.gov Last login: Wed Jun 11 14:51:47 2014 from 2607:f720:1700:1b30:21f:c6ff:feeb:2631 [root@ipv6vm001 ~]# Disabling IPv4 \u00b6 If you were able to log into your VM over IPv6, you can disable IPv4 and try to communicate exclusively over IPv6. Comment the IPADDR line in /etc/sysconfig/network-scripts/ifcfg-eth0 : #IPADDR=131.225.41.182 IPV6ADDR=\"2607:f720:1700:1b30::9b\" Note Ensure that your IPV6ADDR is uncommented otherwise you will not be able to connect to the host again Restart the network services: root@host # service network restart The ping command should no longer work: root@host # ping ipv6vm001.fnal.gov PING ipv6vm001.fnal.gov (131.225.41.182): 56 data bytes Request timeout for icmp_seq 0 Request timeout for icmp_seq 1 Disabling IPv6 \u00b6 In your testing, you may find the need to disable IPv6. root@host # sysctl -w net.ipv6.conf.all.disable_ipv6 = 1 root@host # service network restart The ping6 command should no longer work: root@host # ping6 ipv6vm001.fnal.gov Request timeout for icmp_seq 0 Request timeout for icmp_seq 1 Testing in mixed mode \u00b6 To test IPv6 in mixed mode, you can use the ntop tool to monitor traffic over IPv6. ntop is installed on all the test machines and you can access the web interface at hostname:3000 . To see a table that displays network traffic between your VM and another host by going to All Protocols -> Traffic and looking at the IPv6 column. Enforcing communication over IPv6 \u00b6 If you want to enforce IPv6 over mixed mode you can try using the IPv6 address for whatever software that you are testing. For example with xrdcp: root@host # xrdcp -d 1 /tmp/first_test root:// [ 2607 :f720:1700:1b30::a4 ] :1094//tmp/first_test_8 [19B/19B][100%][==================================================][0B/s] Notice that the IPv6 address follows RFC2732 .","title":"IPv6 Testing"},{"location":"software/ipv6-testing/#testing-software-with-ipv6","text":"","title":"Testing Software with IPv6"},{"location":"software/ipv6-testing/#about-this-document","text":"This document provides instructions on setting up a host with an IPv6 address for testing the OSG software stack. The plan is to be able to spin up special Fermicloud VM\u2019s that have corresponding public IPv6 addresses meaning that there will be a limit of ~15 VM\u2019s at one time. For more information on IPv6, consult Wikipedia .","title":"About this Document"},{"location":"software/ipv6-testing/#requirements","text":"Be familiar with your institute's network policy and firewall configuration 1 Root access is required to configure iptables","title":"Requirements"},{"location":"software/ipv6-testing/#enabling-ipv6","text":"Determine the public IPv6 address of your host. In the example below that would be 2001:400:2410:29::182 : user@host $ nslookup -type = aaaa <HOSTNAME> Server: 132.239.0.252 Address: 132.239.0.252#53 Non-authoritative answer: ipv6vm001.fnal.gov has AAAA address 2001:400:2410:29::182 Replacing <HOSTNAME> with your machine's hostname. Ask your network administrator for your IPv6 default gateway Modify /etc/sysconfig/network-scripts/ifcfg-eth0 and be sure these lines exist, and : IPV6INIT=yes IPV6_AUTOCONF=no IPV6ADDR=<IPV6 ADDRESS>\" IPV6_DEFAULTGW=\"The IPV6 Default Gateway\" Replace <IPV6 ADDRESS> with the address found in step 1. Restart the network devices: root@host # service network restart Shutting down interface eth0: [ OK ] Shutting down loopback interface: [ OK ] Bringing up loopback interface: [ OK ] Bringing up interface eth0: [ OK ]","title":"Enabling IPV6"},{"location":"software/ipv6-testing/#testing-ipv6-connectivity","text":"To verify that the VM is capable of IPv6 we will be using the ping6 command between the test VM and another IPv6 capable machine From another IPv6 capable machine, ping your VM: user@host $ ping6 ipv6vm001.fnal.gov PING ipv6vm001.fnal.gov(ipv6vm001.fnal.gov) 56 data bytes 64 bytes from ipv6vm001.fnal.gov: icmp_seq=1 ttl=51 time=68.1 ms 64 bytes from ipv6vm001.fnal.gov: icmp_seq=2 ttl=51 time=57.6 ms From your test VM, ping another IPv6 capable machine: [efajardo@ipv6vm001 ~]# ping6 uaf-4.t2.ucsd.edu PING uaf-4.t2.ucsd.edu(uaf-4.t2.ucsd.edu) 56 data bytes 64 bytes from uaf-4.t2.ucsd.edu: icmp_seq=1 ttl=51 time=57.6 ms","title":"Testing IPv6 connectivity"},{"location":"software/ipv6-testing/#verifying-ssh-over-ipv6","text":"Make sure you can login to your VM over IPv6. Currently, Fermilab's kerberos does not support SSH over IPv6. Add your ssh_key to your machine and make sure /etc/ssh/sshd_config has the following lines: RSAAuthentication yes PubkeyAuthentication yes Try connecting to you IPv6 enabled machine over SSH: efajardo@uaf-4 ~$ ssh -6 root@ipv6vm001.fnal.gov Last login: Wed Jun 11 14:51:47 2014 from 2607:f720:1700:1b30:21f:c6ff:feeb:2631 [root@ipv6vm001 ~]#","title":"Verifying SSH over IPv6"},{"location":"software/ipv6-testing/#disabling-ipv4","text":"If you were able to log into your VM over IPv6, you can disable IPv4 and try to communicate exclusively over IPv6. Comment the IPADDR line in /etc/sysconfig/network-scripts/ifcfg-eth0 : #IPADDR=131.225.41.182 IPV6ADDR=\"2607:f720:1700:1b30::9b\" Note Ensure that your IPV6ADDR is uncommented otherwise you will not be able to connect to the host again Restart the network services: root@host # service network restart The ping command should no longer work: root@host # ping ipv6vm001.fnal.gov PING ipv6vm001.fnal.gov (131.225.41.182): 56 data bytes Request timeout for icmp_seq 0 Request timeout for icmp_seq 1","title":"Disabling IPv4"},{"location":"software/ipv6-testing/#disabling-ipv6","text":"In your testing, you may find the need to disable IPv6. root@host # sysctl -w net.ipv6.conf.all.disable_ipv6 = 1 root@host # service network restart The ping6 command should no longer work: root@host # ping6 ipv6vm001.fnal.gov Request timeout for icmp_seq 0 Request timeout for icmp_seq 1","title":"Disabling IPv6"},{"location":"software/ipv6-testing/#testing-in-mixed-mode","text":"To test IPv6 in mixed mode, you can use the ntop tool to monitor traffic over IPv6. ntop is installed on all the test machines and you can access the web interface at hostname:3000 . To see a table that displays network traffic between your VM and another host by going to All Protocols -> Traffic and looking at the IPv6 column.","title":"Testing in mixed mode"},{"location":"software/ipv6-testing/#enforcing-communication-over-ipv6","text":"If you want to enforce IPv6 over mixed mode you can try using the IPv6 address for whatever software that you are testing. For example with xrdcp: root@host # xrdcp -d 1 /tmp/first_test root:// [ 2607 :f720:1700:1b30::a4 ] :1094//tmp/first_test_8 [19B/19B][100%][==================================================][0B/s] Notice that the IPv6 address follows RFC2732 .","title":"Enforcing communication over IPv6"},{"location":"software/koji-mass-rebuilds/","text":"Mass RPM Rebuilds for a new Build Target in Koji \u00b6 Whenever we move to a new OSG series (OSG 3.3) and/or a new RHEL version (EL7), we want to make new builds for all of our packages in the new koji build target (osg-3.3-el7). Due to tricky build dependencies and unexpected build failures, this can be a messy task; and in the past we have gone about it in an ad-hoc manner. This document will discuss some of the aspects of the task and issues involved, some possible approaches, and ultimately a proposal for a general tool or procedure for doing our mass rebuilds. New RHEL version vs new OSG series \u00b6 New RHEL version \u00b6 For a new RHEL version, we start with no osg packages to build against, so we are forced to build things in dependency order. Figuring out the dependency order is possibly the most difficult (or interesting) part of doing mass rebuilds -- more on that later. New OSG series \u00b6 For a new OSG series within an existing RHEL version, we have more options. While it's possible to \"start from scratch\" the same way we would with a new RHEL version and build everything in dependency order, this is not really necessary if we take advantage of existing builds from the previous series. A prior step is to determine the package list for the new series -- this will be some combination of Upcoming and the current release series, minus any packages pruned for the new series. This should also be reflected in the new trunk packaging area. All the current builds for packages in that list (from upcoming + current series) can be tagged into the new *-development (or *-build) repos. This should make all of the build dependencies available for mass rebuilding the new series all at once (osg-build koji *). After some consideration, I wholeheartedly endorse this approach for new OSG series -- for all but academic exercises. Rebuilding in dependency order when all the dependencies are already built just seems like wasted effort. Doing scratch builds of everything first \u00b6 Before doing the mass rebuilds in a new build target, it seems to be a good idea to do scratch builds of all the packages in the current series first. (Or, at least the ones we intend to bring into the new build target.) This will give us a chance to see any build failures that have crept in (possibly due to upstream changes in the OS or EPEL), and fix them first if desired, but in any case avoid the confusion of seeing the failures for the first time in the new build target. Doing mass scratch rebuilds for an existing series is easy, as they can all be done at once. Relatedly, doing a round of scratch builds after successfully building all packages into a new build target can also be useful, because it can reveal dependency issues only present in the new set of builds. Doing developer test installs or a round of VMU tests may also uncover any runtime dependency issues. Options for calculating build dependencies \u00b6 We can get dependency information from a number of places: scraping .spec files for Requires/BuildRequires/Provides and %package names querying existing rpms directly on koji-hub and our OS/EPEL mirrors ( rpm -q ) querying srpms from osg-build prebuild directly for build requirements inspecting previous buildroots to determine resolved build dependencies use repoquery to determine whatrequires/whatprovides for packages use yum-builddep to find packages with all build requirements available using the repodata (primary+filelists) from rpm repositories, including: upcoming + 3.X development + external repos (Centos/EPEL/JPackage), OR osg-upcoming-elX-build, which includes them all One important aspect is that the runtime requirements are also relevant for determining build requirements, since a build will require installing all of the runtime requirements of the packages required for the build. That is, (A BuildRequires B) and (B Requires C) implies A BuildRequires C . Combined with the fact that runtime requirements are transitive, that is, (A Requires B) and (B Requires C) implies A Requires C , computing build requirements is a recursive operation, which can be many levels deep. Another question to keep in mind is whether to use versioned requires/provides (i.e., BuildRequires xyz >= 1.2-3) or to only pay attention to the package/capability names. Similarly, whether to pay any attention to conflicts/obsoletes. These would add complexity to anything except the standard tools (repoquery, yum-builddep) which already take these things into account. (And we may get pretty far even without paying attention to versions.) Note also that the dependencies/capabilities for a given package often varies between different rhel versions. Pre-computing (predictive) vs just-in-time \u00b6 Two different approaches to determining dependency order for building are: pre compute all dependencies based on an existing series/rhel version, OR compute which remaining packages have all build reqs satisfied now The first approach has the benefit of being able to determine the packages that need to be built in order to accomplish a smaller subset goal first -- for example, to be able to install osg-wn-client. (And, if there are problems with resolving certain dependencies (say with osg-wn-client again), it will become apparent earlier, as opposed to not until all possible-to-build packages have been built.) The limitation of this approach is that the predicted set of files/capabilities that a binary package will provide may differ between osg series/rhel versions, and as a result may be inaccurate for the new build target. The second approach provides somewhat more confidence about being able to correctly determine which packages should be buildable at any point in time, but (as mentioned above) it is a bit more in the dark about seeing the bigger picture of the dependency graph or being able to build subsets of targets. It may be useful to have both options available -- building from the list in the second approach, but using the first mechanism to have a better picture of where things are at, or perhaps to steer toward finishing a certain subset of packages first. Package list closure, pruning \u00b6 At some point (either in the planning stage or after building packages into the new build target), we need to ensure that the new osg series/rhel version contains all of its install requirements for all of its packages. It would probably suffice to do a VMU run that installs each package (perhaps individually, to avoid conflicts). But if we go about it more analytically, we may also get, as a result, a list of packages which we previously only maintained for the purpose of building our other packages (ie, that were never required at runtime for any use cases that we cared about), which now, in the new target, are no longer build requirements (directly or indirectly) for any packages that we care about installing. Packages in this category could be reviewed to also be dropped from the new build target. Proposal / Recommendations \u00b6 As mentioned earlier, my recommendation is that we treat a new OSG series differently than a new RHEL version. For a new OSG series: \u00b6 update native/redhat packaging area to reflect packages for new series, including upcoming + trunk - removed packages tag existing builds of packages in new list into the new development tag (eg, for osg-3.3-el6, tag the .osgup.el6 and .osg32.el6 builds into osg-3.3-el6-development) build all packages in new packaging area into new build target at once for all successful builds, remove corresponding old builds (eg, .osgup/.osg32) from the new tag (osg-3.3-el6-development) For a new RHEL version: \u00b6 pull the repodata from the relevant *-build repo from koji: for pre-computing, use a build repo from an existing rhel version: https://koji.chtc.wisc.edu/mnt/koji/repos/osg-3.2-el6-build/latest/x86_64/repodata/ for just-in-time, use the new build repo: https://koji.chtc.wisc.edu/mnt/koji/repos/osg-3.2-el8-build/latest/x86_64/repodata/ the primary and filelists (sqlite) files can be used to get runtime requires and provides. (Note that this includes packages from the relevant external repos, also.) generate srpms repodata for the current set of packages to build, with osg-build prebuild and createrepo. the primary (sqlite) file can be used to get build-requires. use sql to resolve direct dependencies at the package name level: src-pkg: bin-pkg (BuildRequires) bin-pkg: bin-pkg (Requires) bin-pkg: src-pkg (bin-pkg comes from which src-pkg? only needed for pre-computing dependencies) resolve this list into a full list of recursive build dependencies. Since this is recursive, there is no way to do it in a fixed number of sql queries. However the above input list is already directly consumable by Make, which is designed to handle recursive dependencies just like this. Or we can write a new tool to do it in python. build ready-to-be-built packages update our copy of the repodata from the regen'ed *-build repo, as often as new versions become available update our dependency lists repeat until all packages are built","title":"Koji Mass Rebuilds"},{"location":"software/koji-mass-rebuilds/#mass-rpm-rebuilds-for-a-new-build-target-in-koji","text":"Whenever we move to a new OSG series (OSG 3.3) and/or a new RHEL version (EL7), we want to make new builds for all of our packages in the new koji build target (osg-3.3-el7). Due to tricky build dependencies and unexpected build failures, this can be a messy task; and in the past we have gone about it in an ad-hoc manner. This document will discuss some of the aspects of the task and issues involved, some possible approaches, and ultimately a proposal for a general tool or procedure for doing our mass rebuilds.","title":"Mass RPM Rebuilds for a new Build Target in Koji"},{"location":"software/koji-mass-rebuilds/#new-rhel-version-vs-new-osg-series","text":"","title":"New RHEL version vs new OSG series"},{"location":"software/koji-mass-rebuilds/#new-rhel-version","text":"For a new RHEL version, we start with no osg packages to build against, so we are forced to build things in dependency order. Figuring out the dependency order is possibly the most difficult (or interesting) part of doing mass rebuilds -- more on that later.","title":"New RHEL version"},{"location":"software/koji-mass-rebuilds/#new-osg-series","text":"For a new OSG series within an existing RHEL version, we have more options. While it's possible to \"start from scratch\" the same way we would with a new RHEL version and build everything in dependency order, this is not really necessary if we take advantage of existing builds from the previous series. A prior step is to determine the package list for the new series -- this will be some combination of Upcoming and the current release series, minus any packages pruned for the new series. This should also be reflected in the new trunk packaging area. All the current builds for packages in that list (from upcoming + current series) can be tagged into the new *-development (or *-build) repos. This should make all of the build dependencies available for mass rebuilding the new series all at once (osg-build koji *). After some consideration, I wholeheartedly endorse this approach for new OSG series -- for all but academic exercises. Rebuilding in dependency order when all the dependencies are already built just seems like wasted effort.","title":"New OSG series"},{"location":"software/koji-mass-rebuilds/#doing-scratch-builds-of-everything-first","text":"Before doing the mass rebuilds in a new build target, it seems to be a good idea to do scratch builds of all the packages in the current series first. (Or, at least the ones we intend to bring into the new build target.) This will give us a chance to see any build failures that have crept in (possibly due to upstream changes in the OS or EPEL), and fix them first if desired, but in any case avoid the confusion of seeing the failures for the first time in the new build target. Doing mass scratch rebuilds for an existing series is easy, as they can all be done at once. Relatedly, doing a round of scratch builds after successfully building all packages into a new build target can also be useful, because it can reveal dependency issues only present in the new set of builds. Doing developer test installs or a round of VMU tests may also uncover any runtime dependency issues.","title":"Doing scratch builds of everything first"},{"location":"software/koji-mass-rebuilds/#options-for-calculating-build-dependencies","text":"We can get dependency information from a number of places: scraping .spec files for Requires/BuildRequires/Provides and %package names querying existing rpms directly on koji-hub and our OS/EPEL mirrors ( rpm -q ) querying srpms from osg-build prebuild directly for build requirements inspecting previous buildroots to determine resolved build dependencies use repoquery to determine whatrequires/whatprovides for packages use yum-builddep to find packages with all build requirements available using the repodata (primary+filelists) from rpm repositories, including: upcoming + 3.X development + external repos (Centos/EPEL/JPackage), OR osg-upcoming-elX-build, which includes them all One important aspect is that the runtime requirements are also relevant for determining build requirements, since a build will require installing all of the runtime requirements of the packages required for the build. That is, (A BuildRequires B) and (B Requires C) implies A BuildRequires C . Combined with the fact that runtime requirements are transitive, that is, (A Requires B) and (B Requires C) implies A Requires C , computing build requirements is a recursive operation, which can be many levels deep. Another question to keep in mind is whether to use versioned requires/provides (i.e., BuildRequires xyz >= 1.2-3) or to only pay attention to the package/capability names. Similarly, whether to pay any attention to conflicts/obsoletes. These would add complexity to anything except the standard tools (repoquery, yum-builddep) which already take these things into account. (And we may get pretty far even without paying attention to versions.) Note also that the dependencies/capabilities for a given package often varies between different rhel versions.","title":"Options for calculating build dependencies"},{"location":"software/koji-mass-rebuilds/#pre-computing-predictive-vs-just-in-time","text":"Two different approaches to determining dependency order for building are: pre compute all dependencies based on an existing series/rhel version, OR compute which remaining packages have all build reqs satisfied now The first approach has the benefit of being able to determine the packages that need to be built in order to accomplish a smaller subset goal first -- for example, to be able to install osg-wn-client. (And, if there are problems with resolving certain dependencies (say with osg-wn-client again), it will become apparent earlier, as opposed to not until all possible-to-build packages have been built.) The limitation of this approach is that the predicted set of files/capabilities that a binary package will provide may differ between osg series/rhel versions, and as a result may be inaccurate for the new build target. The second approach provides somewhat more confidence about being able to correctly determine which packages should be buildable at any point in time, but (as mentioned above) it is a bit more in the dark about seeing the bigger picture of the dependency graph or being able to build subsets of targets. It may be useful to have both options available -- building from the list in the second approach, but using the first mechanism to have a better picture of where things are at, or perhaps to steer toward finishing a certain subset of packages first.","title":"Pre-computing (predictive) vs just-in-time"},{"location":"software/koji-mass-rebuilds/#package-list-closure-pruning","text":"At some point (either in the planning stage or after building packages into the new build target), we need to ensure that the new osg series/rhel version contains all of its install requirements for all of its packages. It would probably suffice to do a VMU run that installs each package (perhaps individually, to avoid conflicts). But if we go about it more analytically, we may also get, as a result, a list of packages which we previously only maintained for the purpose of building our other packages (ie, that were never required at runtime for any use cases that we cared about), which now, in the new target, are no longer build requirements (directly or indirectly) for any packages that we care about installing. Packages in this category could be reviewed to also be dropped from the new build target.","title":"Package list closure, pruning"},{"location":"software/koji-mass-rebuilds/#proposal-recommendations","text":"As mentioned earlier, my recommendation is that we treat a new OSG series differently than a new RHEL version.","title":"Proposal / Recommendations"},{"location":"software/koji-mass-rebuilds/#for-a-new-osg-series","text":"update native/redhat packaging area to reflect packages for new series, including upcoming + trunk - removed packages tag existing builds of packages in new list into the new development tag (eg, for osg-3.3-el6, tag the .osgup.el6 and .osg32.el6 builds into osg-3.3-el6-development) build all packages in new packaging area into new build target at once for all successful builds, remove corresponding old builds (eg, .osgup/.osg32) from the new tag (osg-3.3-el6-development)","title":"For a new OSG series:"},{"location":"software/koji-mass-rebuilds/#for-a-new-rhel-version","text":"pull the repodata from the relevant *-build repo from koji: for pre-computing, use a build repo from an existing rhel version: https://koji.chtc.wisc.edu/mnt/koji/repos/osg-3.2-el6-build/latest/x86_64/repodata/ for just-in-time, use the new build repo: https://koji.chtc.wisc.edu/mnt/koji/repos/osg-3.2-el8-build/latest/x86_64/repodata/ the primary and filelists (sqlite) files can be used to get runtime requires and provides. (Note that this includes packages from the relevant external repos, also.) generate srpms repodata for the current set of packages to build, with osg-build prebuild and createrepo. the primary (sqlite) file can be used to get build-requires. use sql to resolve direct dependencies at the package name level: src-pkg: bin-pkg (BuildRequires) bin-pkg: bin-pkg (Requires) bin-pkg: src-pkg (bin-pkg comes from which src-pkg? only needed for pre-computing dependencies) resolve this list into a full list of recursive build dependencies. Since this is recursive, there is no way to do it in a fixed number of sql queries. However the above input list is already directly consumable by Make, which is designed to handle recursive dependencies just like this. Or we can write a new tool to do it in python. build ready-to-be-built packages update our copy of the repodata from the regen'ed *-build repo, as often as new versions become available update our dependency lists repeat until all packages are built","title":"For a new RHEL version:"},{"location":"software/koji-workflow/","text":"Koji Workflow \u00b6 This covers the basics of using and understanding the OSG Koji instance. It is meant primarily for OSG Software team members who need to interact with the service. Terminology \u00b6 Using and understanding the following terminology correctly will help in the reading of this document: Package This refers to a named piece of software in the Koji database. An example would be \"lcmaps\". Build A specific version and release of a package, and an associated state. A build state may be successful (and contain RPMs), failed, or in-progress. A given build may be in one or more tags. The build is associated with the output of the latest build task with the same version and release of the package. Tag A named set of packages and builds, parent tags, and reference to external repositories. An example would be the \"osg-3.3-el6-development\" tag, which contains (among others) the \"lcmaps\" package and the \"lcmaps-1.6.6-1.1.osg33.el6\" build. There is an inheritance structure to tags: by default, all packages/builds in a parent tag are added to the tag. A tag may contain a reference to (possibly inherited) external repositories; the RPMs in these repositories are added to repositories created from this tag. Examples of referenced external repositories include CentOS base, EPEL, or JPackage. Note A tag is NOT a yum repository. Target A target consists of a build tag and a destination tag. An example is \"osg-3.3-el6\", where the build tag is \"osg-3.3-el6-build\" and the destination tag is \"osg-3.3-el6\". A target is used by the build task to know what repository to build from and tag to build into. Task A unit of work for Koji. Several common tasks are: build This task takes a SRPM and a target, and attempts to create a complete Build in the target's destination tag from the target's build repository. This task will launch one buildArch task for each architecture in the destination tag; if each subtask is successful, then it will launch a tagBuild subtask. Note If the build task is marked as \"scratch\", then it won't result in a saved Build. buildArch This task takes a SRPM, architecture name, and a Koji repository as an input, and runs mock to create output RPMs for that arch. The build artifacts are added to the Build if all buildArch tasks are successful. tagBuild This adds a successful build to a given tag. newRepo This creates a new repository from a given tag. Build artifacts The results of a buildArch task. Their metadata are recorded in the Koji database, and files are saved to disk. Metadata may include checksums, timestamps, and who initiated the task. Artifacts may include RPMs, SRPMs, and build logs. Repository A yum repository created from the contents of a tag at a specific point in time. By default, the yum repository will contain all successful, non-blocked builds in the tag, plus all RPMs in the external repositories for the tag. Obtaining Access \u00b6 Building OSG packages in Koji requires these privileges: access to the OSG subversion repository at https://vdt.cs.wisc.edu/svn access to a login node at UW Comp Sci such as moria.cs.wisc.edu access to the Koji service via a grid user certificate See the user certificates document for information about how to get a user certificate. Open a Freshdesk ticket with the subject \"Requesting access to Koji\" with the following information: - top 3 username choices for the login node and SVN (8 characters max, no punctuation) - the DN of your user certificate Assign the ticket to the Software team. Initial Setup \u00b6 You will be using the OSG Build Tools to interact with Koji. You can use them on either your own machine or on your UW Comp Sci login node such as moria . Setting up on moria \u00b6 Perform the following to set up the build tools on moria : Clone the osg-build git repo you@moria$ git clone https://github.com/opensciencegrid/osg-build $HOME /osg-build Set your $PATH : you@moria$ export PATH = $PATH : $HOME /osg-build you@moria$ export PATH = $PATH :/p/vdt/workspace/quilt/bin you@moria$ export PATH = $PATH :/p/vdt/workspace/tarball-client/stable/sys Copy your user certificate and key into $HOME/.globus/usercert.pem and $HOME/.globus/userkey.pem . Make sure userkey.pem is only readable by yourself. (Optional) Load your certificate into your browser. This will allow you to make some changes using the Koji web interface . Set up the OSG Koji config you@moria$ osg-koji setup Answer \"yes\" to all questions. Setting up on your own host \u00b6 This requires an Enterprise Linux 6 or 7 host. Install the OSG YUM repositories If using OSG 3.5 or newer, enable the devops repository. Install osg-build and its dependencies: you@host$ sudo yum install osg-build Install a program for getting grid certificates you@host$ sudo yum install globus-proxy-utils Note If you already have voms-clients-cpp or voms-clients-java installed, you can use voms-proxy-init -rfc instead of grid-proxy-init , and don't need to install globus-proxy-utils . (Optional) If you want to do mock builds (these are local builds in a chroot), add yourself to the mock user group: you@host$ sudo usermod -a -G mock $USER Copy your user certificate and key into $HOME/.globus/usercert.pem and $HOME/.globus/userkey.pem . Make sure userkey.pem is only readable by yourself. Note If you are using a certificate from SAML or Kerberos credentials, such as with cigetcert or kx509 , skip this step. (Optional) Load your certificate into your browser. This will allow you to make some changes using the Koji web interface . Set up the OSG Koji config you@moria$ osg-koji setup Answer \"yes\" to all questions. Authenticating to Koji \u00b6 To use the OSG Build tools and the Koji command-line client, you will need to make sure you can authenticate to Koji. This involves getting a grid proxy certificate. Do one of the following: On moria Run osgrun grid-proxy-init -bits 2048 and type your grid certificate password. If you cannot find osgrun , ensure you have /p/vdt/workspace/tarball-client/stable/sys in your $PATH . On your local machine Run grid-proxy-init -bits 2048 (if using globus-proxy-utils ) or voms-proxy-init -rfc -bits 2048 (if using voms-clients ) and type your grid certificate password. On your local machine using SAML or Kerberos-based credentials Run cigetcert or kx509 and perform whatever identification challenges you are asked. To verify your login access and permissions, run: you@host$ osg-koji list-permissions --mine You should see a list of your permissions if successful, or an error message if unsuccessful. Note If you see the error SSL: EE_KEY_TOO_SMALL , OpenSSL may be rejecting your proxy because it is too short. Be sure to request at least 2048 bits by passing -bits 2048 to grid-proxy-init or voms-proxy-init . You can check the key length by examining your proxy: you@host$ openssl x509 -in /tmp/x509up_u $( id -u ) -noout -text and looking at the \"Subject Public Key Info\" which might look like Subject Public Key Info: Public Key Algorithm: rsaEncryption RSA Public-Key: (2048 bit) Using Koji \u00b6 Creating a new build \u00b6 We create a new build in Koji from the package's directory in OSG Software subversion. If a successful build already exists in Koji (regardless of whether it is in the tag you use), you cannot replace the build. Two builds are the same if they have the same NVR (Name-Version-Release). You can do a \"scratch\" build, which recompiles, but the results are not added to the tag. This is useful for experimenting with koji. To do a build, execute the following command from within the OSG Software subversion checkout: [you@host]$ osg-build koji <PACKAGE NAME> To do a scratch build, simply add the --scratch command line flag. When you do a non-scratch build, it will build with the osg-el6 and osg-el7 targets. This will assign your build the osg-3.4-el6-development and osg-3.4-el7-development tags (and your package will be assigned the osg-el6 and osg-el7 tags). If successful, your build will end up in the Koji osg-minefield yum repos and will eventually show up in the osg-development yum repos. This is a high latency process. Build task Results \u00b6 How to find build results \u00b6 The most recent build results are always shown on the home page of Koji: https://koji.opensciencegrid.org/koji/index Clicking on a build result brings you to the build information page. A successful build will result in the build page having build logs, RPMs, and a SRPM. If your build isn't in the recent list, you can use the search box in the upper-right-hand corner. Type the exact package name (or use a wildcard), and it will bring up a list of all builds for that package. You can find your build from there. For example, the \"lcmaps\" package page is here: https://koji.opensciencegrid.org/koji/packageinfo?packageID=56 And the lcmaps-1.6.6-1.1.osg33.el6 build is here: https://koji.opensciencegrid.org/koji/buildinfo?buildID=7427 Trying our your build \u00b6 Because it takes a while for your build to get into one of the regular repositories, it's simplest to download your RPM directly (see the previous section on How to find build results), and install it with: [root@host]# yum localinstall <RPM> How to get the resulting RPM into a repository \u00b6 Once a package has been built, it is added to a tag. We then must turn the tag into a yum repository. This is normally done automatically and you do not need to deal with it yourself. Three notes: The kojira daemon creates a repository automatically post-build on the koji-hub host. Eventually, the development repository will be the one hosted by koji-hub. The koji-hub repository can be created manually by running [you@host]$ osg-koji regen-repo <TAG NAME> For example, the tag name for osg-development in 3.4 on el6 is \"osg-3.4-el6-development\". Likely, you won't need to do this when kojira is working. - Repositories are created on external hosts with the mash tool. These are usually triggered by cron jobs, but may be run by hand too. Documentation for running mash is on the TODO list. - You can create your own personal repository using mash . Debugging build issues \u00b6 Failed build tasks can be seen from the Koji homepage. The logs from the tasks are included. Relevant logs include: root.log This is the log of mock trying to create an appropriate build root for your RPM. This will invoke yum twice: once to create a generic build root, once for all the dependencies in your BuildRequires. All RPMs in your build root will be logged here. If mock is unable to create the build root, the reason will show up here. 404 Errors If you see Error downloading packages and HTTP Error 404 - Not Found errors in your root.log , this commonly indicates that an rpm repo mirror was updated and our build repo is out-of-date. This can be fixed by regenerating the relevant build repos for your builds. This is usually something like osg-3.4-el7-build or osg-upcoming-el7-build ; but you can find the exact build tag by clicking the Build Target link for the koji task, and whatever is listed for the Build Tag is the name of the repo to regen. Regenerate each repo that failed with 404 errors: $ osg-koji regen-repo <BUILD TAG> build.log The output of the rpmbuild executable. If your package fails to compile, the reason will show up here. One input to the buildArch task is a repository, which is based on a Koji tag. If the repository hasn't been recreated for a dependency you need (for example, when kojira isn't working), you may not have the right RPMs available in your build root. One common issue is building a chain of dependencies. For example, suppose build B depends on the results of build A. If you build A then build B immediately, B will likely fail. This is because A is not in the repository that B uses. The proper string of events building A, starting the regeneration of the destination and build repo (which should happen in a few minutes of the build A task completing), then submitting build task B. Note if you submit build task B while the build repository task is open, it will not start until the build task has finished. Other errors package <PACKAGE NAME> not in list for tag <TAG> This happens when the name of the directory your package is in does not match the name of the package. You must rename one or the other and commit your changes before trying again. Promoting Builds from Development -> Testing \u00b6 Software contributors can promote any package to testing. Members of the security team can promote ca-cert packages to testing. To promote from development to testing: Using osg-promote \u00b6 Before using osg-promote , authenticate to Koji as above . If you want to promote the latest version: [you@host]$ osg-promote -r <OSGVER>-testing <PACKAGE NAME> <PACKAGE NAME> is the bare package name without version, e.g. gratia-probe . If you want to promote a specific version: [you@host]$ osg-promote -r <OSGVER>-testing <BUILD NAME> <BUILD NAME> is a full name-version-revision.disttag such as gratia-probe-1.17.0-2.osg33.el6 . <OSGVER> is the OSG major version that you are promoting for (e.g. 3.4 ). osg-promote will promote both the el6 and el7 builds of a package. After promoting, copy and paste the JIRA code osg-promote produces into the JIRA ticket that you are working on. For osg-promote , you may omit the .osg34.el6 or .osg34.el7 ; the script will add the appropriate disttag on. See OSG Building Tools for full details on osg-promote . Creating custom koji areas \u00b6 Occasionally you may want to make builds of a package (or packages) which you do not yet want to go into the main development repos. In this case, you can create a set of custom koji tags and build targets for these builds. We have a script in our osg-next-tools repo called new-koji-area that facilitates this set up. Further reading \u00b6 Official Koji documentation: https://docs.pagure.org/koji/ Fedora's koji documentation: https://fedoraproject.org/wiki/Koji Fedora's \"Using Koji\" page: https://docs.fedoraproject.org/en-US/package-maintainers/Using_the_Koji_Build_System/ Note that some instructions there may not apply to OSG's Koji. For the most part though, they are useful.","title":"Koji Workflow"},{"location":"software/koji-workflow/#koji-workflow","text":"This covers the basics of using and understanding the OSG Koji instance. It is meant primarily for OSG Software team members who need to interact with the service.","title":"Koji Workflow"},{"location":"software/koji-workflow/#terminology","text":"Using and understanding the following terminology correctly will help in the reading of this document: Package This refers to a named piece of software in the Koji database. An example would be \"lcmaps\". Build A specific version and release of a package, and an associated state. A build state may be successful (and contain RPMs), failed, or in-progress. A given build may be in one or more tags. The build is associated with the output of the latest build task with the same version and release of the package. Tag A named set of packages and builds, parent tags, and reference to external repositories. An example would be the \"osg-3.3-el6-development\" tag, which contains (among others) the \"lcmaps\" package and the \"lcmaps-1.6.6-1.1.osg33.el6\" build. There is an inheritance structure to tags: by default, all packages/builds in a parent tag are added to the tag. A tag may contain a reference to (possibly inherited) external repositories; the RPMs in these repositories are added to repositories created from this tag. Examples of referenced external repositories include CentOS base, EPEL, or JPackage. Note A tag is NOT a yum repository. Target A target consists of a build tag and a destination tag. An example is \"osg-3.3-el6\", where the build tag is \"osg-3.3-el6-build\" and the destination tag is \"osg-3.3-el6\". A target is used by the build task to know what repository to build from and tag to build into. Task A unit of work for Koji. Several common tasks are: build This task takes a SRPM and a target, and attempts to create a complete Build in the target's destination tag from the target's build repository. This task will launch one buildArch task for each architecture in the destination tag; if each subtask is successful, then it will launch a tagBuild subtask. Note If the build task is marked as \"scratch\", then it won't result in a saved Build. buildArch This task takes a SRPM, architecture name, and a Koji repository as an input, and runs mock to create output RPMs for that arch. The build artifacts are added to the Build if all buildArch tasks are successful. tagBuild This adds a successful build to a given tag. newRepo This creates a new repository from a given tag. Build artifacts The results of a buildArch task. Their metadata are recorded in the Koji database, and files are saved to disk. Metadata may include checksums, timestamps, and who initiated the task. Artifacts may include RPMs, SRPMs, and build logs. Repository A yum repository created from the contents of a tag at a specific point in time. By default, the yum repository will contain all successful, non-blocked builds in the tag, plus all RPMs in the external repositories for the tag.","title":"Terminology"},{"location":"software/koji-workflow/#obtaining-access","text":"Building OSG packages in Koji requires these privileges: access to the OSG subversion repository at https://vdt.cs.wisc.edu/svn access to a login node at UW Comp Sci such as moria.cs.wisc.edu access to the Koji service via a grid user certificate See the user certificates document for information about how to get a user certificate. Open a Freshdesk ticket with the subject \"Requesting access to Koji\" with the following information: - top 3 username choices for the login node and SVN (8 characters max, no punctuation) - the DN of your user certificate Assign the ticket to the Software team.","title":"Obtaining Access"},{"location":"software/koji-workflow/#initial-setup","text":"You will be using the OSG Build Tools to interact with Koji. You can use them on either your own machine or on your UW Comp Sci login node such as moria .","title":"Initial Setup"},{"location":"software/koji-workflow/#setting-up-on-moria","text":"Perform the following to set up the build tools on moria : Clone the osg-build git repo you@moria$ git clone https://github.com/opensciencegrid/osg-build $HOME /osg-build Set your $PATH : you@moria$ export PATH = $PATH : $HOME /osg-build you@moria$ export PATH = $PATH :/p/vdt/workspace/quilt/bin you@moria$ export PATH = $PATH :/p/vdt/workspace/tarball-client/stable/sys Copy your user certificate and key into $HOME/.globus/usercert.pem and $HOME/.globus/userkey.pem . Make sure userkey.pem is only readable by yourself. (Optional) Load your certificate into your browser. This will allow you to make some changes using the Koji web interface . Set up the OSG Koji config you@moria$ osg-koji setup Answer \"yes\" to all questions.","title":"Setting up on moria"},{"location":"software/koji-workflow/#setting-up-on-your-own-host","text":"This requires an Enterprise Linux 6 or 7 host. Install the OSG YUM repositories If using OSG 3.5 or newer, enable the devops repository. Install osg-build and its dependencies: you@host$ sudo yum install osg-build Install a program for getting grid certificates you@host$ sudo yum install globus-proxy-utils Note If you already have voms-clients-cpp or voms-clients-java installed, you can use voms-proxy-init -rfc instead of grid-proxy-init , and don't need to install globus-proxy-utils . (Optional) If you want to do mock builds (these are local builds in a chroot), add yourself to the mock user group: you@host$ sudo usermod -a -G mock $USER Copy your user certificate and key into $HOME/.globus/usercert.pem and $HOME/.globus/userkey.pem . Make sure userkey.pem is only readable by yourself. Note If you are using a certificate from SAML or Kerberos credentials, such as with cigetcert or kx509 , skip this step. (Optional) Load your certificate into your browser. This will allow you to make some changes using the Koji web interface . Set up the OSG Koji config you@moria$ osg-koji setup Answer \"yes\" to all questions.","title":"Setting up on your own host"},{"location":"software/koji-workflow/#authenticating-to-koji","text":"To use the OSG Build tools and the Koji command-line client, you will need to make sure you can authenticate to Koji. This involves getting a grid proxy certificate. Do one of the following: On moria Run osgrun grid-proxy-init -bits 2048 and type your grid certificate password. If you cannot find osgrun , ensure you have /p/vdt/workspace/tarball-client/stable/sys in your $PATH . On your local machine Run grid-proxy-init -bits 2048 (if using globus-proxy-utils ) or voms-proxy-init -rfc -bits 2048 (if using voms-clients ) and type your grid certificate password. On your local machine using SAML or Kerberos-based credentials Run cigetcert or kx509 and perform whatever identification challenges you are asked. To verify your login access and permissions, run: you@host$ osg-koji list-permissions --mine You should see a list of your permissions if successful, or an error message if unsuccessful. Note If you see the error SSL: EE_KEY_TOO_SMALL , OpenSSL may be rejecting your proxy because it is too short. Be sure to request at least 2048 bits by passing -bits 2048 to grid-proxy-init or voms-proxy-init . You can check the key length by examining your proxy: you@host$ openssl x509 -in /tmp/x509up_u $( id -u ) -noout -text and looking at the \"Subject Public Key Info\" which might look like Subject Public Key Info: Public Key Algorithm: rsaEncryption RSA Public-Key: (2048 bit)","title":"Authenticating to Koji"},{"location":"software/koji-workflow/#using-koji","text":"","title":"Using Koji"},{"location":"software/koji-workflow/#creating-a-new-build","text":"We create a new build in Koji from the package's directory in OSG Software subversion. If a successful build already exists in Koji (regardless of whether it is in the tag you use), you cannot replace the build. Two builds are the same if they have the same NVR (Name-Version-Release). You can do a \"scratch\" build, which recompiles, but the results are not added to the tag. This is useful for experimenting with koji. To do a build, execute the following command from within the OSG Software subversion checkout: [you@host]$ osg-build koji <PACKAGE NAME> To do a scratch build, simply add the --scratch command line flag. When you do a non-scratch build, it will build with the osg-el6 and osg-el7 targets. This will assign your build the osg-3.4-el6-development and osg-3.4-el7-development tags (and your package will be assigned the osg-el6 and osg-el7 tags). If successful, your build will end up in the Koji osg-minefield yum repos and will eventually show up in the osg-development yum repos. This is a high latency process.","title":"Creating a new build"},{"location":"software/koji-workflow/#build-task-results","text":"","title":"Build task Results"},{"location":"software/koji-workflow/#how-to-find-build-results","text":"The most recent build results are always shown on the home page of Koji: https://koji.opensciencegrid.org/koji/index Clicking on a build result brings you to the build information page. A successful build will result in the build page having build logs, RPMs, and a SRPM. If your build isn't in the recent list, you can use the search box in the upper-right-hand corner. Type the exact package name (or use a wildcard), and it will bring up a list of all builds for that package. You can find your build from there. For example, the \"lcmaps\" package page is here: https://koji.opensciencegrid.org/koji/packageinfo?packageID=56 And the lcmaps-1.6.6-1.1.osg33.el6 build is here: https://koji.opensciencegrid.org/koji/buildinfo?buildID=7427","title":"How to find build results"},{"location":"software/koji-workflow/#trying-our-your-build","text":"Because it takes a while for your build to get into one of the regular repositories, it's simplest to download your RPM directly (see the previous section on How to find build results), and install it with: [root@host]# yum localinstall <RPM>","title":"Trying our your build"},{"location":"software/koji-workflow/#how-to-get-the-resulting-rpm-into-a-repository","text":"Once a package has been built, it is added to a tag. We then must turn the tag into a yum repository. This is normally done automatically and you do not need to deal with it yourself. Three notes: The kojira daemon creates a repository automatically post-build on the koji-hub host. Eventually, the development repository will be the one hosted by koji-hub. The koji-hub repository can be created manually by running [you@host]$ osg-koji regen-repo <TAG NAME> For example, the tag name for osg-development in 3.4 on el6 is \"osg-3.4-el6-development\". Likely, you won't need to do this when kojira is working. - Repositories are created on external hosts with the mash tool. These are usually triggered by cron jobs, but may be run by hand too. Documentation for running mash is on the TODO list. - You can create your own personal repository using mash .","title":"How to get the resulting RPM into a repository"},{"location":"software/koji-workflow/#debugging-build-issues","text":"Failed build tasks can be seen from the Koji homepage. The logs from the tasks are included. Relevant logs include: root.log This is the log of mock trying to create an appropriate build root for your RPM. This will invoke yum twice: once to create a generic build root, once for all the dependencies in your BuildRequires. All RPMs in your build root will be logged here. If mock is unable to create the build root, the reason will show up here. 404 Errors If you see Error downloading packages and HTTP Error 404 - Not Found errors in your root.log , this commonly indicates that an rpm repo mirror was updated and our build repo is out-of-date. This can be fixed by regenerating the relevant build repos for your builds. This is usually something like osg-3.4-el7-build or osg-upcoming-el7-build ; but you can find the exact build tag by clicking the Build Target link for the koji task, and whatever is listed for the Build Tag is the name of the repo to regen. Regenerate each repo that failed with 404 errors: $ osg-koji regen-repo <BUILD TAG> build.log The output of the rpmbuild executable. If your package fails to compile, the reason will show up here. One input to the buildArch task is a repository, which is based on a Koji tag. If the repository hasn't been recreated for a dependency you need (for example, when kojira isn't working), you may not have the right RPMs available in your build root. One common issue is building a chain of dependencies. For example, suppose build B depends on the results of build A. If you build A then build B immediately, B will likely fail. This is because A is not in the repository that B uses. The proper string of events building A, starting the regeneration of the destination and build repo (which should happen in a few minutes of the build A task completing), then submitting build task B. Note if you submit build task B while the build repository task is open, it will not start until the build task has finished. Other errors package <PACKAGE NAME> not in list for tag <TAG> This happens when the name of the directory your package is in does not match the name of the package. You must rename one or the other and commit your changes before trying again.","title":"Debugging build issues"},{"location":"software/koji-workflow/#promoting-builds-from-development-testing","text":"Software contributors can promote any package to testing. Members of the security team can promote ca-cert packages to testing. To promote from development to testing:","title":"Promoting Builds from Development -&gt; Testing"},{"location":"software/koji-workflow/#using-osg-promote","text":"Before using osg-promote , authenticate to Koji as above . If you want to promote the latest version: [you@host]$ osg-promote -r <OSGVER>-testing <PACKAGE NAME> <PACKAGE NAME> is the bare package name without version, e.g. gratia-probe . If you want to promote a specific version: [you@host]$ osg-promote -r <OSGVER>-testing <BUILD NAME> <BUILD NAME> is a full name-version-revision.disttag such as gratia-probe-1.17.0-2.osg33.el6 . <OSGVER> is the OSG major version that you are promoting for (e.g. 3.4 ). osg-promote will promote both the el6 and el7 builds of a package. After promoting, copy and paste the JIRA code osg-promote produces into the JIRA ticket that you are working on. For osg-promote , you may omit the .osg34.el6 or .osg34.el7 ; the script will add the appropriate disttag on. See OSG Building Tools for full details on osg-promote .","title":"Using osg-promote"},{"location":"software/koji-workflow/#creating-custom-koji-areas","text":"Occasionally you may want to make builds of a package (or packages) which you do not yet want to go into the main development repos. In this case, you can create a set of custom koji tags and build targets for these builds. We have a script in our osg-next-tools repo called new-koji-area that facilitates this set up.","title":"Creating custom koji areas"},{"location":"software/koji-workflow/#further-reading","text":"Official Koji documentation: https://docs.pagure.org/koji/ Fedora's koji documentation: https://fedoraproject.org/wiki/Koji Fedora's \"Using Koji\" page: https://docs.fedoraproject.org/en-US/package-maintainers/Using_the_Koji_Build_System/ Note that some instructions there may not apply to OSG's Koji. For the most part though, they are useful.","title":"Further reading"},{"location":"software/new-team-member/","text":"Setup Instructions for New Team Members \u00b6 Computing account at FNAL To get this, follow the instructions here . ssh access to a UW CompSci account, including AFS access Send email to Tim C with top 3 requested usernames Read/write access to the UW Subversion repository; Send email to Mat or Tim C User certificate Obtain a user certificate here: https://cilogon.org Import the certificate into your browser of choice Access to FermiCloud fermicloud-help AT fnal.gov Register for a GGUS account with the following information: Your certificate's subject DN Select none from the \"Virtual Organization\" drop-down Select yes for \"Do you want to have support access?\" and answer \"Why?\" with the following: Yes, I need to comment on tickets as a member of the OSG Software & Release Team (https://www.opensciencegrid.org/technology/#the-team) Jira ticket system Send email to goc@opensciencegrid.org and request access to JIRA Access to Koji Follow the instructions on the Koji User Management doc Sign up for mailing lists software-discuss@opensciencegrid.org technology-team@opensciencegrid.org osg-commits@cs.wisc.edu GitHub team membership https://github.com/orgs/opensciencegrid/teams/software-and-release/members UNL repository access Send SSH public key to Tim T, Derek, or Brian L to gain access to the UNL repository (osgcollab@hcc-osg-software.unl.edu) If > 50% S&R, add them to the triage schedule","title":"New Team Member"},{"location":"software/new-team-member/#setup-instructions-for-new-team-members","text":"Computing account at FNAL To get this, follow the instructions here . ssh access to a UW CompSci account, including AFS access Send email to Tim C with top 3 requested usernames Read/write access to the UW Subversion repository; Send email to Mat or Tim C User certificate Obtain a user certificate here: https://cilogon.org Import the certificate into your browser of choice Access to FermiCloud fermicloud-help AT fnal.gov Register for a GGUS account with the following information: Your certificate's subject DN Select none from the \"Virtual Organization\" drop-down Select yes for \"Do you want to have support access?\" and answer \"Why?\" with the following: Yes, I need to comment on tickets as a member of the OSG Software & Release Team (https://www.opensciencegrid.org/technology/#the-team) Jira ticket system Send email to goc@opensciencegrid.org and request access to JIRA Access to Koji Follow the instructions on the Koji User Management doc Sign up for mailing lists software-discuss@opensciencegrid.org technology-team@opensciencegrid.org osg-commits@cs.wisc.edu GitHub team membership https://github.com/orgs/opensciencegrid/teams/software-and-release/members UNL repository access Send SSH public key to Tim T, Derek, or Brian L to gain access to the UNL repository (osgcollab@hcc-osg-software.unl.edu) If > 50% S&R, add them to the triage schedule","title":"Setup Instructions for New Team Members"},{"location":"software/osg-build-tools/","text":"OSG Build Tools \u00b6 This page documents the tools used for RPM development for the OSG Software Stack. See the RPM development guide for the principles on which these tools are based. The tools are distributed in the osg-build RPM in our repositories, but can also be used from a Git clone of opensciencegrid/osg-build on GitHub . This page is up-to-date as of osg-build version 1.14.1. The tools \u00b6 osg-build \u00b6 Overview \u00b6 This is the primary tool used in building source and binary RPMs. osg-build <TASK> [options] <PACKAGE DIRECTORY> [...] package_directory is a directory containing an osg/ and/or an upstream/ subdirectory. See the RPM development guide for how these directories are organized. Tasks \u00b6 koji \u00b6 Prebuilds the final source package, then builds it remotely using the Koji instance hosted at UW-Madison. https://koji.opensciencegrid.org By default, the resulting RPMs will end up in the osg-minefield repositories based on the most recent OSG major version (e.g. 3.4). You may specify a different set of repos with --repo , described later. RPMs from the osg-minefield repositories are regularly pulled to the osg-development repositories hosted by the GOC at http://repo.opensciencegrid.org Unless you specify otherwise (by passing --el6 , --el7 or specifying a different koji tag/target), the package will be built for both el6 and el7. This is the method used to build final versions of packages you expect to ship. lint \u00b6 Prebuilds the final source package, then runs rpmlint on it to check for various problems. You will need to have rpmlint installed. People on UW CSL machines should add /p/vdt/workspace/rpmlint to their $PATH. mock \u00b6 Prebuilds the final source package, then builds it locally using mock , and stores the resulting source and binary RPMs in the package-specific _build_results directory. prebuild \u00b6 Prebuilds the final source package from upstream sources (if any) and local files (if any). May create or overwrite the _upstream_srpm_contents and _final_srpm_contents directories. prepare \u00b6 Prebuilds the final source package, then calls rpmbuild -bp on the result, extracting and patching the source files (and performing any other steps defined in the %prep section of the spec file. The resulting sources will be under _final_srpm_contents . rpmbuild \u00b6 Prebuilds the final source package, then builds it locally using rpmbuild , and stores the resulting source and binary RPMs in the package-specific _build_results directory. quilt \u00b6 Collects the upstream local sources and spec file, then calls quilt setup on the spec file, extracting the source files and adding the patches to a quilt series file. See Quilt documentation (PDF link) for more information on quilt; also look at the example in the Usage Patterns section below. Similar to prepare (in fact, quilt calls rpmbuild -bp behind the scenes), but the source tree is in pre-patch state, and various quilt commands can be used to apply and modify patches. Unpacks into _quilt as of osg-build-1.2.2 or _final_srpm_contents in previous versions. Requires quilt . People on UW CSL machines should add /p/vdt/workspace/quilt/bin to their $PATH , and /p/vdt/workspace/quilt/share/man to their $MANPATH . Options \u00b6 This section lists the command-line options. --help \u00b6 Prints the built-in usage information and exits without doing anything else. --version \u00b6 Prints the version of osg-build and exits without doing anything else. Common Options \u00b6 -a, --autoclean, --no-autoclean \u00b6 Before each build, clean out the contents of the underscore directories (_build_results, _final_srpm_contents, _upstream_srpm_contents, _upstream_tarball_contents). If the directories are not cleaned up, earlier builds of a package may interfere with later ones. --no-autoclean will disable this. Default is true . Has no effect with the --vcs flag. -c, --cache-prefix prefix \u00b6 Sets the prefix for upstream source cache references. The prefix must be a valid URI starting with either http , https , or file , or one of the following special values: AFS (corresponds to file:///p/vdt/public/html/upstream , which is the location of the VDT cache using AFS from a UW CS machine). VDT (corresponds to http://vdt.cs.wisc.edu/upstream , which is the location of the VDT cache from off-site). AUTO (AFS if available, VDT if not) The upstream source cache must be organized as described above. All files referenced by .source files in the affected packages must exist in the cache, or a runtime error will occur. Default is AUTO . Has no effect with the --vcs flag. --el6, --el7, --redhat-release version (Config: redhat_release) \u00b6 Sets the distro version to build for. This affects the %dist tag, the mock config, and the default koji tag and target (unless otherwise specified). --el6 is equivalent to --redhat-release 6 --el7 is equivalent to --redhat-release 7 --loglevel loglevel \u00b6 Sets the verbosity of the script. Valid values are: debug , info , warning , error and critical . Default is info . -q, --quiet \u00b6 Do not display as much information. Equivalent to --loglevel warning -v, --verbose \u00b6 Display more information. Equivalent to --loglevel debug -w, --working-directory path \u00b6 Use path as the root directory of the files created by the script. For example, if path is $HOME/working , and the package being built is ndt , the following tree will be created: $HOME/working/ndt/_upstream_srpm_contents $HOME/working/ndt/_upstream_tarball_contents $HOME/working/ndt/_final_srpm_contents $HOME/working/ndt/_build_results If path is TEMP , a randomly named directory under /tmp is used as the working directory. The default setting is to use the package directory as the working directory. Has no effect with the --vcs flag. Options specific to prebuild task \u00b6 --full-extract \u00b6 If set, all upstream tarballs will be extracted into _upstream_tarball_contents/ during the prebuild step. This flag is now mostly redundant with the prepare and quilt tasks. Options specific to rpmbuild and mock tasks \u00b6 --distro-tag dist \u00b6 Sets the distribution tag added on to the end of the release in the RPM ( rpmbuild and mock tasks only ). Default is .osg.el6 or .osg.el7 -t, --target-arch arch \u00b6 Specify an architecture to build packages for ( rpmbuild and mock tasks only ). Default is unspecified, which builds for the current machine architecture. Options specific to mock task \u00b6 --mock-clean, --no-mock-clean \u00b6 Enable/disable deletion of the mock buildroot after a successful build. Default is true . -m, --mock-config path \u00b6 Specifies the mock configuration file to use. This file details how to set up the build environment used by mock for the build, including Yum repositories from which to install dependencies and certain predefined variables (e.g., the distribution tag %dist ). See also --mock-config-from-koji . --mock-config-from-koji build tag \u00b6 Creates a mock config from a Koji build tag. This is the most accurate way to replicate the build environment that Koji will provide (outside of Koji). The build tag is based on the distro version (el6, el7) and the OSG major version (3.3, 3.4). For 3.4 on el6, it is: osg-3.4-el6-build Also requires the Koji command-line tools (package koji ), obtainable from the osg repositories. Since this uses koji, some of the koji-specific options may apply, namely: --koji-backend , --koji-login , and --koji-wrapper . Options specific to koji task \u00b6 --dry-run \u00b6 Do not actually run koji, merely show the command(s) that will be run. For debugging purposes. --getfiles, --get-files \u00b6 For scratch builds without --vcs only. Download the resulting RPMs and logs from the build into the _build_results directory. -k, --kojilogin, --koji-login login \u00b6 Sets the login to use for the koji task. This should most likely be your CN. If not specified, will extract it from your client cert ( ~/.osg-koji/client.crt or ~/.koji/client.crt ). --koji-target target \u00b6 The koji target to use for building. Default is osg-el6 for el6 and osg-el7 for el7. --koji-tag tag \u00b6 The koji tag to add packages to. See the Koji Workflow guide for more information on the terminology. The special value TARGET uses the destination tag defined in the koji target. Default is osg-el6 or osg-el7 . --ktt, --koji-tag-and-target arg \u00b6 Shorthand for setting both --koji-tag and --koji-target to arg . --koji-wrapper, --no-koji-wrapper \u00b6 Enable/disable use of the osg-koji wrapper script around koji. See below for a description of osg-koji . Default is true . --koji-backend backend \u00b6 Specifies the method osg-build will use to interface with Koji. This can be shell or kojilib . --wait, --no-wait, --nowait \u00b6 Wait for koji tasks to finish. Bad for running multiple builds in a single command, since you will have to type in your passphrase for the first one, wait for it to complete, then type in your passphrase for the second one, wait for it to complete, etc. If you want to wait for multiple tasks to finish, use the koji watch-task command or look at the website https://koji.opensciencegrid.org . --wait used to be the default until osg-build-1.1.3 --regen-repos \u00b6 Start a regen-repo koji task on the build tag after each koji build, to update the build repository used for the next build. Not useful unless you are launching multiple builds. This enables you to launch builds that depend on each other. Doesn't work too well with --no-wait , since the next build may be started before the regen-repo task is complete. Waiting will keep the next build from being queued until the regen-repo is complete. --scratch, --no-scratch \u00b6 Perform scratch builds. A scratch build does not go into a repository, but the name-version-release (NVR) of the created RPMs are not considered used, so the build may be modified and repeated without needing a release bump. This has the same use case as the mock task: creating packages that you want to test before releasing. If you do not have a machine with mock set up, or want to test exactly the environment that Koji provides, scratch builds might be more convenient. --vcs, --no-vcs, --svn, --no-svn \u00b6 Have Koji check the package out from a version control system instead of creating an SRPM on the local machine and submitting that to Koji. Currently, SVN and Git are supported. If this flag is specified, you may use SVN URLs or URL@Revision pairs to specify the packages to build. You may continue specify package directories from an SVN checkout, in which case osg-build will use svn info to find the right URL@Revision pair to use and warn you about uncommitted changes. osg-build will also warn you about an outdated working directory. --vcs defaults to true for non-scratch builds, and false for scratch builds. --repo= destination repository , --upcoming \u00b6 Selects the repositories (osg-3.3, upcoming, etc.) to build packages for. Currently valid repositories are: Repository Description osg OSG Software development repos for trunk (this is the default) osg-3.3 (or just 3.3) OSG Software development repos for 3.3 branch upcoming OSG Software development repos for upcoming branch internal OSG Software internal branch hcc Holland Computing Center (Nebraska) testing repos --upcoming is an alias for --repo=upcoming Note that the repo selection affects which VCS paths you are allowed to build from. For example, you are not allowed to build from branches/osg-3.3 (from the OSG SVN) into the 'osg' repo, or from HCC's git repositories into the 'upcoming' repo. koji-tag-diff \u00b6 This script displays the differences between the latest packages in two koji tags. Example invocation: koji-tag-diff osg-3.4-el6-development osg-3.4-el7-testing This prints the packages that are in osg-3.4-el6-development but not in osg-3.4-el7-testing, or vice versa. osg-build-test \u00b6 This script runs automated tests for osg-build . Only a few tests have been implemented so far. osg-import-srpm \u00b6 This is a script to fetch an SRPM from a remote site, copy it into the upstream cache on AFS, and create an SVN package dir (if needed) with an upstream/*.source file. By default it will put downloaded files into the VDT upstream cache (/p/vdt/public/html/upstream), but you can pass --upstream-root=<UPSTREAM DIR> to put them somewhere else. If called with the --extract-spec or -e argument, it will extract the spec file from the SRPM and place it into the osg subdir in SVN. If called with the --diff-spec or -d argument, it will extract the spec file and compare it to the existing spec file in the osg subdir. The script hasn't been touched in a while and needs a good deal of cleanup. A planned feature is to allow doing a three-way diff between the existing RPM before OSG modifications, the new RPM before OSG modifications and the existing RPM after OSG modifications. osg-koji \u00b6 This is a wrapper script around the koji command line tool. It automatically specifies parameters to access the OSG's koji instance, and forces SSL authentication. It takes the same parameters as koji and passes them on. An additional command, osg-koji setup exists, which performs the following tasks: Create a koji configuration in ~/.osg-koji Create a CA bundle for verifying the server. Use either files in /etc/grid-security/certificates , or (if those are not found), from files downloaded from the DOEGrids and DigiCert sites. Create a client cert file. This can be a symlink to your grid proxy, or it can be a file created from your grid public and private key files. The location of those files can be specified by the --usercert and --userkey arguments. If unspecified, usercert defaults to ~/.globus/usercert.pem , and userkey defaults to ~/.globus/userkey.pem . osg-promote \u00b6 Overview \u00b6 Run this script to push packages from one set of repos to another (e.g. from development to testing), according to the OSG software promotion guidelines. Once the packages are promoted, the script will generate code to cut and paste into a JIRA comment. Synopsis \u00b6 osg-promote [-r|--route <ROUTE>]... [options] <PACKAGE OR BUILD> [...] Examples \u00b6 Promote the latest build of osg-version to testing for the current release series osg-promote -r testing osg-version Promote the latest builds of osg-ce to testing for the 3.3 and 3.4 release series osg-promote -r 3.3-testing -r 3.4-testing osg-ce Promote osg-build-1.5.0-1 to testing for the current release series osg-promote -r testing osg-build-1.5.0-1 Arguments \u00b6 -h \u00b6 Display help and a list of valid routes. package or build \u00b6 A package (e.g. osg-version ) or build (e.g. osg-version-3.3.0-1.osg33.el6 ) to promote. You may omit the dist tag (the .osg33.el6 part). If a package is specified, the most recent version of that package will be promoted. If a build is specified, that build and the build that has the same version - release for the other distro version(s) will be promoted. That is, if you specify the route 3.3-testing and the build foo-1-1 , then foo-1-1.osg33.el6 and foo-1-1.osg33.el7 will be promoted. This may be specified multiple times, to promote multiple packages. The NVRs of each set of builds for a package must match. -r ROUTE , --route ROUTE \u00b6 The promotion route to use. Use osg-promote -h to get a list of valid routes. This may be specified multiple times. For example, to promote for both 3.4 and 3.3, pass -r 3.4-testing -r 3.3-testing . If not specified, the testing route is used, which corresponds to the testing route for the latest release series. -n, --dry-run \u00b6 Do not promote, just show what would be done. --el6-only / --el7-only \u00b6 Only promote packages for el6 / el7. --no-el6 / --no-el7 \u00b6 Do not promote packages for el6 / el7. --ignore-rejects \u00b6 Ignore rejections due to version mismatch between dvers or missing package for one dver. --regen \u00b6 Regenerate the destination repos after promoting. -y, --assume-yes \u00b6 Do not prompt before promotion. Common Usage Patterns \u00b6 Verify that all files necessary to build the package are in the right place \u00b6 Run osg-build prebuild <PACKAGEDIR> . Fetch and extract all source files for examination \u00b6 Run osg-build prebuild --full-extract <PACKAGEDIR> . Look inside the _upstream_tarball_contents directory. Get a post-patch version of the upstream sources for examination \u00b6 Run osg-build prepare <PACKAGEDIR> . Look inside the _build_results directory. See which patches work with a new version of a package, update or remove them \u00b6 Place the new source tarball into the upstream cache, edit the version in the spec file and *.sources files as necessary Run osg-build quilt <PACKAGEDIR> . Enter the extracted sources inside the _final_srpm_contents directory. You should see a file called series and a symlink called patches . Type quilt series to get a list of patches in order of application. Type quilt push to apply the next patch. If the patch applies cleanly, continue. If the patch applies with some fuzz, type quilt refresh to update the offsets in the patch. If the patch does not apply and you wish to remove it, type quilt delete <PATCH NAME> (delete only removes it from the series file, not the disk) If the patch does not apply and you wish to fix it, either type quilt push -f to interactively apply the patch, or quilt delete <PATCH NAME> the patch and use quilt new / quilt edit / quilt refresh to edit files and make a new patch from your changes. Consult the quilt(1) manpage for more info. If you have a new patch, run quilt import <PATCHFILE> to add the patch to the series file, and run quilt push to apply it. If you have changes to make to the source code that you want to save as a patch, type quilt new <PATCHNAME> , edit the files, type quilt add <FILE> on each file you edited, then type quilt refresh to recreate the patch. Once you're all done, copy the patches in the patches/ directory to the osg/ dir in SVN, run quilt series to get the application order and update the spec file accordingly. See if a package builds successfully for OSG 3.4 \u00b6 If you have all the build dependencies of the package installed, run osg-build rpmbuild <PACKAGEDIR> . The resulting RPMs will be in the _build_results directory. If you do not have all the build dependencies installed, or want to make sure you specified all of the necessary ones and the package builds from a clean environment, run osg-build mock --mock-config-from-koji osg-3.4-el6-build <PACKAGEDIR> . The resulting RPMs will be in the _build_results directory. If you do not have mock installed, or want to exactly replicate the build environment in Koji, run osg-build koji --scratch <PACKAGEDIR> . You may download the resulting RPMs from kojiweb https://koji.opensciencegrid.org/koji or pass --getfiles to osg-build koji and they will get downloaded to the _build_results directory. Check for potential errors in a package \u00b6 Run osg-build lint <PACKAGEDIR> . Create and test a final build of a package for all platforms for upcoming \u00b6 svn commit your changes in branches/upcoming . Type osg-build koji --repo=upcoming <PACKAGEDIR> Wait for the osg-upcoming-minefield repos to be regenerated containing the new version of your package. You can run osg-koji wait-repo osg-upcoming-el<X>-development --build=<PACKAGENAME-VERSION-RELEASE> and wait for that process to finish (substitute 6 or 7 for X ). Or, you can just check kojiweb https://koji.opensciencegrid.org/koji/tasks . On your test machine, make sure the osg-upcoming-minefield repo is enabled (edit /etc/yum.repos.d/osg-upcoming-minefield.repo or /etc/yum.repos.d/osg-el6-upcoming-minefield.repo ). Clean your cache ( yum clean all; yum clean expire-cache ). Install your software, see if it works. Promote the latest build of a package to testing for the current OSG release series \u00b6 Run osg-promote -r testing <PACKAGE> Promote the latest build of a package to testing for the 3.3 and 3.4 release series \u00b6 Run osg-promote -r 3.3-testing -r 3.4-testing <PACKAGE>","title":"OSG Build Tools"},{"location":"software/osg-build-tools/#osg-build-tools","text":"This page documents the tools used for RPM development for the OSG Software Stack. See the RPM development guide for the principles on which these tools are based. The tools are distributed in the osg-build RPM in our repositories, but can also be used from a Git clone of opensciencegrid/osg-build on GitHub . This page is up-to-date as of osg-build version 1.14.1.","title":"OSG Build Tools"},{"location":"software/osg-build-tools/#the-tools","text":"","title":"The tools"},{"location":"software/osg-build-tools/#osg-build","text":"","title":"osg-build"},{"location":"software/osg-build-tools/#overview","text":"This is the primary tool used in building source and binary RPMs. osg-build <TASK> [options] <PACKAGE DIRECTORY> [...] package_directory is a directory containing an osg/ and/or an upstream/ subdirectory. See the RPM development guide for how these directories are organized.","title":"Overview"},{"location":"software/osg-build-tools/#tasks","text":"","title":"Tasks"},{"location":"software/osg-build-tools/#koji","text":"Prebuilds the final source package, then builds it remotely using the Koji instance hosted at UW-Madison. https://koji.opensciencegrid.org By default, the resulting RPMs will end up in the osg-minefield repositories based on the most recent OSG major version (e.g. 3.4). You may specify a different set of repos with --repo , described later. RPMs from the osg-minefield repositories are regularly pulled to the osg-development repositories hosted by the GOC at http://repo.opensciencegrid.org Unless you specify otherwise (by passing --el6 , --el7 or specifying a different koji tag/target), the package will be built for both el6 and el7. This is the method used to build final versions of packages you expect to ship.","title":"koji"},{"location":"software/osg-build-tools/#lint","text":"Prebuilds the final source package, then runs rpmlint on it to check for various problems. You will need to have rpmlint installed. People on UW CSL machines should add /p/vdt/workspace/rpmlint to their $PATH.","title":"lint"},{"location":"software/osg-build-tools/#mock","text":"Prebuilds the final source package, then builds it locally using mock , and stores the resulting source and binary RPMs in the package-specific _build_results directory.","title":"mock"},{"location":"software/osg-build-tools/#prebuild","text":"Prebuilds the final source package from upstream sources (if any) and local files (if any). May create or overwrite the _upstream_srpm_contents and _final_srpm_contents directories.","title":"prebuild"},{"location":"software/osg-build-tools/#prepare","text":"Prebuilds the final source package, then calls rpmbuild -bp on the result, extracting and patching the source files (and performing any other steps defined in the %prep section of the spec file. The resulting sources will be under _final_srpm_contents .","title":"prepare"},{"location":"software/osg-build-tools/#rpmbuild","text":"Prebuilds the final source package, then builds it locally using rpmbuild , and stores the resulting source and binary RPMs in the package-specific _build_results directory.","title":"rpmbuild"},{"location":"software/osg-build-tools/#quilt","text":"Collects the upstream local sources and spec file, then calls quilt setup on the spec file, extracting the source files and adding the patches to a quilt series file. See Quilt documentation (PDF link) for more information on quilt; also look at the example in the Usage Patterns section below. Similar to prepare (in fact, quilt calls rpmbuild -bp behind the scenes), but the source tree is in pre-patch state, and various quilt commands can be used to apply and modify patches. Unpacks into _quilt as of osg-build-1.2.2 or _final_srpm_contents in previous versions. Requires quilt . People on UW CSL machines should add /p/vdt/workspace/quilt/bin to their $PATH , and /p/vdt/workspace/quilt/share/man to their $MANPATH .","title":"quilt"},{"location":"software/osg-build-tools/#options","text":"This section lists the command-line options.","title":"Options"},{"location":"software/osg-build-tools/#-help","text":"Prints the built-in usage information and exits without doing anything else.","title":"--help"},{"location":"software/osg-build-tools/#-version","text":"Prints the version of osg-build and exits without doing anything else.","title":"--version"},{"location":"software/osg-build-tools/#common-options","text":"","title":"Common Options"},{"location":"software/osg-build-tools/#-a-autoclean-no-autoclean","text":"Before each build, clean out the contents of the underscore directories (_build_results, _final_srpm_contents, _upstream_srpm_contents, _upstream_tarball_contents). If the directories are not cleaned up, earlier builds of a package may interfere with later ones. --no-autoclean will disable this. Default is true . Has no effect with the --vcs flag.","title":"-a, --autoclean, --no-autoclean"},{"location":"software/osg-build-tools/#-c-cache-prefix-prefix","text":"Sets the prefix for upstream source cache references. The prefix must be a valid URI starting with either http , https , or file , or one of the following special values: AFS (corresponds to file:///p/vdt/public/html/upstream , which is the location of the VDT cache using AFS from a UW CS machine). VDT (corresponds to http://vdt.cs.wisc.edu/upstream , which is the location of the VDT cache from off-site). AUTO (AFS if available, VDT if not) The upstream source cache must be organized as described above. All files referenced by .source files in the affected packages must exist in the cache, or a runtime error will occur. Default is AUTO . Has no effect with the --vcs flag.","title":"-c, --cache-prefix prefix"},{"location":"software/osg-build-tools/#-el6-el7-redhat-release-version-config-redhat_release","text":"Sets the distro version to build for. This affects the %dist tag, the mock config, and the default koji tag and target (unless otherwise specified). --el6 is equivalent to --redhat-release 6 --el7 is equivalent to --redhat-release 7","title":"--el6, --el7, --redhat-release version (Config: redhat_release)"},{"location":"software/osg-build-tools/#-loglevel-loglevel","text":"Sets the verbosity of the script. Valid values are: debug , info , warning , error and critical . Default is info .","title":"--loglevel loglevel"},{"location":"software/osg-build-tools/#-q-quiet","text":"Do not display as much information. Equivalent to --loglevel warning","title":"-q, --quiet"},{"location":"software/osg-build-tools/#-v-verbose","text":"Display more information. Equivalent to --loglevel debug","title":"-v, --verbose"},{"location":"software/osg-build-tools/#-w-working-directory-path","text":"Use path as the root directory of the files created by the script. For example, if path is $HOME/working , and the package being built is ndt , the following tree will be created: $HOME/working/ndt/_upstream_srpm_contents $HOME/working/ndt/_upstream_tarball_contents $HOME/working/ndt/_final_srpm_contents $HOME/working/ndt/_build_results If path is TEMP , a randomly named directory under /tmp is used as the working directory. The default setting is to use the package directory as the working directory. Has no effect with the --vcs flag.","title":"-w, --working-directory path"},{"location":"software/osg-build-tools/#options-specific-to-prebuild-task","text":"","title":"Options specific to prebuild task"},{"location":"software/osg-build-tools/#-full-extract","text":"If set, all upstream tarballs will be extracted into _upstream_tarball_contents/ during the prebuild step. This flag is now mostly redundant with the prepare and quilt tasks.","title":"--full-extract"},{"location":"software/osg-build-tools/#options-specific-to-rpmbuild-and-mock-tasks","text":"","title":"Options specific to rpmbuild and mock tasks"},{"location":"software/osg-build-tools/#-distro-tag-dist","text":"Sets the distribution tag added on to the end of the release in the RPM ( rpmbuild and mock tasks only ). Default is .osg.el6 or .osg.el7","title":"--distro-tag dist"},{"location":"software/osg-build-tools/#-t-target-arch-arch","text":"Specify an architecture to build packages for ( rpmbuild and mock tasks only ). Default is unspecified, which builds for the current machine architecture.","title":"-t, --target-arch arch"},{"location":"software/osg-build-tools/#options-specific-to-mock-task","text":"","title":"Options specific to mock task"},{"location":"software/osg-build-tools/#-mock-clean-no-mock-clean","text":"Enable/disable deletion of the mock buildroot after a successful build. Default is true .","title":"--mock-clean, --no-mock-clean"},{"location":"software/osg-build-tools/#-m-mock-config-path","text":"Specifies the mock configuration file to use. This file details how to set up the build environment used by mock for the build, including Yum repositories from which to install dependencies and certain predefined variables (e.g., the distribution tag %dist ). See also --mock-config-from-koji .","title":"-m, --mock-config path"},{"location":"software/osg-build-tools/#-mock-config-from-koji-build-tag","text":"Creates a mock config from a Koji build tag. This is the most accurate way to replicate the build environment that Koji will provide (outside of Koji). The build tag is based on the distro version (el6, el7) and the OSG major version (3.3, 3.4). For 3.4 on el6, it is: osg-3.4-el6-build Also requires the Koji command-line tools (package koji ), obtainable from the osg repositories. Since this uses koji, some of the koji-specific options may apply, namely: --koji-backend , --koji-login , and --koji-wrapper .","title":"--mock-config-from-koji build tag"},{"location":"software/osg-build-tools/#options-specific-to-koji-task","text":"","title":"Options specific to koji task"},{"location":"software/osg-build-tools/#-dry-run","text":"Do not actually run koji, merely show the command(s) that will be run. For debugging purposes.","title":"--dry-run"},{"location":"software/osg-build-tools/#-getfiles-get-files","text":"For scratch builds without --vcs only. Download the resulting RPMs and logs from the build into the _build_results directory.","title":"--getfiles, --get-files"},{"location":"software/osg-build-tools/#-k-kojilogin-koji-login-login","text":"Sets the login to use for the koji task. This should most likely be your CN. If not specified, will extract it from your client cert ( ~/.osg-koji/client.crt or ~/.koji/client.crt ).","title":"-k, --kojilogin, --koji-login login"},{"location":"software/osg-build-tools/#-koji-target-target","text":"The koji target to use for building. Default is osg-el6 for el6 and osg-el7 for el7.","title":"--koji-target target"},{"location":"software/osg-build-tools/#-koji-tag-tag","text":"The koji tag to add packages to. See the Koji Workflow guide for more information on the terminology. The special value TARGET uses the destination tag defined in the koji target. Default is osg-el6 or osg-el7 .","title":"--koji-tag tag"},{"location":"software/osg-build-tools/#-ktt-koji-tag-and-target-arg","text":"Shorthand for setting both --koji-tag and --koji-target to arg .","title":"--ktt, --koji-tag-and-target arg"},{"location":"software/osg-build-tools/#-koji-wrapper-no-koji-wrapper","text":"Enable/disable use of the osg-koji wrapper script around koji. See below for a description of osg-koji . Default is true .","title":"--koji-wrapper, --no-koji-wrapper"},{"location":"software/osg-build-tools/#-koji-backend-backend","text":"Specifies the method osg-build will use to interface with Koji. This can be shell or kojilib .","title":"--koji-backend backend"},{"location":"software/osg-build-tools/#-wait-no-wait-nowait","text":"Wait for koji tasks to finish. Bad for running multiple builds in a single command, since you will have to type in your passphrase for the first one, wait for it to complete, then type in your passphrase for the second one, wait for it to complete, etc. If you want to wait for multiple tasks to finish, use the koji watch-task command or look at the website https://koji.opensciencegrid.org . --wait used to be the default until osg-build-1.1.3","title":"--wait, --no-wait, --nowait"},{"location":"software/osg-build-tools/#-regen-repos","text":"Start a regen-repo koji task on the build tag after each koji build, to update the build repository used for the next build. Not useful unless you are launching multiple builds. This enables you to launch builds that depend on each other. Doesn't work too well with --no-wait , since the next build may be started before the regen-repo task is complete. Waiting will keep the next build from being queued until the regen-repo is complete.","title":"--regen-repos"},{"location":"software/osg-build-tools/#-scratch-no-scratch","text":"Perform scratch builds. A scratch build does not go into a repository, but the name-version-release (NVR) of the created RPMs are not considered used, so the build may be modified and repeated without needing a release bump. This has the same use case as the mock task: creating packages that you want to test before releasing. If you do not have a machine with mock set up, or want to test exactly the environment that Koji provides, scratch builds might be more convenient.","title":"--scratch, --no-scratch"},{"location":"software/osg-build-tools/#-vcs-no-vcs-svn-no-svn","text":"Have Koji check the package out from a version control system instead of creating an SRPM on the local machine and submitting that to Koji. Currently, SVN and Git are supported. If this flag is specified, you may use SVN URLs or URL@Revision pairs to specify the packages to build. You may continue specify package directories from an SVN checkout, in which case osg-build will use svn info to find the right URL@Revision pair to use and warn you about uncommitted changes. osg-build will also warn you about an outdated working directory. --vcs defaults to true for non-scratch builds, and false for scratch builds.","title":"--vcs, --no-vcs, --svn, --no-svn"},{"location":"software/osg-build-tools/#-repodestination-repository-upcoming","text":"Selects the repositories (osg-3.3, upcoming, etc.) to build packages for. Currently valid repositories are: Repository Description osg OSG Software development repos for trunk (this is the default) osg-3.3 (or just 3.3) OSG Software development repos for 3.3 branch upcoming OSG Software development repos for upcoming branch internal OSG Software internal branch hcc Holland Computing Center (Nebraska) testing repos --upcoming is an alias for --repo=upcoming Note that the repo selection affects which VCS paths you are allowed to build from. For example, you are not allowed to build from branches/osg-3.3 (from the OSG SVN) into the 'osg' repo, or from HCC's git repositories into the 'upcoming' repo.","title":"--repo=destination repository, --upcoming"},{"location":"software/osg-build-tools/#koji-tag-diff","text":"This script displays the differences between the latest packages in two koji tags. Example invocation: koji-tag-diff osg-3.4-el6-development osg-3.4-el7-testing This prints the packages that are in osg-3.4-el6-development but not in osg-3.4-el7-testing, or vice versa.","title":"koji-tag-diff"},{"location":"software/osg-build-tools/#osg-build-test","text":"This script runs automated tests for osg-build . Only a few tests have been implemented so far.","title":"osg-build-test"},{"location":"software/osg-build-tools/#osg-import-srpm","text":"This is a script to fetch an SRPM from a remote site, copy it into the upstream cache on AFS, and create an SVN package dir (if needed) with an upstream/*.source file. By default it will put downloaded files into the VDT upstream cache (/p/vdt/public/html/upstream), but you can pass --upstream-root=<UPSTREAM DIR> to put them somewhere else. If called with the --extract-spec or -e argument, it will extract the spec file from the SRPM and place it into the osg subdir in SVN. If called with the --diff-spec or -d argument, it will extract the spec file and compare it to the existing spec file in the osg subdir. The script hasn't been touched in a while and needs a good deal of cleanup. A planned feature is to allow doing a three-way diff between the existing RPM before OSG modifications, the new RPM before OSG modifications and the existing RPM after OSG modifications.","title":"osg-import-srpm"},{"location":"software/osg-build-tools/#osg-koji","text":"This is a wrapper script around the koji command line tool. It automatically specifies parameters to access the OSG's koji instance, and forces SSL authentication. It takes the same parameters as koji and passes them on. An additional command, osg-koji setup exists, which performs the following tasks: Create a koji configuration in ~/.osg-koji Create a CA bundle for verifying the server. Use either files in /etc/grid-security/certificates , or (if those are not found), from files downloaded from the DOEGrids and DigiCert sites. Create a client cert file. This can be a symlink to your grid proxy, or it can be a file created from your grid public and private key files. The location of those files can be specified by the --usercert and --userkey arguments. If unspecified, usercert defaults to ~/.globus/usercert.pem , and userkey defaults to ~/.globus/userkey.pem .","title":"osg-koji"},{"location":"software/osg-build-tools/#osg-promote","text":"","title":"osg-promote"},{"location":"software/osg-build-tools/#overview_1","text":"Run this script to push packages from one set of repos to another (e.g. from development to testing), according to the OSG software promotion guidelines. Once the packages are promoted, the script will generate code to cut and paste into a JIRA comment.","title":"Overview"},{"location":"software/osg-build-tools/#synopsis","text":"osg-promote [-r|--route <ROUTE>]... [options] <PACKAGE OR BUILD> [...]","title":"Synopsis"},{"location":"software/osg-build-tools/#examples","text":"Promote the latest build of osg-version to testing for the current release series osg-promote -r testing osg-version Promote the latest builds of osg-ce to testing for the 3.3 and 3.4 release series osg-promote -r 3.3-testing -r 3.4-testing osg-ce Promote osg-build-1.5.0-1 to testing for the current release series osg-promote -r testing osg-build-1.5.0-1","title":"Examples"},{"location":"software/osg-build-tools/#arguments","text":"","title":"Arguments"},{"location":"software/osg-build-tools/#-h","text":"Display help and a list of valid routes.","title":"-h"},{"location":"software/osg-build-tools/#package-or-build","text":"A package (e.g. osg-version ) or build (e.g. osg-version-3.3.0-1.osg33.el6 ) to promote. You may omit the dist tag (the .osg33.el6 part). If a package is specified, the most recent version of that package will be promoted. If a build is specified, that build and the build that has the same version - release for the other distro version(s) will be promoted. That is, if you specify the route 3.3-testing and the build foo-1-1 , then foo-1-1.osg33.el6 and foo-1-1.osg33.el7 will be promoted. This may be specified multiple times, to promote multiple packages. The NVRs of each set of builds for a package must match.","title":"package or build"},{"location":"software/osg-build-tools/#-r-route-route-route","text":"The promotion route to use. Use osg-promote -h to get a list of valid routes. This may be specified multiple times. For example, to promote for both 3.4 and 3.3, pass -r 3.4-testing -r 3.3-testing . If not specified, the testing route is used, which corresponds to the testing route for the latest release series.","title":"-r ROUTE, --route ROUTE"},{"location":"software/osg-build-tools/#-n-dry-run","text":"Do not promote, just show what would be done.","title":"-n, --dry-run"},{"location":"software/osg-build-tools/#-el6-only-el7-only","text":"Only promote packages for el6 / el7.","title":"--el6-only / --el7-only"},{"location":"software/osg-build-tools/#-no-el6-no-el7","text":"Do not promote packages for el6 / el7.","title":"--no-el6 / --no-el7"},{"location":"software/osg-build-tools/#-ignore-rejects","text":"Ignore rejections due to version mismatch between dvers or missing package for one dver.","title":"--ignore-rejects"},{"location":"software/osg-build-tools/#-regen","text":"Regenerate the destination repos after promoting.","title":"--regen"},{"location":"software/osg-build-tools/#-y-assume-yes","text":"Do not prompt before promotion.","title":"-y, --assume-yes"},{"location":"software/osg-build-tools/#common-usage-patterns","text":"","title":"Common Usage Patterns"},{"location":"software/osg-build-tools/#verify-that-all-files-necessary-to-build-the-package-are-in-the-right-place","text":"Run osg-build prebuild <PACKAGEDIR> .","title":"Verify that all files necessary to build the package are in the right place"},{"location":"software/osg-build-tools/#fetch-and-extract-all-source-files-for-examination","text":"Run osg-build prebuild --full-extract <PACKAGEDIR> . Look inside the _upstream_tarball_contents directory.","title":"Fetch and extract all source files for examination"},{"location":"software/osg-build-tools/#get-a-post-patch-version-of-the-upstream-sources-for-examination","text":"Run osg-build prepare <PACKAGEDIR> . Look inside the _build_results directory.","title":"Get a post-patch version of the upstream sources for examination"},{"location":"software/osg-build-tools/#see-which-patches-work-with-a-new-version-of-a-package-update-or-remove-them","text":"Place the new source tarball into the upstream cache, edit the version in the spec file and *.sources files as necessary Run osg-build quilt <PACKAGEDIR> . Enter the extracted sources inside the _final_srpm_contents directory. You should see a file called series and a symlink called patches . Type quilt series to get a list of patches in order of application. Type quilt push to apply the next patch. If the patch applies cleanly, continue. If the patch applies with some fuzz, type quilt refresh to update the offsets in the patch. If the patch does not apply and you wish to remove it, type quilt delete <PATCH NAME> (delete only removes it from the series file, not the disk) If the patch does not apply and you wish to fix it, either type quilt push -f to interactively apply the patch, or quilt delete <PATCH NAME> the patch and use quilt new / quilt edit / quilt refresh to edit files and make a new patch from your changes. Consult the quilt(1) manpage for more info. If you have a new patch, run quilt import <PATCHFILE> to add the patch to the series file, and run quilt push to apply it. If you have changes to make to the source code that you want to save as a patch, type quilt new <PATCHNAME> , edit the files, type quilt add <FILE> on each file you edited, then type quilt refresh to recreate the patch. Once you're all done, copy the patches in the patches/ directory to the osg/ dir in SVN, run quilt series to get the application order and update the spec file accordingly.","title":"See which patches work with a new version of a package, update or remove them"},{"location":"software/osg-build-tools/#see-if-a-package-builds-successfully-for-osg-34","text":"If you have all the build dependencies of the package installed, run osg-build rpmbuild <PACKAGEDIR> . The resulting RPMs will be in the _build_results directory. If you do not have all the build dependencies installed, or want to make sure you specified all of the necessary ones and the package builds from a clean environment, run osg-build mock --mock-config-from-koji osg-3.4-el6-build <PACKAGEDIR> . The resulting RPMs will be in the _build_results directory. If you do not have mock installed, or want to exactly replicate the build environment in Koji, run osg-build koji --scratch <PACKAGEDIR> . You may download the resulting RPMs from kojiweb https://koji.opensciencegrid.org/koji or pass --getfiles to osg-build koji and they will get downloaded to the _build_results directory.","title":"See if a package builds successfully for OSG 3.4"},{"location":"software/osg-build-tools/#check-for-potential-errors-in-a-package","text":"Run osg-build lint <PACKAGEDIR> .","title":"Check for potential errors in a package"},{"location":"software/osg-build-tools/#create-and-test-a-final-build-of-a-package-for-all-platforms-for-upcoming","text":"svn commit your changes in branches/upcoming . Type osg-build koji --repo=upcoming <PACKAGEDIR> Wait for the osg-upcoming-minefield repos to be regenerated containing the new version of your package. You can run osg-koji wait-repo osg-upcoming-el<X>-development --build=<PACKAGENAME-VERSION-RELEASE> and wait for that process to finish (substitute 6 or 7 for X ). Or, you can just check kojiweb https://koji.opensciencegrid.org/koji/tasks . On your test machine, make sure the osg-upcoming-minefield repo is enabled (edit /etc/yum.repos.d/osg-upcoming-minefield.repo or /etc/yum.repos.d/osg-el6-upcoming-minefield.repo ). Clean your cache ( yum clean all; yum clean expire-cache ). Install your software, see if it works.","title":"Create and test a final build of a package for all platforms for upcoming"},{"location":"software/osg-build-tools/#promote-the-latest-build-of-a-package-to-testing-for-the-current-osg-release-series","text":"Run osg-promote -r testing <PACKAGE>","title":"Promote the latest build of a package to testing for the current OSG release series"},{"location":"software/osg-build-tools/#promote-the-latest-build-of-a-package-to-testing-for-the-33-and-34-release-series","text":"Run osg-promote -r 3.3-testing -r 3.4-testing <PACKAGE>","title":"Promote the latest build of a package to testing for the 3.3 and 3.4 release series"},{"location":"software/quilt/","text":"How to Write a Patch \u00b6 You create one or more .patch files with diff and stick them in the osg directory. Then you declare the patch files in the header of the spec file with a line like Patch0: py24compat.patch and in the %prep section, just after %setup , you add a %patch line to actually apply the patch, like this: %patch0 -p1 (where the -p1 indicates that it should strip off the first leading component of the path in each file mentioned in the .patch file) Look at the mash package for an example. The easiest way to actually create the patch in the first place is to use a utility called quilt. First you run osg-build quilt on the package directory and it will create a _quilt subdirectory that has the expanded sources and patches. cd into _quilt/pegasus-source-2.3.0 , then run quilt push -a to apply any patches that already exist (there are none for pegasus but there might be for other packages). run quilt new py24compat.patch to name your new patch file. run quilt add <filename> for each file you want to make changes to (you must run this before making any changes). actually make the changes. run quilt refresh -p1 to have quilt add those changes into the .patch file. (The -p1 option to quilt refresh must be the same as the -p1 option to %patch0 in your spec file). copy patches/py24compat.patch into the pegasus/osg directory and edit the spec file as above. Don't forget to git add your new patch file before committing. Once you've tested your patch successfully, you should make that bug report and send them the patch. A bug report is looked on more favorably if it includes a patch to fix the problem.","title":"Using Quilt"},{"location":"software/quilt/#how-to-write-a-patch","text":"You create one or more .patch files with diff and stick them in the osg directory. Then you declare the patch files in the header of the spec file with a line like Patch0: py24compat.patch and in the %prep section, just after %setup , you add a %patch line to actually apply the patch, like this: %patch0 -p1 (where the -p1 indicates that it should strip off the first leading component of the path in each file mentioned in the .patch file) Look at the mash package for an example. The easiest way to actually create the patch in the first place is to use a utility called quilt. First you run osg-build quilt on the package directory and it will create a _quilt subdirectory that has the expanded sources and patches. cd into _quilt/pegasus-source-2.3.0 , then run quilt push -a to apply any patches that already exist (there are none for pegasus but there might be for other packages). run quilt new py24compat.patch to name your new patch file. run quilt add <filename> for each file you want to make changes to (you must run this before making any changes). actually make the changes. run quilt refresh -p1 to have quilt add those changes into the .patch file. (The -p1 option to quilt refresh must be the same as the -p1 option to %patch0 in your spec file). copy patches/py24compat.patch into the pegasus/osg directory and edit the spec file as above. Don't forget to git add your new patch file before committing. Once you've tested your patch successfully, you should make that bug report and send them the patch. A bug report is looked on more favorably if it includes a patch to fix the problem.","title":"How to Write a Patch"},{"location":"software/release-planning/","text":"Plans for Future Releases \u00b6 This informal page is the mapping of \"technology goals\" (e.g., \"release software Foo version X\") to release numbers. It is meant to be updated as the releases evolve (and items are moved back in schedule). For package support policy between release series, see this page . Unless explicitly noted, bullet points refer to software in the release repo. This page is not meant to track minor bugfixes or updates -- rather, its focus should be new features. OSG 3.4 (May 2017) \u00b6 Package(s) Change in osg-release Notes BeStMan2 Drop Retirement policy edg-mkgridmap Drop SOFTWARE-2600 frontier-squid Modify Version 3 glexec Drop SOFTWARE-2620 GRAM Drop SOFTWARE-2530 GUMS Drop Retirement policy , SOFTWARE-2600 jglobus Drop SOFTWARE-2606 netlogger Drop osg-ce Modify Drop GridFTP , gums-client osg-info-services Drop osg-version Drop singularity Add voms-admin-server Drop Retirement policy Track OSG 3.4 updates through its JIRA epic . Support Policy for OSG 3.3 \u00b6 According to our release support policy and the release date of May 2017 for OSG 3.4, OSG 3.3 will receive routine software updates until November 2017 and critical updates until May 2018. Previous Releases \u00b6 12 November 2013 \u00b6 OSG 3.1 HTCondor-CE with PBS osg-configure emits an ERROR if squid defaults are not changed (\"UNAVAILABLE\" is a valid change) OSG 3.2 Initial release HDFS 2.0.0 (already done in Upcoming) HTCondor 8.0.4 glideinWMS 3.2.0 osg-info-services (Note: ReSS will likely be retired around year-end) OSG 3.1 updates Upcoming HTCondor 8.1 with unified RPM BOSCO 10 December 2013 \u00b6 OSG 3.2 RSV-for-VOs Squid must be present on OSG-CE (??? what does this mean?)","title":"Release Planning"},{"location":"software/release-planning/#plans-for-future-releases","text":"This informal page is the mapping of \"technology goals\" (e.g., \"release software Foo version X\") to release numbers. It is meant to be updated as the releases evolve (and items are moved back in schedule). For package support policy between release series, see this page . Unless explicitly noted, bullet points refer to software in the release repo. This page is not meant to track minor bugfixes or updates -- rather, its focus should be new features.","title":"Plans for Future Releases"},{"location":"software/release-planning/#osg-34-may-2017","text":"Package(s) Change in osg-release Notes BeStMan2 Drop Retirement policy edg-mkgridmap Drop SOFTWARE-2600 frontier-squid Modify Version 3 glexec Drop SOFTWARE-2620 GRAM Drop SOFTWARE-2530 GUMS Drop Retirement policy , SOFTWARE-2600 jglobus Drop SOFTWARE-2606 netlogger Drop osg-ce Modify Drop GridFTP , gums-client osg-info-services Drop osg-version Drop singularity Add voms-admin-server Drop Retirement policy Track OSG 3.4 updates through its JIRA epic .","title":"OSG 3.4 (May 2017)"},{"location":"software/release-planning/#support-policy-for-osg-33","text":"According to our release support policy and the release date of May 2017 for OSG 3.4, OSG 3.3 will receive routine software updates until November 2017 and critical updates until May 2018.","title":"Support Policy for OSG 3.3"},{"location":"software/release-planning/#previous-releases","text":"","title":"Previous Releases"},{"location":"software/release-planning/#12-november-2013","text":"OSG 3.1 HTCondor-CE with PBS osg-configure emits an ERROR if squid defaults are not changed (\"UNAVAILABLE\" is a valid change) OSG 3.2 Initial release HDFS 2.0.0 (already done in Upcoming) HTCondor 8.0.4 glideinWMS 3.2.0 osg-info-services (Note: ReSS will likely be retired around year-end) OSG 3.1 updates Upcoming HTCondor 8.1 with unified RPM BOSCO","title":"12 November 2013"},{"location":"software/release-planning/#10-december-2013","text":"OSG 3.2 RSV-for-VOs Squid must be present on OSG-CE (??? what does this mean?)","title":"10 December 2013"},{"location":"software/repository-management/","text":"Repository Management \u00b6 This document attempts to record everything there is to know about repository management for the OSG. Public repositories \u00b6 We host four public-facing repositories at repo.opensciencegrid.org : development : This repository is the bleeding edge. Installing from this repository may cause the host to stop functioning, and we will not assist in undoing any damage. testing : This repository contains software ready for testing. If you install packages from here, they may be buggy, but we will provide limited assistance in providing a migration path to a fixed verison. release : This repository contains software that we are willing to support and can be used by the general community. contrib : RPMs contributed from outside the OSG. These repos are updated by the mash script running on repo.opensciencegrid.org . Internal repositories \u00b6 In addition to the public repositories above, we host two repositories on koji.opensciencegrid.org . These are updated shortly after jobs are built into them or tagged into them. They are technically publicly accessible, but we discourage the public from using them. minefield : This repository is a copy of development above. prerelease : This repository is a staging area for software that is slated to be in the next release. These repos are updated by the kojira daemon running on koji.opensciencegrid.org . Build repositories \u00b6 The koji task in osg-build uses the osg-3.4-el6-build / osg-3.4-el7-build repo, which is the union of the following repositories: Minefield a.k.a. osg-3.4-el6-development / osg-3.4-el7-development The osg-el6-internal / osg-el7-internal tag (containing build dependencies we do not want to make public) The dist-el6-build / dist-el7-build tag (consisting of the appropriate macros for %dist) CentOS and EPEL Koji will work from its internal cache of the above repositories (downloading the packages from the source), and will not update until the build repository is regenerated. By default, Koji does a groupinstall of the build group, then resolves the BuildRequires dependencies. The tarball creation scripts use the osg-3.4-el6-release-build / osg-3.4-el7-release-build repo, which is the union of the following repositories: Release a.k.a. osg-3.4-el6-release / osg-3.4-el7-release The dist-el6-build / dist-el7-build tag (consisting of the appropriate macros for %dist ) CentOS and EPEL","title":"Repository Management"},{"location":"software/repository-management/#repository-management","text":"This document attempts to record everything there is to know about repository management for the OSG.","title":"Repository Management"},{"location":"software/repository-management/#public-repositories","text":"We host four public-facing repositories at repo.opensciencegrid.org : development : This repository is the bleeding edge. Installing from this repository may cause the host to stop functioning, and we will not assist in undoing any damage. testing : This repository contains software ready for testing. If you install packages from here, they may be buggy, but we will provide limited assistance in providing a migration path to a fixed verison. release : This repository contains software that we are willing to support and can be used by the general community. contrib : RPMs contributed from outside the OSG. These repos are updated by the mash script running on repo.opensciencegrid.org .","title":"Public repositories"},{"location":"software/repository-management/#internal-repositories","text":"In addition to the public repositories above, we host two repositories on koji.opensciencegrid.org . These are updated shortly after jobs are built into them or tagged into them. They are technically publicly accessible, but we discourage the public from using them. minefield : This repository is a copy of development above. prerelease : This repository is a staging area for software that is slated to be in the next release. These repos are updated by the kojira daemon running on koji.opensciencegrid.org .","title":"Internal repositories"},{"location":"software/repository-management/#build-repositories","text":"The koji task in osg-build uses the osg-3.4-el6-build / osg-3.4-el7-build repo, which is the union of the following repositories: Minefield a.k.a. osg-3.4-el6-development / osg-3.4-el7-development The osg-el6-internal / osg-el7-internal tag (containing build dependencies we do not want to make public) The dist-el6-build / dist-el7-build tag (consisting of the appropriate macros for %dist) CentOS and EPEL Koji will work from its internal cache of the above repositories (downloading the packages from the source), and will not update until the build repository is regenerated. By default, Koji does a groupinstall of the build group, then resolves the BuildRequires dependencies. The tarball creation scripts use the osg-3.4-el6-release-build / osg-3.4-el7-release-build repo, which is the union of the following repositories: Release a.k.a. osg-3.4-el6-release / osg-3.4-el7-release The dist-el6-build / dist-el7-build tag (consisting of the appropriate macros for %dist ) CentOS and EPEL","title":"Build repositories"},{"location":"software/requesting-tokens/","text":"How to Request Tokens \u00b6 As part of the GridFTP and GSI migration , the OSG will be transitioning authentication away from X.509 certificates to the use of bearer tokens such as SciTokens or WLCG JWT . This document is intended as a guide for OSG developers for requesting tokens necessary for software development. Before Starting \u00b6 Before you can request the appropriate tokens, you must have the following: A WLCG INDIGO IAM account belonging to the wlcg , wlcg/pilots , and wlcg/xfers groups. An installation of oidc-agent available as an RPM from the OSG repositories Requesting Tokens \u00b6 oidc-agent is similar to SSH agent except that it works with OpenID Connect token providers. Start the agent and add the appropriate variables to your environment: eval `oidc-agent` Generate a local client profile and follow the prompts: oidc-gen -w device <CLIENT NAME> Specify the WLCG INDIGO IAM instance as the client issuer: Issuer [https://iam-test.indigo-datacloud.eu/]: https://wlcg.cloud.cnaf.infn.it/ Request wlcg , offline_access , and other scopes for the capabilities that you need: Capability Scope HTCondor READ compute.read HTCondor WRITE compute.modify compute.cancel compute.create XRootD read read:/ XRootD write write:/ For example, to request HTCondor READ and WRITE access, specify the following scopes: This issuer supports the following scopes: openid profile email address phone offline_access wlcg iam wlcg.groups Space delimited list of scopes or 'max' [openid profile offline_access]: wlcg offline_access compute.read compute.modify compute.cancel compute.create Note that, prior to HTCondor 8.9.7, the server also needed condor:/ALLOW in all cases. When prompted, open https://wlcg.cloud.cnaf.infn.it/device in a browser, enter the code provided by oidc-gen , and click \"Submit\". On the next page, verify the scopes and client profile name, and click \"Authorize\". Enter a password to encrypt your local client profile. You'll need to remember this if you want to re-use this profile in subsequent sessions. Request a token using the client name that you used above with oidc-gen : oidc-token --aud=\"<SERVER AUDIENCE>\" <CLIENT NAME> For tokens used against an HTCondor-CE, set <SERVER AUDIENCE> to <CE FQDN>:<CE PORT> . Copy the output of oidc-token into a file on the host where you need SciToken authentication, e.g. an HTCondor or XRootD client. Troubleshooting Tokens \u00b6 You can inspect the payload by copy-pasting the token into the \"Encoded\" text box here: http://jwt.io/ . Mouse over the fields and values for details.","title":"How to Request Tokens"},{"location":"software/requesting-tokens/#how-to-request-tokens","text":"As part of the GridFTP and GSI migration , the OSG will be transitioning authentication away from X.509 certificates to the use of bearer tokens such as SciTokens or WLCG JWT . This document is intended as a guide for OSG developers for requesting tokens necessary for software development.","title":"How to Request Tokens"},{"location":"software/requesting-tokens/#before-starting","text":"Before you can request the appropriate tokens, you must have the following: A WLCG INDIGO IAM account belonging to the wlcg , wlcg/pilots , and wlcg/xfers groups. An installation of oidc-agent available as an RPM from the OSG repositories","title":"Before Starting"},{"location":"software/requesting-tokens/#requesting-tokens","text":"oidc-agent is similar to SSH agent except that it works with OpenID Connect token providers. Start the agent and add the appropriate variables to your environment: eval `oidc-agent` Generate a local client profile and follow the prompts: oidc-gen -w device <CLIENT NAME> Specify the WLCG INDIGO IAM instance as the client issuer: Issuer [https://iam-test.indigo-datacloud.eu/]: https://wlcg.cloud.cnaf.infn.it/ Request wlcg , offline_access , and other scopes for the capabilities that you need: Capability Scope HTCondor READ compute.read HTCondor WRITE compute.modify compute.cancel compute.create XRootD read read:/ XRootD write write:/ For example, to request HTCondor READ and WRITE access, specify the following scopes: This issuer supports the following scopes: openid profile email address phone offline_access wlcg iam wlcg.groups Space delimited list of scopes or 'max' [openid profile offline_access]: wlcg offline_access compute.read compute.modify compute.cancel compute.create Note that, prior to HTCondor 8.9.7, the server also needed condor:/ALLOW in all cases. When prompted, open https://wlcg.cloud.cnaf.infn.it/device in a browser, enter the code provided by oidc-gen , and click \"Submit\". On the next page, verify the scopes and client profile name, and click \"Authorize\". Enter a password to encrypt your local client profile. You'll need to remember this if you want to re-use this profile in subsequent sessions. Request a token using the client name that you used above with oidc-gen : oidc-token --aud=\"<SERVER AUDIENCE>\" <CLIENT NAME> For tokens used against an HTCondor-CE, set <SERVER AUDIENCE> to <CE FQDN>:<CE PORT> . Copy the output of oidc-token into a file on the host where you need SciToken authentication, e.g. an HTCondor or XRootD client.","title":"Requesting Tokens"},{"location":"software/requesting-tokens/#troubleshooting-tokens","text":"You can inspect the payload by copy-pasting the token into the \"Encoded\" text box here: http://jwt.io/ . Mouse over the fields and values for details.","title":"Troubleshooting Tokens"},{"location":"software/resurrecting-epel-packages/","text":"Resurrecting EPEL RPMs \u00b6 You will need to be a Koji admin to do these steps. [user@client ~] $ osg-koji --list-permissions --mine Will tell you if you're an admin or not. Current Koji admins are the Madison team and Brian Bockelman. EPEL version EPEL Koji tag Our Koji tag 5 dist-5E-epel epelrescue-el5 6 dist-6E-epel epelrescue-el6 7 epel7 epelrescue-el7 Determine the NVR of the build containing the RPM of the package you want. Use the Fedora/EPEL Koji web interface ( https://koji.fedoraproject.org ) to search for it. You can use the search box in the upper right to look for packages, builds, or RPMs; it accepts shell wildcards. EPEL builds have .el5, .el6, or .el7 in the dist tag. Download all RPMs for all architectures we care about (i386, i486, i586, i686, x86_64, noarch), including the .src.rpm and the debuginfo rpms. You have three options for the downloads: Use the links in the web interface Use the koji command-line interface against the Fedora koji: Download fedora-koji.conf , attached to this page Run koji --noauth -c fedora-koji.conf download-build --debuginfo <PACKAGE_NVR> Delete RPMs for architectures we do not care about (see list above) <PACKAGE_NVR> is the Name-Version-Release information about the build, which was determined in the step 1 above Dig around in https://kojipkgs.fedoraproject.org/packages/ On your development machine: Important: Verify that all of the RPMs are signed: [root@client ~] # rpm -K *.rpm | grep -iv gpg should be empty If not, STOP and sign them using the OSG RPM key -- talk to Mat Import the RPMs themselves into the Koji system [user@client ~] $ osg-koji import <RPM_DIRECTORY>/*.rpm Where <RPM_DIRECTORY> is the directory where you have downloaded the rpms. They will not be in any tags at this point Add the package to the whitelist for our koji tag: [user@client ~] $ osg-koji add-pkg <OUR_KOJI_TAG> <PACKAGE> --owner = \"<YOUR_KOJI_USERNAME>\" Where <OUR_KOJI_TAG> is one of those listed in the table at the top of this page, an example of <PACKAGE> is: cvmfs-config-osg-2.4-1.osg34.el6 and <YOUR_KOJI_USERNAME> is the username you use to interact with the Koji system Actually tag the builds: [user@client ~] $ osg-koji tag-pkg <OUR_KOJI_TAG> <PACKAGE> Check the Tasks tab in Koji to see if kojira has started regening the repos -- it might take a few minutes to kick in. If it doesn't, do it manually (if you're doing multiple packages, save this step until you're done with all of them): for repo in osg-{3.1,3.2,3.3,upcoming}-el5-{build,development,testing,release,prerelease,release-build}; do osg-koji regen-repo --nowait $repo done Make a test VM and install the package from minefield to test that it is actually present. Update the epelrescue RPMs table below Removing resurrected RPMs \u00b6 In case the RPM appeared back in EPEL, or we no longer need it, here's how to remove it from the epelrescue tags so we're not overriding the EPEL version: Find out the NVR of the build: [user@client ~] $ osg-koji list-tagged <OUR_KOJI_TAG> <PACKAGE> Where <OUR_KOJI_TAG> is one of those listed in the table at the top of this page and an example of <PACKAGE> is: cvmfs-config-osg-2.4-1.osg34.el6 Untag the packages: [user@client ~] $ osg-koji untag-pkg <OUR_KOJI_TAG> <PACKAGE> Why you should not use block-pkg \u00b6 EPEL removes their packages by using 'koji block-pkg', which leaves the package and the builds in the tag, but prevents it from appearing in the repos. We cannot do that, because blocks are inherited and this will mess up our build repos. This is what happened in one case: EPEL removed rpmdevtools, which is a necessary package for all builds. I resurrected it into epelrescue-el5. Later, EPEL put rpmdevtools back into their repos, so it no longer needed to be in epelrescue-el5. I used block-pkg on rpmdevtools in epelrescue-el5, thinking that the package could remain tagged, but will stay out of our repos, and the EPEL package would be used instead. The block not only hid our rpmdevtools, it hid EPEL's rpmdevtools as well, preventing us from being able to build. I unblocked the rpmdevtools, and just untagged the build instead, regenerated our build repos, and we could build again. Policy for epelrescue tags \u00b6 https://jira.opensciencegrid.org/browse/SOFTWARE-2046 Table of epelrescue RPMs \u00b6 Package Distro version Date added Reason added Date removed python-six-1.7.3-1.el6 6 2015-08-12 Dep of osg-build (via mock) 2015-10-14 python-argparse-1.2.1-2.el6 6 2015-09-23 Dep of osg-wn-client (via gfal2) 2015-10-14 python-backports-ssl_match_hostname-3.4.0.2-4.el6 6 2015-09-23 Dep of osg-build (via mock) 2015-10-14 python-requests-1.1.0-4.el6 6 2015-09-23 Dep of osg-build (via mock) 2015-10-14 python-urllib3-1.5-7.el6 6 2015-09-23 Dep of osg-build (via mock) 2015-10-14 Finding out if a package is still needed in epelrescue \u00b6 Set $pkg to the name of a package to test (e.g. python-six ), and $rhel set to the RHEL version you're testing for (e.g. 5 , 6 , or 7 ). Using Carl's centos-srpms , scientific-srpms , slf-srpms scripts: for script in centos-srpms scientific-srpms slf-srpms; do echo -n $script \": \" $script -$rhel $pkg | grep . || echo none done A dry run of removing the package: osg-koji untag-pkg -n --all epelrescue-el$rhel $pkg Remove the -n when the output of that looks fine.","title":"Resurrecting Epel Packages"},{"location":"software/resurrecting-epel-packages/#resurrecting-epel-rpms","text":"You will need to be a Koji admin to do these steps. [user@client ~] $ osg-koji --list-permissions --mine Will tell you if you're an admin or not. Current Koji admins are the Madison team and Brian Bockelman. EPEL version EPEL Koji tag Our Koji tag 5 dist-5E-epel epelrescue-el5 6 dist-6E-epel epelrescue-el6 7 epel7 epelrescue-el7 Determine the NVR of the build containing the RPM of the package you want. Use the Fedora/EPEL Koji web interface ( https://koji.fedoraproject.org ) to search for it. You can use the search box in the upper right to look for packages, builds, or RPMs; it accepts shell wildcards. EPEL builds have .el5, .el6, or .el7 in the dist tag. Download all RPMs for all architectures we care about (i386, i486, i586, i686, x86_64, noarch), including the .src.rpm and the debuginfo rpms. You have three options for the downloads: Use the links in the web interface Use the koji command-line interface against the Fedora koji: Download fedora-koji.conf , attached to this page Run koji --noauth -c fedora-koji.conf download-build --debuginfo <PACKAGE_NVR> Delete RPMs for architectures we do not care about (see list above) <PACKAGE_NVR> is the Name-Version-Release information about the build, which was determined in the step 1 above Dig around in https://kojipkgs.fedoraproject.org/packages/ On your development machine: Important: Verify that all of the RPMs are signed: [root@client ~] # rpm -K *.rpm | grep -iv gpg should be empty If not, STOP and sign them using the OSG RPM key -- talk to Mat Import the RPMs themselves into the Koji system [user@client ~] $ osg-koji import <RPM_DIRECTORY>/*.rpm Where <RPM_DIRECTORY> is the directory where you have downloaded the rpms. They will not be in any tags at this point Add the package to the whitelist for our koji tag: [user@client ~] $ osg-koji add-pkg <OUR_KOJI_TAG> <PACKAGE> --owner = \"<YOUR_KOJI_USERNAME>\" Where <OUR_KOJI_TAG> is one of those listed in the table at the top of this page, an example of <PACKAGE> is: cvmfs-config-osg-2.4-1.osg34.el6 and <YOUR_KOJI_USERNAME> is the username you use to interact with the Koji system Actually tag the builds: [user@client ~] $ osg-koji tag-pkg <OUR_KOJI_TAG> <PACKAGE> Check the Tasks tab in Koji to see if kojira has started regening the repos -- it might take a few minutes to kick in. If it doesn't, do it manually (if you're doing multiple packages, save this step until you're done with all of them): for repo in osg-{3.1,3.2,3.3,upcoming}-el5-{build,development,testing,release,prerelease,release-build}; do osg-koji regen-repo --nowait $repo done Make a test VM and install the package from minefield to test that it is actually present. Update the epelrescue RPMs table below","title":"Resurrecting EPEL RPMs"},{"location":"software/resurrecting-epel-packages/#removing-resurrected-rpms","text":"In case the RPM appeared back in EPEL, or we no longer need it, here's how to remove it from the epelrescue tags so we're not overriding the EPEL version: Find out the NVR of the build: [user@client ~] $ osg-koji list-tagged <OUR_KOJI_TAG> <PACKAGE> Where <OUR_KOJI_TAG> is one of those listed in the table at the top of this page and an example of <PACKAGE> is: cvmfs-config-osg-2.4-1.osg34.el6 Untag the packages: [user@client ~] $ osg-koji untag-pkg <OUR_KOJI_TAG> <PACKAGE>","title":"Removing resurrected RPMs"},{"location":"software/resurrecting-epel-packages/#why-you-should-not-use-block-pkg","text":"EPEL removes their packages by using 'koji block-pkg', which leaves the package and the builds in the tag, but prevents it from appearing in the repos. We cannot do that, because blocks are inherited and this will mess up our build repos. This is what happened in one case: EPEL removed rpmdevtools, which is a necessary package for all builds. I resurrected it into epelrescue-el5. Later, EPEL put rpmdevtools back into their repos, so it no longer needed to be in epelrescue-el5. I used block-pkg on rpmdevtools in epelrescue-el5, thinking that the package could remain tagged, but will stay out of our repos, and the EPEL package would be used instead. The block not only hid our rpmdevtools, it hid EPEL's rpmdevtools as well, preventing us from being able to build. I unblocked the rpmdevtools, and just untagged the build instead, regenerated our build repos, and we could build again.","title":"Why you should not use block-pkg"},{"location":"software/resurrecting-epel-packages/#policy-for-epelrescue-tags","text":"https://jira.opensciencegrid.org/browse/SOFTWARE-2046","title":"Policy for epelrescue tags"},{"location":"software/resurrecting-epel-packages/#table-of-epelrescue-rpms","text":"Package Distro version Date added Reason added Date removed python-six-1.7.3-1.el6 6 2015-08-12 Dep of osg-build (via mock) 2015-10-14 python-argparse-1.2.1-2.el6 6 2015-09-23 Dep of osg-wn-client (via gfal2) 2015-10-14 python-backports-ssl_match_hostname-3.4.0.2-4.el6 6 2015-09-23 Dep of osg-build (via mock) 2015-10-14 python-requests-1.1.0-4.el6 6 2015-09-23 Dep of osg-build (via mock) 2015-10-14 python-urllib3-1.5-7.el6 6 2015-09-23 Dep of osg-build (via mock) 2015-10-14","title":"Table of epelrescue RPMs"},{"location":"software/resurrecting-epel-packages/#finding-out-if-a-package-is-still-needed-in-epelrescue","text":"Set $pkg to the name of a package to test (e.g. python-six ), and $rhel set to the RHEL version you're testing for (e.g. 5 , 6 , or 7 ). Using Carl's centos-srpms , scientific-srpms , slf-srpms scripts: for script in centos-srpms scientific-srpms slf-srpms; do echo -n $script \": \" $script -$rhel $pkg | grep . || echo none done A dry run of removing the package: osg-koji untag-pkg -n --all epelrescue-el$rhel $pkg Remove the -n when the output of that looks fine.","title":"Finding out if a package is still needed in epelrescue"},{"location":"software/rpm-development-guide/","text":"RPM Development Guide \u00b6 This page documents technical guidelines and details about RPM development for the OSG Software Stack. The procedures, conventions, and policies defined within are used by the OSG Software Team, and are recommended to all external developers who wish to contribute to the OSG Software Stack. Principles \u00b6 The principles below guide the design and implementation of the technical details that follow. Packages should adhere to community standards (e.g., Fedora Packaging Guidelines when possible, and significant deviations must be documented Every released package must be reproducible from data stored in our system Source code for software should be clearly separable from the packaging of that software Upstream source files (which should not be modified) should be clearly separated from files owned by the OSG Software Team Building source and binary packages from our system should be easy and efficient External developers should have a clear and effective system for developing and contributing packages We should use standard tools from relevant packaging and development communities when appropriate Contributing Packages \u00b6 We encourage all interested parties to contribute to OSG Software, and all the infrastructure described on this page should be friendly to external contributors. To participate in the packaging community: You must subscribe to the software-discuss@opensciencegrid.org email list. To create and edit packages: Obtain access to VDT SVN . To upload new source tarballs: You must have a cs.wisc.edu account with write access to the VDT source tarball directory. Email the osg-software list and request permission. To build using the OSG's Koji build system: You must have a valid grid certificate and a Koji account. Email the osg-software list with your cert's DN and request permission. Development Infrastructure \u00b6 This section documents most of what a developer needs to know about our RPM infrastructure: Upstream Source Cache \u2014 a filesystem scheme for caching upstream source files Revision Control System \u2014 where to get and store development files, and how they are organized Build System \u2014 how to build packages from the revision control system Yum Repository \u2014 the location and organization of our Yum repository, and how to promote packages through it Upstream Source Cache \u00b6 One of our principles (every released package must be reproducible from data stored in our system) creates a potential issue: If we keep all historical source data, especially upstream files like source tarballs and source RPMs, in our revision control system, we may face large checkouts and consequently long checkout and update times. Our solution is to cache all upstream source files in a separate filesystem area, retaining historical files indefinitely. To avoid tainting upstream files, our policy is to leave them unmodified after download. Locating Files in the Cache \u00b6 Upstream source files are stored in the filesystem as follows: /p/vdt/public/html/upstream/<PACKAGE>/<VERSION>/<FILE> where: Symbol Definition Example <PACKAGE> Upstream name of the source package, or some widely accepted form thereof ndt <VERSION> Upstream version string used to identify the release 3.6.4 <FILE> Upstream filename itself ndt-3.6.4.tar.gz The authoritative cache is the VDT webserver, which is fully backed up. The Koji build system uses this cache. Upstream source files are referenced from within the revision control system; see below for details. You will need to know the SHA1 checksum of any files you use from the cache. Do get it, do: $ sha1sum /p/vdt/public/html/upstream/<PACKAGE>/<VERSION>/<FILE> Contributing Upstream Files \u00b6 You must make sure that any new upstream source files are cached on the VDT webserver before building the package via Koji. You have two options: If you have access to a UW\u2013Madison CSL machine, you can scp the source files directly into the AFS locations using that machine If you do not have such access, write to the osg-software list to find someone who will post the files for you Git/GitHub Hosted Upstream Files \u00b6 It is also possible to pull sources and spec files from remote Git or GitHub repos instead of our source cache. See the upstream dir info for more information. Revision Control System \u00b6 All packages that the OSG Software Team releases are checked into our Subversion repository. Subversion Access \u00b6 Our Subversion repository is located at: https://vdt.cs.wisc.edu/svn Procedure for offsite users obtaining access to Subversion Or, from a UW\u2013Madison Computer Sciences machine: file:///p/condor/workspaces/vdt/svn The current SVN directory housing our native package work is $SVN/native/redhat (where $SVN is one of the ways of accessing our SVN repository above). For example, to check out the current package repository via HTTPS, do: [you@host]$ svn co https://vdt.cs.wisc.edu/svn/native/redhat OSG-Owned Software \u00b6 OSG-owned software goes into GitHub under the opensciencegrid organization. Files are organized as the developer sees fit. It is strongly recommended that each software package include a top-level Makefile with at least the following targets: Symbol Purpose install Install the software into final FHS locations rooted at DESTDIR dist Create a distribution source tarball (in the current section directory) for a release upstream Install the distribution source tarball into the upstream source cache Packaging Top-Level Directory Organization \u00b6 The top levels of our Subversion directory hierarchy for packaging are as follows: native/redhat/<SECTION>/<PACKAGE> where: Symbol Definition Example <SECTION> Development section Standard Subversion sections like trunk and branches/* <PACKAGE> Our standardized name for a source package ndt Package Directory Organization \u00b6 Within a source package directory, the following files (detailed in separate sections below) may exist: README text file package notes, by and for developers upstream/ directory references to the upstream source cache and other kinds of upstream files osg/ directory overrides and patches of upstream files, plus new files, which contribute to the final OSG source package README \u00b6 This is a free-form text file for developers to leave notes about the package. Please document anything interesting about how you procured the upstream source, the reasons for the modifications you made, or anything else people might need to know in order to maintain the package in the future. Please document the why , not just the what . upstream \u00b6 Within the per-package directories of the revision control system, there must be a way to refer to cached files. This is done with small text files that (a) are named consistently, and (b) contain the location of the referenced file as its contents. A reference file is named: <DESCRIPTION>.<TYPE>.source where: Symbol Definition Example <DESCRIPTION> Descriptive label of the source of the referenced file developer , epel , emi <TYPE> Type of referenced file tarball , srpm and contain references to cached files, Git repos, and comments. which start with # and continue until the end of the line. It is useful to add the source of the upstream file into a comment. Cached files \u00b6 To reference files in the upstream source cache, use the upstream source cache path defined above, without the prefix component, followed by the sha1sum of the file: <PACKAGE>/<VERSION>/<FILE> sha1sum=<SHA1SUM> Obtain the sha1sum by running the sha1sum command with the source file as an argument, i.e. $ sha1sum /p/vdt/public/html/upstream/<PACKAGE>/<VERSION>/<FILE> Note This feature requires OSG-Build 1.14.0 or later. Example The reference file for globus-common 's source tarball is named epel.srpm.source and contains: globus-common/16.4/globus-common-16.4-1.el6.src.rpm sha1sum=134478c56c2437c335c20636831f794b66290bec # Downloaded from 'http://dl.fedoraproject.org/pub/epel/6/SRPMS/globus-common-16.4-1.el6.src.rpm' GitHub repos \u00b6 Warning OSG software policy requires that all Git and GitHub repos used for building software have mirrors at the UW. Many software repos under the opensciencegrid GitHub organization are already mirrored. If you are uncertain, or have a new project that you want mirrored, send email to technology-team@opensciencegrid.org . Note See also advanced features for Git and GitHub repos . To reference tags in GitHub repos, use the following syntax (all on one line): type=github repo=<OWNER>/<PROJECT> tag=<TAG> hash=<HASH> where: Symbol Definition Example <OWNER> Owner of the GitHub repo opensciencegrid <PROJECT> Name of the project osg-build <TAG> Git tag to use v1.12.2 <HASH> Full 40-char Git hash of the tag cff50ffe812282552cedae81f3809d3cf7087a3e Note The tarball will be called <PROJECT>-<VERSION>.tar.gz where <VERSION> is <TAG> without the v prefix (if there is one). Example You can refer to the 1.12.2 release of osg-build with this line: type=github repo=opensciencegrid/osg-build tag=v1.12.2 hash=cff50ffe812282552cedae81f3809d3cf7087a3e This results in a tarball named osg-build-1.12.2.tar.gz . In addition, if the repository contains a file called rpm/<PROJECT>.spec , it will be used as the spec file for the build (unless overridden in the osg directory). Git repos \u00b6 Warning OSG software policy requires that all Git and GitHub repos used for building software have mirrors at the UW. Many software repos under the opensciencegrid GitHub organization are already mirrored. If you are uncertain, or have a new project that you want mirrored, send email to technology-team@opensciencegrid.org . Note You can use a shorter syntax for GitHub repos -- see above. See also advanced features for Git and GitHub repos . To reference tags in Git repos, use the following syntax (all on one line): type=git url=<URL> name=<NAME> tag=<TAG> hash=<HASH> where: Symbol Definition Example <URL> Location of the Git repo https://github.com/opensciencegrid/osg-build.git <NAME> Name of the software (optional) osg-build <TAG> Git tag to use v1.11.2 <HASH> Full 40-char Git hash of the tag 5bcf48c442d21b1e8c93a468d884f84122f7cc9e Note <NAME> is optional; if not present, OSG-Build will use the last component of the URL, without the .git suffix. The tarball will be called <NAME>-<VERSION>.tar.gz where <VERSION> is <TAG> without the v prefix (if there is one). Example The reference file for osg-build 's repo is named osg.github.source and contains: type=git url=https://github.com/opensciencegrid/osg-build.git name=osg-build tag=v1.11.2 hash=5bcf48c442d21b1e8c93a468d884f84122f7cc9e This results in a tarball named osg-build-1.11.2.tar.gz . In addition, if the repository contains a file called rpm/<NAME>.spec , it will be used as the spec file for the build (unless overridden in the osg directory). Typical workflow when building out of GitHub repos \u00b6 Fork the repository of the package that you would like to build Create a new branch in your fork Make, commit, and push changes to your new branch In your fork, tag the commit that you would like to build In the upstream/osg.github.source , change the repo to point at your fork and tag Attempt a scratch build If the build fails, remove the tag and repeat steps 3-6 Submit a PR to merge changes upstream Tag the final version on the upstream fork Build the version that will go through the normal software cycle Note Packaging-only changes should be tagged with a release number of the format v<version>-<release> , e.g. v3.4.23-2 Advanced features for Git and GitHub repos \u00b6 The following features make software development in Git and GitHub more convenient: Support for RPM release numbers in Git tags: If the tag for the software contains a dash, as in v1.12.2-1 , it is assumed that the text after the dash is the RPM release instead of the software version. The RPM release is not included in the tarball. That is, the project osg-build with the tag v1.12.2-1 will result in a tarball named osg-build-1.12.1.tar.gz , not osg-build-1.12.1-1.tar.gz . Can specify tarball name in the .source file: The new tarball attribute allows you to specify the name of the tarball and directory that the repo contents will be put into. The syntax is tarball=<NAME>.tar.gz . The extension must be .tar.gz , no other archive formats are supported. The directory inside the tarball will then be <NAME>/ . Can ignore hash mismatch (scratch and local builds only): For local builds (rpmbuild and mock tasks) and Koji scratch builds, a hash mismatch will result in a warning. Non-scratch Koji builds will still consider it an error. Can use a branch as the tag: The tag attribute can refer to a branch instead of a tag, e.g. tag=master . Combining the last two features can really speed up package development. For example, you can use this to make scratch builds of the current master: type=github repo=<OWNER>/<PROJECT> tarball=<PROJECT>-<VERSION>.tar.gz tag=master hash=0 This might also be useful as part of a continuous integration scheme (e.g. Travis-CI). osg \u00b6 The osg directory contains files that are owned by the OSG Software Team and that are used to create the final, released source package. It may contain a variety of development files: An RPM .spec file, which overrides any spec file from a referenced source Patch ( .patch ) or replacement files, which override any same-named file from the top-level directory of a referenced source Other files, which must be explicitly placed into the package by the spec file Generated directories \u00b6 The following directories may be generated by our build tool, OSG-Build . They are not under revision control. _upstream_srpm_contents/ expanded contents of a cached upstream source package _upstream_tarball_contents/ expanded contents of all cached upstream source tarballs _final_srpm_contents/ the final contents of the OSG source package _build_results/ OSG source and binary packages resulting from a build _quilt/ expanded, patched contents of the upstream sources, as generated by the quilt tool _upstream_srpm_contents \u00b6 The _upstream_srpm_contents directory contains the files that are part of the upstream source package. It is a volatile record of the upstream source for developer use. _upstream_tarball_contents \u00b6 The _upstream_tarball_contents directory contains the files that are part of the upstream source tarballs. It is generated by the package build tool if the --full-extract option is passed. It is not used for anything by the build tool, but meant as a convenience to allow the developer to look inside the upstream sources (for making patches, etc.). _final_srpm_contents \u00b6 The _final_srpm_contents directory contains the final files that are part of the released source package. It is a volatile record of a build for developer use. _build_results \u00b6 The _build_results directory contains the source and binary RPMs that are produced by a local build. It is a volatile record of a build for developer use. _quilt \u00b6 The _quilt directory contains the unpacked sources after they have been patched using the quilt utility. This allows easier patch development. Packaging Organization Examples \u00b6 Use Case 1: Packaging an Upstream Source Tarball \u00b6 When the OSG Software Team packages an upstream source tarball, for which there is no existing package, the source tarball is referenced with a .source file and we provide a spec file and, if necessary, patches. For example, RSV is provided as a source tarball only. Its package directory contains: rsv/ osg/ rsv.spec upstream/ developer.tarball.source Use Case 2: Passing Through a Source RPM \u00b6 When the OSG Software Team simply provides a copy of an existing source RPM, it is referenced with a .source file and that is it. For example, we do not modify the globus-common source RPM from EPEL. Its package directory contains: globus-common/ upstream/ epel.srpm.source Use Case 3: Modifying a Source RPM \u00b6 When the OSG Software Team modifies an existing source RPM, it is referenced with a .source file and then all changes to the upstream source are contained in the osg directory. For example, we use this mechanism for the globus-ftp-client package, originally obtained from EPEL. Its package directory contains: globus-ftp-client/ osg/ globus-ftp-client.spec 1853-ssh-bin.patch upstream/ epel.srpm.source Build Process \u00b6 All necessary information to create the package will be committed to the VDT source code repository (see below) The OSG build tools will take those files, create a source RPM, and submit it to our Koji build system Developers may use rpmbuild and mock for faster iterative development before submitting the package to Koji. osg-build may be used as a wrapper script around rpmbuild and mock . OSG Software Repository \u00b6 OSG Operations maintains the Yum repositories that contain our source and binary RPMs at https://repo.opensciencegrid.org/osg/ and are mirrored at other institutions as well. Release Levels \u00b6 Every package is classified into a release level based on the amount of testing it has undergone and our confidence in its stability. When a package is first built, it goes into the lowest level ( osg-development ). The members of the OSG Software and Release teams may promote packages through the release levels, as per our Release Policy page . Packaging Conventions \u00b6 In addition to adhering to the Fedora Packaging Guidelines (FPG), we have a few rules and guidelines of our own: When we pass-through an RPM and make any changes to it (so it has an updated package number), we construct the version-release as follows: The version of the original RPM remains unchanged The release is composed of three parts: ORIGINALRELEASE.OSGRELEASE We add a distro tag based on the OSG major version and OS major version, e.g. \"osg33.el6\". (Use %{?dist} in the Release field) Example: We copy package foobar-3.0.5-1 from somewhere. We need to patch it, so the full name-version-release (NVR) for OSG 3.3 on EL 6 becomes foobar-3.0.5-1.1.osg33.el6 Note that we added \".1.osg33.el6\" to the release number. If we update our packaging (but still base on foobar-3.0.5-1), we change to \".2.osg33.el6\". In the spec file, this would look like: Release : 1.2 %{?dist} Packaging for Multiple Distro Versions \u00b6 Conditionalizing spec files \u00b6 Some packages may need different build behavior between major versions of the OS; RPM conditional statements will be used to handle this. The following macros are defined: Name Value (EL6) Value (EL7) %rhel 6 7 %el6 1 undefined or 0 %el7 undefined or 0 1 Here's how to use them: %if 0%{?el6} # this code will be executed on EL 6 only %endif %if 0%{?el7} # this code will be executed on EL 7 only %endif %if 0%{?rhel} >= 7 # this code will be executed on EL 7 and newer %endif (There does not seem to be an %elseif ). The syntax %{?el6} expands to the value of the %el6 macro if it is defined, and to the empty string if not; the 0 is there to keep the condition from being empty in the %if statement if the macro is not defined. Renaming or Removing Packages \u00b6 Occasionally we want to cause a package to be removed on update, or replaced by a package with a different name. For the most part, the Fedora Packaging Guidelines page on renames shows how to do that. The exception is that we do not have the equivalent of a fedora-obsolete-packages package, so in order to force the removal of an entire package (not a subpackage), we have to dummy out the package instead -- see below. (This should be a rare situation.) Note After doing a rename or a removal, you must update all the packages and subpackages that require the package being removed or renamed, and change or remove the requirements as appropriate. To find packages that require the old package at run time, set up a host with the OSG repos and install the yum-utils RPM. Then, run: $ repoquery --plugins --whatrequires $OLDPACKAGE To find packages that require the old package at build time, install osg-build , and do this from a checkout of the OSG repos: $ osg-build prebuild * $ for srpm in */_final_srpm_contents/*.src.rpm ; do \\ echo \"***** $srpm *****\"; \\ rpm -q --requires -p $srpm | grep -w $OLDPACKAGE; \\ done (examine the output to avoid false matches) Note Carefully test these changes, including places where the old package may be brought in indirectly. Dummying out a package \u00b6 In order to forcibly remove an entire package with no replacement, you have to replace the package with one that does nothing. This is because there is no package that will \"obsolete\" the old package. Do the following for the main package and any subpackages it may have: Change the Summary to \"Dummy package\" Change the %description to: This is an empty package created for $REASONS It may safely be removed. Where $REASONS is a description of why you need this dummy package Remove all Requires and Obsoletes lines Do not remove Provides lines Remove %pre and %post scriptlets Unless there is a good reason not to, remove %preun and %postun scriptlets Empty the %files section","title":"RPM Development Guide"},{"location":"software/rpm-development-guide/#rpm-development-guide","text":"This page documents technical guidelines and details about RPM development for the OSG Software Stack. The procedures, conventions, and policies defined within are used by the OSG Software Team, and are recommended to all external developers who wish to contribute to the OSG Software Stack.","title":"RPM Development Guide"},{"location":"software/rpm-development-guide/#principles","text":"The principles below guide the design and implementation of the technical details that follow. Packages should adhere to community standards (e.g., Fedora Packaging Guidelines when possible, and significant deviations must be documented Every released package must be reproducible from data stored in our system Source code for software should be clearly separable from the packaging of that software Upstream source files (which should not be modified) should be clearly separated from files owned by the OSG Software Team Building source and binary packages from our system should be easy and efficient External developers should have a clear and effective system for developing and contributing packages We should use standard tools from relevant packaging and development communities when appropriate","title":"Principles"},{"location":"software/rpm-development-guide/#contributing-packages","text":"We encourage all interested parties to contribute to OSG Software, and all the infrastructure described on this page should be friendly to external contributors. To participate in the packaging community: You must subscribe to the software-discuss@opensciencegrid.org email list. To create and edit packages: Obtain access to VDT SVN . To upload new source tarballs: You must have a cs.wisc.edu account with write access to the VDT source tarball directory. Email the osg-software list and request permission. To build using the OSG's Koji build system: You must have a valid grid certificate and a Koji account. Email the osg-software list with your cert's DN and request permission.","title":"Contributing Packages"},{"location":"software/rpm-development-guide/#development-infrastructure","text":"This section documents most of what a developer needs to know about our RPM infrastructure: Upstream Source Cache \u2014 a filesystem scheme for caching upstream source files Revision Control System \u2014 where to get and store development files, and how they are organized Build System \u2014 how to build packages from the revision control system Yum Repository \u2014 the location and organization of our Yum repository, and how to promote packages through it","title":"Development Infrastructure"},{"location":"software/rpm-development-guide/#upstream-source-cache","text":"One of our principles (every released package must be reproducible from data stored in our system) creates a potential issue: If we keep all historical source data, especially upstream files like source tarballs and source RPMs, in our revision control system, we may face large checkouts and consequently long checkout and update times. Our solution is to cache all upstream source files in a separate filesystem area, retaining historical files indefinitely. To avoid tainting upstream files, our policy is to leave them unmodified after download.","title":"Upstream Source Cache"},{"location":"software/rpm-development-guide/#locating-files-in-the-cache","text":"Upstream source files are stored in the filesystem as follows: /p/vdt/public/html/upstream/<PACKAGE>/<VERSION>/<FILE> where: Symbol Definition Example <PACKAGE> Upstream name of the source package, or some widely accepted form thereof ndt <VERSION> Upstream version string used to identify the release 3.6.4 <FILE> Upstream filename itself ndt-3.6.4.tar.gz The authoritative cache is the VDT webserver, which is fully backed up. The Koji build system uses this cache. Upstream source files are referenced from within the revision control system; see below for details. You will need to know the SHA1 checksum of any files you use from the cache. Do get it, do: $ sha1sum /p/vdt/public/html/upstream/<PACKAGE>/<VERSION>/<FILE>","title":"Locating Files in the Cache"},{"location":"software/rpm-development-guide/#contributing-upstream-files","text":"You must make sure that any new upstream source files are cached on the VDT webserver before building the package via Koji. You have two options: If you have access to a UW\u2013Madison CSL machine, you can scp the source files directly into the AFS locations using that machine If you do not have such access, write to the osg-software list to find someone who will post the files for you","title":"Contributing Upstream Files"},{"location":"software/rpm-development-guide/#gitgithub-hosted-upstream-files","text":"It is also possible to pull sources and spec files from remote Git or GitHub repos instead of our source cache. See the upstream dir info for more information.","title":"Git/GitHub Hosted Upstream Files"},{"location":"software/rpm-development-guide/#revision-control-system","text":"All packages that the OSG Software Team releases are checked into our Subversion repository.","title":"Revision Control System"},{"location":"software/rpm-development-guide/#subversion-access","text":"Our Subversion repository is located at: https://vdt.cs.wisc.edu/svn Procedure for offsite users obtaining access to Subversion Or, from a UW\u2013Madison Computer Sciences machine: file:///p/condor/workspaces/vdt/svn The current SVN directory housing our native package work is $SVN/native/redhat (where $SVN is one of the ways of accessing our SVN repository above). For example, to check out the current package repository via HTTPS, do: [you@host]$ svn co https://vdt.cs.wisc.edu/svn/native/redhat","title":"Subversion Access"},{"location":"software/rpm-development-guide/#osg-owned-software","text":"OSG-owned software goes into GitHub under the opensciencegrid organization. Files are organized as the developer sees fit. It is strongly recommended that each software package include a top-level Makefile with at least the following targets: Symbol Purpose install Install the software into final FHS locations rooted at DESTDIR dist Create a distribution source tarball (in the current section directory) for a release upstream Install the distribution source tarball into the upstream source cache","title":"OSG-Owned Software"},{"location":"software/rpm-development-guide/#packaging-top-level-directory-organization","text":"The top levels of our Subversion directory hierarchy for packaging are as follows: native/redhat/<SECTION>/<PACKAGE> where: Symbol Definition Example <SECTION> Development section Standard Subversion sections like trunk and branches/* <PACKAGE> Our standardized name for a source package ndt","title":"Packaging Top-Level Directory Organization"},{"location":"software/rpm-development-guide/#package-directory-organization","text":"Within a source package directory, the following files (detailed in separate sections below) may exist: README text file package notes, by and for developers upstream/ directory references to the upstream source cache and other kinds of upstream files osg/ directory overrides and patches of upstream files, plus new files, which contribute to the final OSG source package","title":"Package Directory Organization"},{"location":"software/rpm-development-guide/#readme","text":"This is a free-form text file for developers to leave notes about the package. Please document anything interesting about how you procured the upstream source, the reasons for the modifications you made, or anything else people might need to know in order to maintain the package in the future. Please document the why , not just the what .","title":"README"},{"location":"software/rpm-development-guide/#upstream","text":"Within the per-package directories of the revision control system, there must be a way to refer to cached files. This is done with small text files that (a) are named consistently, and (b) contain the location of the referenced file as its contents. A reference file is named: <DESCRIPTION>.<TYPE>.source where: Symbol Definition Example <DESCRIPTION> Descriptive label of the source of the referenced file developer , epel , emi <TYPE> Type of referenced file tarball , srpm and contain references to cached files, Git repos, and comments. which start with # and continue until the end of the line. It is useful to add the source of the upstream file into a comment.","title":"upstream"},{"location":"software/rpm-development-guide/#cached-files","text":"To reference files in the upstream source cache, use the upstream source cache path defined above, without the prefix component, followed by the sha1sum of the file: <PACKAGE>/<VERSION>/<FILE> sha1sum=<SHA1SUM> Obtain the sha1sum by running the sha1sum command with the source file as an argument, i.e. $ sha1sum /p/vdt/public/html/upstream/<PACKAGE>/<VERSION>/<FILE> Note This feature requires OSG-Build 1.14.0 or later. Example The reference file for globus-common 's source tarball is named epel.srpm.source and contains: globus-common/16.4/globus-common-16.4-1.el6.src.rpm sha1sum=134478c56c2437c335c20636831f794b66290bec # Downloaded from 'http://dl.fedoraproject.org/pub/epel/6/SRPMS/globus-common-16.4-1.el6.src.rpm'","title":"Cached files"},{"location":"software/rpm-development-guide/#github-repos","text":"Warning OSG software policy requires that all Git and GitHub repos used for building software have mirrors at the UW. Many software repos under the opensciencegrid GitHub organization are already mirrored. If you are uncertain, or have a new project that you want mirrored, send email to technology-team@opensciencegrid.org . Note See also advanced features for Git and GitHub repos . To reference tags in GitHub repos, use the following syntax (all on one line): type=github repo=<OWNER>/<PROJECT> tag=<TAG> hash=<HASH> where: Symbol Definition Example <OWNER> Owner of the GitHub repo opensciencegrid <PROJECT> Name of the project osg-build <TAG> Git tag to use v1.12.2 <HASH> Full 40-char Git hash of the tag cff50ffe812282552cedae81f3809d3cf7087a3e Note The tarball will be called <PROJECT>-<VERSION>.tar.gz where <VERSION> is <TAG> without the v prefix (if there is one). Example You can refer to the 1.12.2 release of osg-build with this line: type=github repo=opensciencegrid/osg-build tag=v1.12.2 hash=cff50ffe812282552cedae81f3809d3cf7087a3e This results in a tarball named osg-build-1.12.2.tar.gz . In addition, if the repository contains a file called rpm/<PROJECT>.spec , it will be used as the spec file for the build (unless overridden in the osg directory).","title":"GitHub repos"},{"location":"software/rpm-development-guide/#git-repos","text":"Warning OSG software policy requires that all Git and GitHub repos used for building software have mirrors at the UW. Many software repos under the opensciencegrid GitHub organization are already mirrored. If you are uncertain, or have a new project that you want mirrored, send email to technology-team@opensciencegrid.org . Note You can use a shorter syntax for GitHub repos -- see above. See also advanced features for Git and GitHub repos . To reference tags in Git repos, use the following syntax (all on one line): type=git url=<URL> name=<NAME> tag=<TAG> hash=<HASH> where: Symbol Definition Example <URL> Location of the Git repo https://github.com/opensciencegrid/osg-build.git <NAME> Name of the software (optional) osg-build <TAG> Git tag to use v1.11.2 <HASH> Full 40-char Git hash of the tag 5bcf48c442d21b1e8c93a468d884f84122f7cc9e Note <NAME> is optional; if not present, OSG-Build will use the last component of the URL, without the .git suffix. The tarball will be called <NAME>-<VERSION>.tar.gz where <VERSION> is <TAG> without the v prefix (if there is one). Example The reference file for osg-build 's repo is named osg.github.source and contains: type=git url=https://github.com/opensciencegrid/osg-build.git name=osg-build tag=v1.11.2 hash=5bcf48c442d21b1e8c93a468d884f84122f7cc9e This results in a tarball named osg-build-1.11.2.tar.gz . In addition, if the repository contains a file called rpm/<NAME>.spec , it will be used as the spec file for the build (unless overridden in the osg directory).","title":"Git repos"},{"location":"software/rpm-development-guide/#typical-workflow-when-building-out-of-github-repos","text":"Fork the repository of the package that you would like to build Create a new branch in your fork Make, commit, and push changes to your new branch In your fork, tag the commit that you would like to build In the upstream/osg.github.source , change the repo to point at your fork and tag Attempt a scratch build If the build fails, remove the tag and repeat steps 3-6 Submit a PR to merge changes upstream Tag the final version on the upstream fork Build the version that will go through the normal software cycle Note Packaging-only changes should be tagged with a release number of the format v<version>-<release> , e.g. v3.4.23-2","title":"Typical workflow when building out of GitHub repos"},{"location":"software/rpm-development-guide/#advanced-features-for-git-and-github-repos","text":"The following features make software development in Git and GitHub more convenient: Support for RPM release numbers in Git tags: If the tag for the software contains a dash, as in v1.12.2-1 , it is assumed that the text after the dash is the RPM release instead of the software version. The RPM release is not included in the tarball. That is, the project osg-build with the tag v1.12.2-1 will result in a tarball named osg-build-1.12.1.tar.gz , not osg-build-1.12.1-1.tar.gz . Can specify tarball name in the .source file: The new tarball attribute allows you to specify the name of the tarball and directory that the repo contents will be put into. The syntax is tarball=<NAME>.tar.gz . The extension must be .tar.gz , no other archive formats are supported. The directory inside the tarball will then be <NAME>/ . Can ignore hash mismatch (scratch and local builds only): For local builds (rpmbuild and mock tasks) and Koji scratch builds, a hash mismatch will result in a warning. Non-scratch Koji builds will still consider it an error. Can use a branch as the tag: The tag attribute can refer to a branch instead of a tag, e.g. tag=master . Combining the last two features can really speed up package development. For example, you can use this to make scratch builds of the current master: type=github repo=<OWNER>/<PROJECT> tarball=<PROJECT>-<VERSION>.tar.gz tag=master hash=0 This might also be useful as part of a continuous integration scheme (e.g. Travis-CI).","title":"Advanced features for Git and GitHub repos"},{"location":"software/rpm-development-guide/#osg","text":"The osg directory contains files that are owned by the OSG Software Team and that are used to create the final, released source package. It may contain a variety of development files: An RPM .spec file, which overrides any spec file from a referenced source Patch ( .patch ) or replacement files, which override any same-named file from the top-level directory of a referenced source Other files, which must be explicitly placed into the package by the spec file","title":"osg"},{"location":"software/rpm-development-guide/#generated-directories","text":"The following directories may be generated by our build tool, OSG-Build . They are not under revision control. _upstream_srpm_contents/ expanded contents of a cached upstream source package _upstream_tarball_contents/ expanded contents of all cached upstream source tarballs _final_srpm_contents/ the final contents of the OSG source package _build_results/ OSG source and binary packages resulting from a build _quilt/ expanded, patched contents of the upstream sources, as generated by the quilt tool","title":"Generated directories"},{"location":"software/rpm-development-guide/#_upstream_srpm_contents","text":"The _upstream_srpm_contents directory contains the files that are part of the upstream source package. It is a volatile record of the upstream source for developer use.","title":"_upstream_srpm_contents"},{"location":"software/rpm-development-guide/#_upstream_tarball_contents","text":"The _upstream_tarball_contents directory contains the files that are part of the upstream source tarballs. It is generated by the package build tool if the --full-extract option is passed. It is not used for anything by the build tool, but meant as a convenience to allow the developer to look inside the upstream sources (for making patches, etc.).","title":"_upstream_tarball_contents"},{"location":"software/rpm-development-guide/#_final_srpm_contents","text":"The _final_srpm_contents directory contains the final files that are part of the released source package. It is a volatile record of a build for developer use.","title":"_final_srpm_contents"},{"location":"software/rpm-development-guide/#_build_results","text":"The _build_results directory contains the source and binary RPMs that are produced by a local build. It is a volatile record of a build for developer use.","title":"_build_results"},{"location":"software/rpm-development-guide/#_quilt","text":"The _quilt directory contains the unpacked sources after they have been patched using the quilt utility. This allows easier patch development.","title":"_quilt"},{"location":"software/rpm-development-guide/#packaging-organization-examples","text":"","title":"Packaging Organization Examples"},{"location":"software/rpm-development-guide/#use-case-1-packaging-an-upstream-source-tarball","text":"When the OSG Software Team packages an upstream source tarball, for which there is no existing package, the source tarball is referenced with a .source file and we provide a spec file and, if necessary, patches. For example, RSV is provided as a source tarball only. Its package directory contains: rsv/ osg/ rsv.spec upstream/ developer.tarball.source","title":"Use Case 1: Packaging an Upstream Source Tarball"},{"location":"software/rpm-development-guide/#use-case-2-passing-through-a-source-rpm","text":"When the OSG Software Team simply provides a copy of an existing source RPM, it is referenced with a .source file and that is it. For example, we do not modify the globus-common source RPM from EPEL. Its package directory contains: globus-common/ upstream/ epel.srpm.source","title":"Use Case 2: Passing Through a Source RPM"},{"location":"software/rpm-development-guide/#use-case-3-modifying-a-source-rpm","text":"When the OSG Software Team modifies an existing source RPM, it is referenced with a .source file and then all changes to the upstream source are contained in the osg directory. For example, we use this mechanism for the globus-ftp-client package, originally obtained from EPEL. Its package directory contains: globus-ftp-client/ osg/ globus-ftp-client.spec 1853-ssh-bin.patch upstream/ epel.srpm.source","title":"Use Case 3: Modifying a Source RPM"},{"location":"software/rpm-development-guide/#build-process","text":"All necessary information to create the package will be committed to the VDT source code repository (see below) The OSG build tools will take those files, create a source RPM, and submit it to our Koji build system Developers may use rpmbuild and mock for faster iterative development before submitting the package to Koji. osg-build may be used as a wrapper script around rpmbuild and mock .","title":"Build Process"},{"location":"software/rpm-development-guide/#osg-software-repository","text":"OSG Operations maintains the Yum repositories that contain our source and binary RPMs at https://repo.opensciencegrid.org/osg/ and are mirrored at other institutions as well.","title":"OSG Software Repository"},{"location":"software/rpm-development-guide/#release-levels","text":"Every package is classified into a release level based on the amount of testing it has undergone and our confidence in its stability. When a package is first built, it goes into the lowest level ( osg-development ). The members of the OSG Software and Release teams may promote packages through the release levels, as per our Release Policy page .","title":"Release Levels"},{"location":"software/rpm-development-guide/#packaging-conventions","text":"In addition to adhering to the Fedora Packaging Guidelines (FPG), we have a few rules and guidelines of our own: When we pass-through an RPM and make any changes to it (so it has an updated package number), we construct the version-release as follows: The version of the original RPM remains unchanged The release is composed of three parts: ORIGINALRELEASE.OSGRELEASE We add a distro tag based on the OSG major version and OS major version, e.g. \"osg33.el6\". (Use %{?dist} in the Release field) Example: We copy package foobar-3.0.5-1 from somewhere. We need to patch it, so the full name-version-release (NVR) for OSG 3.3 on EL 6 becomes foobar-3.0.5-1.1.osg33.el6 Note that we added \".1.osg33.el6\" to the release number. If we update our packaging (but still base on foobar-3.0.5-1), we change to \".2.osg33.el6\". In the spec file, this would look like: Release : 1.2 %{?dist}","title":"Packaging Conventions"},{"location":"software/rpm-development-guide/#packaging-for-multiple-distro-versions","text":"","title":"Packaging for Multiple Distro Versions"},{"location":"software/rpm-development-guide/#conditionalizing-spec-files","text":"Some packages may need different build behavior between major versions of the OS; RPM conditional statements will be used to handle this. The following macros are defined: Name Value (EL6) Value (EL7) %rhel 6 7 %el6 1 undefined or 0 %el7 undefined or 0 1 Here's how to use them: %if 0%{?el6} # this code will be executed on EL 6 only %endif %if 0%{?el7} # this code will be executed on EL 7 only %endif %if 0%{?rhel} >= 7 # this code will be executed on EL 7 and newer %endif (There does not seem to be an %elseif ). The syntax %{?el6} expands to the value of the %el6 macro if it is defined, and to the empty string if not; the 0 is there to keep the condition from being empty in the %if statement if the macro is not defined.","title":"Conditionalizing spec files"},{"location":"software/rpm-development-guide/#renaming-or-removing-packages","text":"Occasionally we want to cause a package to be removed on update, or replaced by a package with a different name. For the most part, the Fedora Packaging Guidelines page on renames shows how to do that. The exception is that we do not have the equivalent of a fedora-obsolete-packages package, so in order to force the removal of an entire package (not a subpackage), we have to dummy out the package instead -- see below. (This should be a rare situation.) Note After doing a rename or a removal, you must update all the packages and subpackages that require the package being removed or renamed, and change or remove the requirements as appropriate. To find packages that require the old package at run time, set up a host with the OSG repos and install the yum-utils RPM. Then, run: $ repoquery --plugins --whatrequires $OLDPACKAGE To find packages that require the old package at build time, install osg-build , and do this from a checkout of the OSG repos: $ osg-build prebuild * $ for srpm in */_final_srpm_contents/*.src.rpm ; do \\ echo \"***** $srpm *****\"; \\ rpm -q --requires -p $srpm | grep -w $OLDPACKAGE; \\ done (examine the output to avoid false matches) Note Carefully test these changes, including places where the old package may be brought in indirectly.","title":"Renaming or Removing Packages"},{"location":"software/rpm-development-guide/#dummying-out-a-package","text":"In order to forcibly remove an entire package with no replacement, you have to replace the package with one that does nothing. This is because there is no package that will \"obsolete\" the old package. Do the following for the main package and any subpackages it may have: Change the Summary to \"Dummy package\" Change the %description to: This is an empty package created for $REASONS It may safely be removed. Where $REASONS is a description of why you need this dummy package Remove all Requires and Obsoletes lines Do not remove Provides lines Remove %pre and %post scriptlets Unless there is a good reason not to, remove %preun and %postun scriptlets Empty the %files section","title":"Dummying out a package"},{"location":"software/upcoming-to-main/","text":"Promoting Packages from Upcoming to Main \u00b6 Sometimes we move packages from Upcoming to the Main repositories in the middle of a release series. Once the Release Manager has given tentative approval for such a move: If needed, move the software from upcoming to trunk and release using the usual process: Merge changes to the package in SVN from branches/upcoming to trunk. Build the package from trunk. Follow the normal process to prepare a build for release (including development testing, promotion, etc.). On release day, when the package has been released in the Main production repository, clean up the package from the upcoming repos: Untag from all upcoming repos the version of the package corresponding to the version that was released in main. (Do NOT untag from the osg-upcoming-elN-release-X.Y.Z tags) Also, untag all equal or lesser NVRs (minus the dist tag) from all upcoming repos. If you do not have the privileges to untag from upcoming-release, someone on the Release Team can help. (These steps are necessary to make sure Koji builds can't mistakenly use an older build from the upcoming repos). Unless there's a newer build in branches/upcoming than what was released, remove the package directory from branches/upcoming.","title":"Upcoming to Main"},{"location":"software/upcoming-to-main/#promoting-packages-from-upcoming-to-main","text":"Sometimes we move packages from Upcoming to the Main repositories in the middle of a release series. Once the Release Manager has given tentative approval for such a move: If needed, move the software from upcoming to trunk and release using the usual process: Merge changes to the package in SVN from branches/upcoming to trunk. Build the package from trunk. Follow the normal process to prepare a build for release (including development testing, promotion, etc.). On release day, when the package has been released in the Main production repository, clean up the package from the upcoming repos: Untag from all upcoming repos the version of the package corresponding to the version that was released in main. (Do NOT untag from the osg-upcoming-elN-release-X.Y.Z tags) Also, untag all equal or lesser NVRs (minus the dist tag) from all upcoming repos. If you do not have the privileges to untag from upcoming-release, someone on the Release Team can help. (These steps are necessary to make sure Koji builds can't mistakenly use an older build from the upcoming repos). Unless there's a newer build in branches/upcoming than what was released, remove the package directory from branches/upcoming.","title":"Promoting Packages from Upcoming to Main"}]}